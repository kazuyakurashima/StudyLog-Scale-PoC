(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const l of s)if(l.type==="childList")for(const i of l.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&n(i)}).observe(document,{childList:!0,subtree:!0});function a(s){const l={};return s.integrity&&(l.integrity=s.integrity),s.referrerPolicy&&(l.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?l.credentials="include":s.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function n(s){if(s.ep)return;s.ep=!0;const l=a(s);fetch(s.href,l)}})();var st=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Rd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function l0(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var a=function n(){return this instanceof n?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(n){var s=Object.getOwnPropertyDescriptor(e,n);Object.defineProperty(a,n,s.get?s:{enumerable:!0,get:function(){return e[n]}})}),a}var Ud={exports:{}},fi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0=Symbol.for("react.transitional.element"),r0=Symbol.for("react.fragment");function Md(e,t,a){var n=null;if(a!==void 0&&(n=""+a),t.key!==void 0&&(n=""+t.key),"key"in t){a={};for(var s in t)s!=="key"&&(a[s]=t[s])}else a=t;return t=a.ref,{$$typeof:i0,type:e,key:n,ref:t!==void 0?t:null,props:a}}fi.Fragment=r0;fi.jsx=Md;fi.jsxs=Md;Ud.exports=fi;var c=Ud.exports,kd={exports:{}},H={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Mu=Symbol.for("react.transitional.element"),u0=Symbol.for("react.portal"),c0=Symbol.for("react.fragment"),o0=Symbol.for("react.strict_mode"),d0=Symbol.for("react.profiler"),f0=Symbol.for("react.consumer"),h0=Symbol.for("react.context"),m0=Symbol.for("react.forward_ref"),g0=Symbol.for("react.suspense"),v0=Symbol.for("react.memo"),Cd=Symbol.for("react.lazy"),Hc=Symbol.iterator;function y0(e){return e===null||typeof e!="object"?null:(e=Hc&&e[Hc]||e["@@iterator"],typeof e=="function"?e:null)}var zd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},qd=Object.assign,$d={};function Cn(e,t,a){this.props=e,this.context=t,this.refs=$d,this.updater=a||zd}Cn.prototype.isReactComponent={};Cn.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cn.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bd(){}Bd.prototype=Cn.prototype;function ku(e,t,a){this.props=e,this.context=t,this.refs=$d,this.updater=a||zd}var Cu=ku.prototype=new Bd;Cu.constructor=ku;qd(Cu,Cn.prototype);Cu.isPureReactComponent=!0;var Lc=Array.isArray,le={H:null,A:null,T:null,S:null,V:null},Hd=Object.prototype.hasOwnProperty;function zu(e,t,a,n,s,l){return a=l.ref,{$$typeof:Mu,type:e,key:t,ref:a!==void 0?a:null,props:l}}function b0(e,t){return zu(e.type,t,void 0,void 0,void 0,e.props)}function qu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Mu}function p0(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var Gc=/\/+/g;function Hi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?p0(""+e.key):t.toString(36)}function Yc(){}function x0(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Yc,Yc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Pa(e,t,a,n,s){var l=typeof e;(l==="undefined"||l==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(l){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Mu:case u0:i=!0;break;case Cd:return i=e._init,Pa(i(e._payload),t,a,n,s)}}if(i)return s=s(e),i=n===""?"."+Hi(e,0):n,Lc(s)?(a="",i!=null&&(a=i.replace(Gc,"$&/")+"/"),Pa(s,t,a,"",function(o){return o})):s!=null&&(qu(s)&&(s=b0(s,a+(s.key==null||e&&e.key===s.key?"":(""+s.key).replace(Gc,"$&/")+"/")+i)),t.push(s)),1;i=0;var r=n===""?".":n+":";if(Lc(e))for(var u=0;u<e.length;u++)n=e[u],l=r+Hi(n,u),i+=Pa(n,t,a,l,s);else if(u=y0(e),typeof u=="function")for(e=u.call(e),u=0;!(n=e.next()).done;)n=n.value,l=r+Hi(n,u++),i+=Pa(n,t,a,l,s);else if(l==="object"){if(typeof e.then=="function")return Pa(x0(e),t,a,n,s);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function nl(e,t,a){if(e==null)return e;var n=[],s=0;return Pa(e,n,"","",function(l){return t.call(a,l,s++)}),n}function _0(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Qc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function S0(){}H.Children={map:nl,forEach:function(e,t,a){nl(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return nl(e,function(){t++}),t},toArray:function(e){return nl(e,function(t){return t})||[]},only:function(e){if(!qu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};H.Component=Cn;H.Fragment=c0;H.Profiler=d0;H.PureComponent=ku;H.StrictMode=o0;H.Suspense=g0;H.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=le;H.__COMPILER_RUNTIME={__proto__:null,c:function(e){return le.H.useMemoCache(e)}};H.cache=function(e){return function(){return e.apply(null,arguments)}};H.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var n=qd({},e.props),s=e.key,l=void 0;if(t!=null)for(i in t.ref!==void 0&&(l=void 0),t.key!==void 0&&(s=""+t.key),t)!Hd.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(n[i]=t[i]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var r=Array(i),u=0;u<i;u++)r[u]=arguments[u+2];n.children=r}return zu(e.type,s,void 0,void 0,l,n)};H.createContext=function(e){return e={$$typeof:h0,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:f0,_context:e},e};H.createElement=function(e,t,a){var n,s={},l=null;if(t!=null)for(n in t.key!==void 0&&(l=""+t.key),t)Hd.call(t,n)&&n!=="key"&&n!=="__self"&&n!=="__source"&&(s[n]=t[n]);var i=arguments.length-2;if(i===1)s.children=a;else if(1<i){for(var r=Array(i),u=0;u<i;u++)r[u]=arguments[u+2];s.children=r}if(e&&e.defaultProps)for(n in i=e.defaultProps,i)s[n]===void 0&&(s[n]=i[n]);return zu(e,l,void 0,void 0,null,s)};H.createRef=function(){return{current:null}};H.forwardRef=function(e){return{$$typeof:m0,render:e}};H.isValidElement=qu;H.lazy=function(e){return{$$typeof:Cd,_payload:{_status:-1,_result:e},_init:_0}};H.memo=function(e,t){return{$$typeof:v0,type:e,compare:t===void 0?null:t}};H.startTransition=function(e){var t=le.T,a={};le.T=a;try{var n=e(),s=le.S;s!==null&&s(a,n),typeof n=="object"&&n!==null&&typeof n.then=="function"&&n.then(S0,Qc)}catch(l){Qc(l)}finally{le.T=t}};H.unstable_useCacheRefresh=function(){return le.H.useCacheRefresh()};H.use=function(e){return le.H.use(e)};H.useActionState=function(e,t,a){return le.H.useActionState(e,t,a)};H.useCallback=function(e,t){return le.H.useCallback(e,t)};H.useContext=function(e){return le.H.useContext(e)};H.useDebugValue=function(){};H.useDeferredValue=function(e,t){return le.H.useDeferredValue(e,t)};H.useEffect=function(e,t,a){var n=le.H;if(typeof a=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return n.useEffect(e,t)};H.useId=function(){return le.H.useId()};H.useImperativeHandle=function(e,t,a){return le.H.useImperativeHandle(e,t,a)};H.useInsertionEffect=function(e,t){return le.H.useInsertionEffect(e,t)};H.useLayoutEffect=function(e,t){return le.H.useLayoutEffect(e,t)};H.useMemo=function(e,t){return le.H.useMemo(e,t)};H.useOptimistic=function(e,t){return le.H.useOptimistic(e,t)};H.useReducer=function(e,t,a){return le.H.useReducer(e,t,a)};H.useRef=function(e){return le.H.useRef(e)};H.useState=function(e){return le.H.useState(e)};H.useSyncExternalStore=function(e,t,a){return le.H.useSyncExternalStore(e,t,a)};H.useTransition=function(){return le.H.useTransition()};H.version="19.1.1";kd.exports=H;var z=kd.exports;const w0=Rd(z);var Ld={exports:{}},hi={},Gd={exports:{}},Yd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(w,M){var C=w.length;w.push(M);e:for(;0<C;){var V=C-1>>>1,W=w[V];if(0<s(W,M))w[V]=M,w[C]=W,C=V;else break e}}function a(w){return w.length===0?null:w[0]}function n(w){if(w.length===0)return null;var M=w[0],C=w.pop();if(C!==M){w[0]=C;e:for(var V=0,W=w.length,Ht=W>>>1;V<Ht;){var re=2*(V+1)-1,Qn=w[re],xt=re+1,Ga=w[xt];if(0>s(Qn,C))xt<W&&0>s(Ga,Qn)?(w[V]=Ga,w[xt]=C,V=xt):(w[V]=Qn,w[re]=C,V=re);else if(xt<W&&0>s(Ga,C))w[V]=Ga,w[xt]=C,V=xt;else break e}}return M}function s(w,M){var C=w.sortIndex-M.sortIndex;return C!==0?C:w.id-M.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var l=performance;e.unstable_now=function(){return l.now()}}else{var i=Date,r=i.now();e.unstable_now=function(){return i.now()-r}}var u=[],o=[],d=1,f=null,h=3,g=!1,T=!1,N=!1,j=!1,y=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function p(w){for(var M=a(o);M!==null;){if(M.callback===null)n(o);else if(M.startTime<=w)n(o),M.sortIndex=M.expirationTime,t(u,M);else break;M=a(o)}}function A(w){if(N=!1,p(w),!T)if(a(u)!==null)T=!0,D||(D=!0,x());else{var M=a(o);M!==null&&q(A,M.startTime-w)}}var D=!1,b=-1,S=5,k=-1;function O(){return j?!0:!(e.unstable_now()-k<S)}function U(){if(j=!1,D){var w=e.unstable_now();k=w;var M=!0;try{e:{T=!1,N&&(N=!1,m(b),b=-1),g=!0;var C=h;try{t:{for(p(w),f=a(u);f!==null&&!(f.expirationTime>w&&O());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var W=V(f.expirationTime<=w);if(w=e.unstable_now(),typeof W=="function"){f.callback=W,p(w),M=!0;break t}f===a(u)&&n(u),p(w)}else n(u);f=a(u)}if(f!==null)M=!0;else{var Ht=a(o);Ht!==null&&q(A,Ht.startTime-w),M=!1}}break e}finally{f=null,h=C,g=!1}M=void 0}}finally{M?x():D=!1}}}var x;if(typeof v=="function")x=function(){v(U)};else if(typeof MessageChannel<"u"){var _=new MessageChannel,R=_.port2;_.port1.onmessage=U,x=function(){R.postMessage(null)}}else x=function(){y(U,0)};function q(w,M){b=y(function(){w(e.unstable_now())},M)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(w){w.callback=null},e.unstable_forceFrameRate=function(w){0>w||125<w?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<w?Math.floor(1e3/w):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(w){switch(h){case 1:case 2:case 3:var M=3;break;default:M=h}var C=h;h=M;try{return w()}finally{h=C}},e.unstable_requestPaint=function(){j=!0},e.unstable_runWithPriority=function(w,M){switch(w){case 1:case 2:case 3:case 4:case 5:break;default:w=3}var C=h;h=w;try{return M()}finally{h=C}},e.unstable_scheduleCallback=function(w,M,C){var V=e.unstable_now();switch(typeof C=="object"&&C!==null?(C=C.delay,C=typeof C=="number"&&0<C?V+C:V):C=V,w){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=C+W,w={id:d++,callback:M,priorityLevel:w,startTime:C,expirationTime:W,sortIndex:-1},C>V?(w.sortIndex=C,t(o,w),a(u)===null&&w===a(o)&&(N?(m(b),b=-1):N=!0,q(A,C-V))):(w.sortIndex=W,t(u,w),T||g||(T=!0,D||(D=!0,x()))),w},e.unstable_shouldYield=O,e.unstable_wrapCallback=function(w){var M=h;return function(){var C=h;h=M;try{return w.apply(this,arguments)}finally{h=C}}}})(Yd);Gd.exports=Yd;var j0=Gd.exports,Qd={exports:{}},ke={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var T0=z;function Xd(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Gt(){}var Me={d:{f:Gt,r:function(){throw Error(Xd(522))},D:Gt,C:Gt,L:Gt,m:Gt,X:Gt,S:Gt,M:Gt},p:0,findDOMNode:null},N0=Symbol.for("react.portal");function E0(e,t,a){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:N0,key:n==null?null:""+n,children:e,containerInfo:t,implementation:a}}var is=T0.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function mi(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}ke.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Me;ke.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Xd(299));return E0(e,t,null,a)};ke.flushSync=function(e){var t=is.T,a=Me.p;try{if(is.T=null,Me.p=2,e)return e()}finally{is.T=t,Me.p=a,Me.d.f()}};ke.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Me.d.C(e,t))};ke.prefetchDNS=function(e){typeof e=="string"&&Me.d.D(e)};ke.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,n=mi(a,t.crossOrigin),s=typeof t.integrity=="string"?t.integrity:void 0,l=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Me.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:n,integrity:s,fetchPriority:l}):a==="script"&&Me.d.X(e,{crossOrigin:n,integrity:s,fetchPriority:l,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};ke.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=mi(t.as,t.crossOrigin);Me.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Me.d.M(e)};ke.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,n=mi(a,t.crossOrigin);Me.d.L(e,a,{crossOrigin:n,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};ke.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=mi(t.as,t.crossOrigin);Me.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Me.d.m(e)};ke.requestFormReset=function(e){Me.d.r(e)};ke.unstable_batchedUpdates=function(e,t){return e(t)};ke.useFormState=function(e,t,a){return is.H.useFormState(e,t,a)};ke.useFormStatus=function(){return is.H.useHostTransitionStatus()};ke.version="19.1.1";function Vd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vd)}catch(e){console.error(e)}}Vd(),Qd.exports=ke;var A0=Qd.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pe=j0,Kd=z,O0=A0;function E(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Zd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function $s(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Jd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Xc(e){if($s(e)!==e)throw Error(E(188))}function D0(e){var t=e.alternate;if(!t){if(t=$s(e),t===null)throw Error(E(188));return t!==e?null:e}for(var a=e,n=t;;){var s=a.return;if(s===null)break;var l=s.alternate;if(l===null){if(n=s.return,n!==null){a=n;continue}break}if(s.child===l.child){for(l=s.child;l;){if(l===a)return Xc(s),e;if(l===n)return Xc(s),t;l=l.sibling}throw Error(E(188))}if(a.return!==n.return)a=s,n=l;else{for(var i=!1,r=s.child;r;){if(r===a){i=!0,a=s,n=l;break}if(r===n){i=!0,n=s,a=l;break}r=r.sibling}if(!i){for(r=l.child;r;){if(r===a){i=!0,a=l,n=s;break}if(r===n){i=!0,n=l,a=s;break}r=r.sibling}if(!i)throw Error(E(189))}}if(a.alternate!==n)throw Error(E(190))}if(a.tag!==3)throw Error(E(188));return a.stateNode.current===a?e:t}function Pd(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Pd(e),t!==null)return t;e=e.sibling}return null}var ne=Object.assign,R0=Symbol.for("react.element"),sl=Symbol.for("react.transitional.element"),ts=Symbol.for("react.portal"),an=Symbol.for("react.fragment"),Wd=Symbol.for("react.strict_mode"),Ar=Symbol.for("react.profiler"),U0=Symbol.for("react.provider"),Id=Symbol.for("react.consumer"),At=Symbol.for("react.context"),$u=Symbol.for("react.forward_ref"),Or=Symbol.for("react.suspense"),Dr=Symbol.for("react.suspense_list"),Bu=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),Rr=Symbol.for("react.activity"),M0=Symbol.for("react.memo_cache_sentinel"),Vc=Symbol.iterator;function Vn(e){return e===null||typeof e!="object"?null:(e=Vc&&e[Vc]||e["@@iterator"],typeof e=="function"?e:null)}var k0=Symbol.for("react.client.reference");function Ur(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===k0?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case an:return"Fragment";case Ar:return"Profiler";case Wd:return"StrictMode";case Or:return"Suspense";case Dr:return"SuspenseList";case Rr:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case ts:return"Portal";case At:return(e.displayName||"Context")+".Provider";case Id:return(e._context.displayName||"Context")+".Consumer";case $u:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bu:return t=e.displayName||null,t!==null?t:Ur(e.type)||"Memo";case Kt:t=e._payload,e=e._init;try{return Ur(e(t))}catch{}}return null}var as=Array.isArray,$=Kd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=O0.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Na={pending:!1,data:null,method:null,action:null},Mr=[],nn=-1;function bt(e){return{current:e}}function je(e){0>nn||(e.current=Mr[nn],Mr[nn]=null,nn--)}function ie(e,t){nn++,Mr[nn]=e.current,e.current=t}var gt=bt(null),ws=bt(null),sa=bt(null),kl=bt(null);function Cl(e,t){switch(ie(sa,t),ie(ws,e),ie(gt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Io(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Io(t),e=vm(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}je(gt),ie(gt,e)}function wn(){je(gt),je(ws),je(sa)}function kr(e){e.memoizedState!==null&&ie(kl,e);var t=gt.current,a=vm(t,e.type);t!==a&&(ie(ws,e),ie(gt,a))}function zl(e){ws.current===e&&(je(gt),je(ws)),kl.current===e&&(je(kl),Ms._currentValue=Na)}var Cr=Object.prototype.hasOwnProperty,Hu=pe.unstable_scheduleCallback,Li=pe.unstable_cancelCallback,C0=pe.unstable_shouldYield,z0=pe.unstable_requestPaint,vt=pe.unstable_now,q0=pe.unstable_getCurrentPriorityLevel,Fd=pe.unstable_ImmediatePriority,ef=pe.unstable_UserBlockingPriority,ql=pe.unstable_NormalPriority,$0=pe.unstable_LowPriority,tf=pe.unstable_IdlePriority,B0=pe.log,H0=pe.unstable_setDisableYieldValue,Bs=null,Ve=null;function ea(e){if(typeof B0=="function"&&H0(e),Ve&&typeof Ve.setStrictMode=="function")try{Ve.setStrictMode(Bs,e)}catch{}}var Ke=Math.clz32?Math.clz32:Y0,L0=Math.log,G0=Math.LN2;function Y0(e){return e>>>=0,e===0?32:31-(L0(e)/G0|0)|0}var ll=256,il=4194304;function _a(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gi(e,t,a){var n=e.pendingLanes;if(n===0)return 0;var s=0,l=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var r=n&134217727;return r!==0?(n=r&~l,n!==0?s=_a(n):(i&=r,i!==0?s=_a(i):a||(a=r&~e,a!==0&&(s=_a(a))))):(r=n&~l,r!==0?s=_a(r):i!==0?s=_a(i):a||(a=n&~e,a!==0&&(s=_a(a)))),s===0?0:t!==0&&t!==s&&!(t&l)&&(l=s&-s,a=t&-t,l>=a||l===32&&(a&4194048)!==0)?t:s}function Hs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Q0(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function af(){var e=ll;return ll<<=1,!(ll&4194048)&&(ll=256),e}function nf(){var e=il;return il<<=1,!(il&62914560)&&(il=4194304),e}function Gi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Ls(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function X0(e,t,a,n,s,l){var i=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var r=e.entanglements,u=e.expirationTimes,o=e.hiddenUpdates;for(a=i&~a;0<a;){var d=31-Ke(a),f=1<<d;r[d]=0,u[d]=-1;var h=o[d];if(h!==null)for(o[d]=null,d=0;d<h.length;d++){var g=h[d];g!==null&&(g.lane&=-536870913)}a&=~f}n!==0&&sf(e,n,0),l!==0&&s===0&&e.tag!==0&&(e.suspendedLanes|=l&~(i&~t))}function sf(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var n=31-Ke(t);e.entangledLanes|=t,e.entanglements[n]=e.entanglements[n]|1073741824|a&4194090}function lf(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var n=31-Ke(a),s=1<<n;s&t|e[n]&t&&(e[n]|=t),a&=~s}}function Lu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Gu(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function rf(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:Nm(e.type))}function V0(e,t){var a=Z.p;try{return Z.p=e,t()}finally{Z.p=a}}var ga=Math.random().toString(36).slice(2),Oe="__reactFiber$"+ga,He="__reactProps$"+ga,zn="__reactContainer$"+ga,zr="__reactEvents$"+ga,K0="__reactListeners$"+ga,Z0="__reactHandles$"+ga,Kc="__reactResources$"+ga,Gs="__reactMarker$"+ga;function Yu(e){delete e[Oe],delete e[He],delete e[zr],delete e[K0],delete e[Z0]}function sn(e){var t=e[Oe];if(t)return t;for(var a=e.parentNode;a;){if(t=a[zn]||a[Oe]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=td(e);e!==null;){if(a=e[Oe])return a;e=td(e)}return t}e=a,a=e.parentNode}return null}function qn(e){if(e=e[Oe]||e[zn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function ns(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(E(33))}function gn(e){var t=e[Kc];return t||(t=e[Kc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function Se(e){e[Gs]=!0}var uf=new Set,cf={};function qa(e,t){jn(e,t),jn(e+"Capture",t)}function jn(e,t){for(cf[e]=t,e=0;e<t.length;e++)uf.add(t[e])}var J0=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Zc={},Jc={};function P0(e){return Cr.call(Jc,e)?!0:Cr.call(Zc,e)?!1:J0.test(e)?Jc[e]=!0:(Zc[e]=!0,!1)}function _l(e,t,a){if(P0(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var n=t.toLowerCase().slice(0,5);if(n!=="data-"&&n!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function rl(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function _t(e,t,a,n){if(n===null)e.removeAttribute(a);else{switch(typeof n){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+n)}}var Yi,Pc;function Wa(e){if(Yi===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Yi=t&&t[1]||"",Pc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yi+e+Pc}var Qi=!1;function Xi(e,t){if(!e||Qi)return"";Qi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var n={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(g){var h=g}Reflect.construct(e,[],f)}else{try{f.call()}catch(g){h=g}e.call(f.prototype)}}else{try{throw Error()}catch(g){h=g}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(g){if(g&&h&&typeof g.stack=="string")return[g.stack,h.stack]}return[null,null]}};n.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var s=Object.getOwnPropertyDescriptor(n.DetermineComponentFrameRoot,"name");s&&s.configurable&&Object.defineProperty(n.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var l=n.DetermineComponentFrameRoot(),i=l[0],r=l[1];if(i&&r){var u=i.split(`
`),o=r.split(`
`);for(s=n=0;n<u.length&&!u[n].includes("DetermineComponentFrameRoot");)n++;for(;s<o.length&&!o[s].includes("DetermineComponentFrameRoot");)s++;if(n===u.length||s===o.length)for(n=u.length-1,s=o.length-1;1<=n&&0<=s&&u[n]!==o[s];)s--;for(;1<=n&&0<=s;n--,s--)if(u[n]!==o[s]){if(n!==1||s!==1)do if(n--,s--,0>s||u[n]!==o[s]){var d=`
`+u[n].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=n&&0<=s);break}}}finally{Qi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Wa(a):""}function W0(e){switch(e.tag){case 26:case 27:case 5:return Wa(e.type);case 16:return Wa("Lazy");case 13:return Wa("Suspense");case 19:return Wa("SuspenseList");case 0:case 15:return Xi(e.type,!1);case 11:return Xi(e.type.render,!1);case 1:return Xi(e.type,!0);case 31:return Wa("Activity");default:return""}}function Wc(e){try{var t="";do t+=W0(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ie(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function of(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function I0(e){var t=of(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var s=a.get,l=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){n=""+i,l.call(this,i)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return n},setValue:function(i){n=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function $l(e){e._valueTracker||(e._valueTracker=I0(e))}function df(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),n="";return e&&(n=of(e)?e.checked?"true":"false":e.value),e=n,e!==a?(t.setValue(e),!0):!1}function Bl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var F0=/[\n"\\]/g;function tt(e){return e.replace(F0,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qr(e,t,a,n,s,l,i,r){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ie(t)):e.value!==""+Ie(t)&&(e.value=""+Ie(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?$r(e,i,Ie(t)):a!=null?$r(e,i,Ie(a)):n!=null&&e.removeAttribute("value"),s==null&&l!=null&&(e.defaultChecked=!!l),s!=null&&(e.checked=s&&typeof s!="function"&&typeof s!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+Ie(r):e.removeAttribute("name")}function ff(e,t,a,n,s,l,i,r){if(l!=null&&typeof l!="function"&&typeof l!="symbol"&&typeof l!="boolean"&&(e.type=l),t!=null||a!=null){if(!(l!=="submit"&&l!=="reset"||t!=null))return;a=a!=null?""+Ie(a):"",t=t!=null?""+Ie(t):a,r||t===e.value||(e.value=t),e.defaultValue=t}n=n??s,n=typeof n!="function"&&typeof n!="symbol"&&!!n,e.checked=r?e.checked:!!n,e.defaultChecked=!!n,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i)}function $r(e,t,a){t==="number"&&Bl(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function vn(e,t,a,n){if(e=e.options,t){t={};for(var s=0;s<a.length;s++)t["$"+a[s]]=!0;for(a=0;a<e.length;a++)s=t.hasOwnProperty("$"+e[a].value),e[a].selected!==s&&(e[a].selected=s),s&&n&&(e[a].defaultSelected=!0)}else{for(a=""+Ie(a),t=null,s=0;s<e.length;s++){if(e[s].value===a){e[s].selected=!0,n&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function hf(e,t,a){if(t!=null&&(t=""+Ie(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ie(a):""}function mf(e,t,a,n){if(t==null){if(n!=null){if(a!=null)throw Error(E(92));if(as(n)){if(1<n.length)throw Error(E(93));n=n[0]}a=n}a==null&&(a=""),t=a}a=Ie(t),e.defaultValue=a,n=e.textContent,n===a&&n!==""&&n!==null&&(e.value=n)}function Tn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var eg=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ic(e,t,a){var n=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?n?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":n?e.setProperty(t,a):typeof a!="number"||a===0||eg.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function gf(e,t,a){if(t!=null&&typeof t!="object")throw Error(E(62));if(e=e.style,a!=null){for(var n in a)!a.hasOwnProperty(n)||t!=null&&t.hasOwnProperty(n)||(n.indexOf("--")===0?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="");for(var s in t)n=t[s],t.hasOwnProperty(s)&&a[s]!==n&&Ic(e,s,n)}else for(var l in t)t.hasOwnProperty(l)&&Ic(e,l,t[l])}function Qu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var tg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ag=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Sl(e){return ag.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Br=null;function Xu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ln=null,yn=null;function Fc(e){var t=qn(e);if(t&&(e=t.stateNode)){var a=e[He]||null;e:switch(e=t.stateNode,t.type){case"input":if(qr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+tt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var n=a[t];if(n!==e&&n.form===e.form){var s=n[He]||null;if(!s)throw Error(E(90));qr(n,s.value,s.defaultValue,s.defaultValue,s.checked,s.defaultChecked,s.type,s.name)}}for(t=0;t<a.length;t++)n=a[t],n.form===e.form&&df(n)}break e;case"textarea":hf(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&vn(e,!!a.multiple,t,!1)}}}var Vi=!1;function vf(e,t,a){if(Vi)return e(t,a);Vi=!0;try{var n=e(t);return n}finally{if(Vi=!1,(ln!==null||yn!==null)&&(Ti(),ln&&(t=ln,e=yn,yn=ln=null,Fc(t),e)))for(t=0;t<e.length;t++)Fc(e[t])}}function js(e,t){var a=e.stateNode;if(a===null)return null;var n=a[He]||null;if(n===null)return null;a=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(e=e.type,n=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!n;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(E(231,t,typeof a));return a}var Ct=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Hr=!1;if(Ct)try{var Kn={};Object.defineProperty(Kn,"passive",{get:function(){Hr=!0}}),window.addEventListener("test",Kn,Kn),window.removeEventListener("test",Kn,Kn)}catch{Hr=!1}var ta=null,Vu=null,wl=null;function yf(){if(wl)return wl;var e,t=Vu,a=t.length,n,s="value"in ta?ta.value:ta.textContent,l=s.length;for(e=0;e<a&&t[e]===s[e];e++);var i=a-e;for(n=1;n<=i&&t[a-n]===s[l-n];n++);return wl=s.slice(e,1<n?1-n:void 0)}function jl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function ul(){return!0}function eo(){return!1}function Le(e){function t(a,n,s,l,i){this._reactName=a,this._targetInst=s,this.type=n,this.nativeEvent=l,this.target=i,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(a=e[r],this[r]=a?a(l):l[r]);return this.isDefaultPrevented=(l.defaultPrevented!=null?l.defaultPrevented:l.returnValue===!1)?ul:eo,this.isPropagationStopped=eo,this}return ne(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ul)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ul)},persist:function(){},isPersistent:ul}),t}var $a={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=Le($a),Ys=ne({},$a,{view:0,detail:0}),ng=Le(Ys),Ki,Zi,Zn,yi=ne({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ku,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zn&&(Zn&&e.type==="mousemove"?(Ki=e.screenX-Zn.screenX,Zi=e.screenY-Zn.screenY):Zi=Ki=0,Zn=e),Ki)},movementY:function(e){return"movementY"in e?e.movementY:Zi}}),to=Le(yi),sg=ne({},yi,{dataTransfer:0}),lg=Le(sg),ig=ne({},Ys,{relatedTarget:0}),Ji=Le(ig),rg=ne({},$a,{animationName:0,elapsedTime:0,pseudoElement:0}),ug=Le(rg),cg=ne({},$a,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),og=Le(cg),dg=ne({},$a,{data:0}),ao=Le(dg),fg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},mg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function gg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=mg[e])?!!t[e]:!1}function Ku(){return gg}var vg=ne({},Ys,{key:function(e){if(e.key){var t=fg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=jl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ku,charCode:function(e){return e.type==="keypress"?jl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?jl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),yg=Le(vg),bg=ne({},yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),no=Le(bg),pg=ne({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ku}),xg=Le(pg),_g=ne({},$a,{propertyName:0,elapsedTime:0,pseudoElement:0}),Sg=Le(_g),wg=ne({},yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),jg=Le(wg),Tg=ne({},$a,{newState:0,oldState:0}),Ng=Le(Tg),Eg=[9,13,27,32],Zu=Ct&&"CompositionEvent"in window,rs=null;Ct&&"documentMode"in document&&(rs=document.documentMode);var Ag=Ct&&"TextEvent"in window&&!rs,bf=Ct&&(!Zu||rs&&8<rs&&11>=rs),so=" ",lo=!1;function pf(e,t){switch(e){case"keyup":return Eg.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rn=!1;function Og(e,t){switch(e){case"compositionend":return xf(t);case"keypress":return t.which!==32?null:(lo=!0,so);case"textInput":return e=t.data,e===so&&lo?null:e;default:return null}}function Dg(e,t){if(rn)return e==="compositionend"||!Zu&&pf(e,t)?(e=yf(),wl=Vu=ta=null,rn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return bf&&t.locale!=="ko"?null:t.data;default:return null}}var Rg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function io(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Rg[e.type]:t==="textarea"}function _f(e,t,a,n){ln?yn?yn.push(n):yn=[n]:ln=n,t=ni(t,"onChange"),0<t.length&&(a=new vi("onChange","change",null,a,n),e.push({event:a,listeners:t}))}var us=null,Ts=null;function Ug(e){hm(e,0)}function bi(e){var t=ns(e);if(df(t))return e}function ro(e,t){if(e==="change")return t}var Sf=!1;if(Ct){var Pi;if(Ct){var Wi="oninput"in document;if(!Wi){var uo=document.createElement("div");uo.setAttribute("oninput","return;"),Wi=typeof uo.oninput=="function"}Pi=Wi}else Pi=!1;Sf=Pi&&(!document.documentMode||9<document.documentMode)}function co(){us&&(us.detachEvent("onpropertychange",wf),Ts=us=null)}function wf(e){if(e.propertyName==="value"&&bi(Ts)){var t=[];_f(t,Ts,e,Xu(e)),vf(Ug,t)}}function Mg(e,t,a){e==="focusin"?(co(),us=t,Ts=a,us.attachEvent("onpropertychange",wf)):e==="focusout"&&co()}function kg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bi(Ts)}function Cg(e,t){if(e==="click")return bi(t)}function zg(e,t){if(e==="input"||e==="change")return bi(t)}function qg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Pe=typeof Object.is=="function"?Object.is:qg;function Ns(e,t){if(Pe(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),n=Object.keys(t);if(a.length!==n.length)return!1;for(n=0;n<a.length;n++){var s=a[n];if(!Cr.call(t,s)||!Pe(e[s],t[s]))return!1}return!0}function oo(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function fo(e,t){var a=oo(e);e=0;for(var n;a;){if(a.nodeType===3){if(n=e+a.textContent.length,e<=t&&n>=t)return{node:a,offset:t-e};e=n}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=oo(a)}}function jf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?jf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Tf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Bl(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Bl(e.document)}return t}function Ju(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var $g=Ct&&"documentMode"in document&&11>=document.documentMode,un=null,Lr=null,cs=null,Gr=!1;function ho(e,t,a){var n=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gr||un==null||un!==Bl(n)||(n=un,"selectionStart"in n&&Ju(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),cs&&Ns(cs,n)||(cs=n,n=ni(Lr,"onSelect"),0<n.length&&(t=new vi("onSelect","select",null,t,a),e.push({event:t,listeners:n}),t.target=un)))}function ba(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var cn={animationend:ba("Animation","AnimationEnd"),animationiteration:ba("Animation","AnimationIteration"),animationstart:ba("Animation","AnimationStart"),transitionrun:ba("Transition","TransitionRun"),transitionstart:ba("Transition","TransitionStart"),transitioncancel:ba("Transition","TransitionCancel"),transitionend:ba("Transition","TransitionEnd")},Ii={},Nf={};Ct&&(Nf=document.createElement("div").style,"AnimationEvent"in window||(delete cn.animationend.animation,delete cn.animationiteration.animation,delete cn.animationstart.animation),"TransitionEvent"in window||delete cn.transitionend.transition);function Ba(e){if(Ii[e])return Ii[e];if(!cn[e])return e;var t=cn[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Nf)return Ii[e]=t[a];return e}var Ef=Ba("animationend"),Af=Ba("animationiteration"),Of=Ba("animationstart"),Bg=Ba("transitionrun"),Hg=Ba("transitionstart"),Lg=Ba("transitioncancel"),Df=Ba("transitionend"),Rf=new Map,Yr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yr.push("scrollEnd");function dt(e,t){Rf.set(e,t),qa(t,[e])}var mo=new WeakMap;function at(e,t){if(typeof e=="object"&&e!==null){var a=mo.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Wc(t)},mo.set(e,t),t)}return{value:e,source:t,stack:Wc(t)}}var We=[],on=0,Pu=0;function pi(){for(var e=on,t=Pu=on=0;t<e;){var a=We[t];We[t++]=null;var n=We[t];We[t++]=null;var s=We[t];We[t++]=null;var l=We[t];if(We[t++]=null,n!==null&&s!==null){var i=n.pending;i===null?s.next=s:(s.next=i.next,i.next=s),n.pending=s}l!==0&&Uf(a,s,l)}}function xi(e,t,a,n){We[on++]=e,We[on++]=t,We[on++]=a,We[on++]=n,Pu|=n,e.lanes|=n,e=e.alternate,e!==null&&(e.lanes|=n)}function Wu(e,t,a,n){return xi(e,t,a,n),Hl(e)}function $n(e,t){return xi(e,null,null,t),Hl(e)}function Uf(e,t,a){e.lanes|=a;var n=e.alternate;n!==null&&(n.lanes|=a);for(var s=!1,l=e.return;l!==null;)l.childLanes|=a,n=l.alternate,n!==null&&(n.childLanes|=a),l.tag===22&&(e=l.stateNode,e===null||e._visibility&1||(s=!0)),e=l,l=l.return;return e.tag===3?(l=e.stateNode,s&&t!==null&&(s=31-Ke(a),e=l.hiddenUpdates,n=e[s],n===null?e[s]=[t]:n.push(t),t.lane=a|536870912),l):null}function Hl(e){if(50<ps)throw ps=0,ou=null,Error(E(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var dn={};function Gg(e,t,a,n){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Xe(e,t,a,n){return new Gg(e,t,a,n)}function Iu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Mt(e,t){var a=e.alternate;return a===null?(a=Xe(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Mf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Tl(e,t,a,n,s,l){var i=0;if(n=e,typeof e=="function")Iu(e)&&(i=1);else if(typeof e=="string")i=Qv(e,a,gt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Rr:return e=Xe(31,a,t,s),e.elementType=Rr,e.lanes=l,e;case an:return Ea(a.children,s,l,t);case Wd:i=8,s|=24;break;case Ar:return e=Xe(12,a,t,s|2),e.elementType=Ar,e.lanes=l,e;case Or:return e=Xe(13,a,t,s),e.elementType=Or,e.lanes=l,e;case Dr:return e=Xe(19,a,t,s),e.elementType=Dr,e.lanes=l,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case U0:case At:i=10;break e;case Id:i=9;break e;case $u:i=11;break e;case Bu:i=14;break e;case Kt:i=16,n=null;break e}i=29,a=Error(E(130,e===null?"null":typeof e,"")),n=null}return t=Xe(i,a,t,s),t.elementType=e,t.type=n,t.lanes=l,t}function Ea(e,t,a,n){return e=Xe(7,e,n,t),e.lanes=a,e}function Fi(e,t,a){return e=Xe(6,e,null,t),e.lanes=a,e}function er(e,t,a){return t=Xe(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fn=[],hn=0,Ll=null,Gl=0,Fe=[],et=0,Aa=null,Ot=1,Dt="";function Sa(e,t){fn[hn++]=Gl,fn[hn++]=Ll,Ll=e,Gl=t}function kf(e,t,a){Fe[et++]=Ot,Fe[et++]=Dt,Fe[et++]=Aa,Aa=e;var n=Ot;e=Dt;var s=32-Ke(n)-1;n&=~(1<<s),a+=1;var l=32-Ke(t)+s;if(30<l){var i=s-s%5;l=(n&(1<<i)-1).toString(32),n>>=i,s-=i,Ot=1<<32-Ke(t)+s|a<<s|n,Dt=l+e}else Ot=1<<l|a<<s|n,Dt=e}function Fu(e){e.return!==null&&(Sa(e,1),kf(e,1,0))}function ec(e){for(;e===Ll;)Ll=fn[--hn],fn[hn]=null,Gl=fn[--hn],fn[hn]=null;for(;e===Aa;)Aa=Fe[--et],Fe[et]=null,Dt=Fe[--et],Fe[et]=null,Ot=Fe[--et],Fe[et]=null}var Re=null,ce=null,K=!1,Oa=null,ht=!1,Qr=Error(E(519));function Ma(e){var t=Error(E(418,""));throw Es(at(t,e)),Qr}function go(e){var t=e.stateNode,a=e.type,n=e.memoizedProps;switch(t[Oe]=e,t[He]=n,a){case"dialog":Y("cancel",t),Y("close",t);break;case"iframe":case"object":case"embed":Y("load",t);break;case"video":case"audio":for(a=0;a<Ds.length;a++)Y(Ds[a],t);break;case"source":Y("error",t);break;case"img":case"image":case"link":Y("error",t),Y("load",t);break;case"details":Y("toggle",t);break;case"input":Y("invalid",t),ff(t,n.value,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name,!0),$l(t);break;case"select":Y("invalid",t);break;case"textarea":Y("invalid",t),mf(t,n.value,n.defaultValue,n.children),$l(t)}a=n.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||n.suppressHydrationWarning===!0||gm(t.textContent,a)?(n.popover!=null&&(Y("beforetoggle",t),Y("toggle",t)),n.onScroll!=null&&Y("scroll",t),n.onScrollEnd!=null&&Y("scrollend",t),n.onClick!=null&&(t.onclick=Ai),t=!0):t=!1,t||Ma(e)}function vo(e){for(Re=e.return;Re;)switch(Re.tag){case 5:case 13:ht=!1;return;case 27:case 3:ht=!0;return;default:Re=Re.return}}function Jn(e){if(e!==Re)return!1;if(!K)return vo(e),K=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vu(e.type,e.memoizedProps)),a=!a),a&&ce&&Ma(e),vo(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(E(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){ce=ot(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}ce=null}}else t===27?(t=ce,va(e.type)?(e=pu,pu=null,ce=e):ce=t):ce=Re?ot(e.stateNode.nextSibling):null;return!0}function Qs(){ce=Re=null,K=!1}function yo(){var e=Oa;return e!==null&&($e===null?$e=e:$e.push.apply($e,e),Oa=null),e}function Es(e){Oa===null?Oa=[e]:Oa.push(e)}var Xr=bt(null),Ha=null,Rt=null;function Jt(e,t,a){ie(Xr,t._currentValue),t._currentValue=a}function kt(e){e._currentValue=Xr.current,je(Xr)}function Vr(e,t,a){for(;e!==null;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,n!==null&&(n.childLanes|=t)):n!==null&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===a)break;e=e.return}}function Kr(e,t,a,n){var s=e.child;for(s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){var i=s.child;l=l.firstContext;e:for(;l!==null;){var r=l;l=s;for(var u=0;u<t.length;u++)if(r.context===t[u]){l.lanes|=a,r=l.alternate,r!==null&&(r.lanes|=a),Vr(l.return,a,e),n||(i=null);break e}l=r.next}}else if(s.tag===18){if(i=s.return,i===null)throw Error(E(341));i.lanes|=a,l=i.alternate,l!==null&&(l.lanes|=a),Vr(i,a,e),i=null}else i=s.child;if(i!==null)i.return=s;else for(i=s;i!==null;){if(i===e){i=null;break}if(s=i.sibling,s!==null){s.return=i.return,i=s;break}i=i.return}s=i}}function Xs(e,t,a,n){e=null;for(var s=t,l=!1;s!==null;){if(!l){if(s.flags&524288)l=!0;else if(s.flags&262144)break}if(s.tag===10){var i=s.alternate;if(i===null)throw Error(E(387));if(i=i.memoizedProps,i!==null){var r=s.type;Pe(s.pendingProps.value,i.value)||(e!==null?e.push(r):e=[r])}}else if(s===kl.current){if(i=s.alternate,i===null)throw Error(E(387));i.memoizedState.memoizedState!==s.memoizedState.memoizedState&&(e!==null?e.push(Ms):e=[Ms])}s=s.return}e!==null&&Kr(t,e,a,n),t.flags|=262144}function Yl(e){for(e=e.firstContext;e!==null;){if(!Pe(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ka(e){Ha=e,Rt=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function De(e){return Cf(Ha,e)}function cl(e,t){return Ha===null&&ka(e),Cf(e,t)}function Cf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Rt===null){if(e===null)throw Error(E(308));Rt=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Rt=Rt.next=t;return a}var Yg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,n){e.push(n)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Qg=pe.unstable_scheduleCallback,Xg=pe.unstable_NormalPriority,ye={$$typeof:At,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function tc(){return{controller:new Yg,data:new Map,refCount:0}}function Vs(e){e.refCount--,e.refCount===0&&Qg(Xg,function(){e.controller.abort()})}var os=null,Zr=0,Nn=0,bn=null;function Vg(e,t){if(os===null){var a=os=[];Zr=0,Nn=jc(),bn={status:"pending",value:void 0,then:function(n){a.push(n)}}}return Zr++,t.then(bo,bo),t}function bo(){if(--Zr===0&&os!==null){bn!==null&&(bn.status="fulfilled");var e=os;os=null,Nn=0,bn=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Kg(e,t){var a=[],n={status:"pending",value:null,reason:null,then:function(s){a.push(s)}};return e.then(function(){n.status="fulfilled",n.value=t;for(var s=0;s<a.length;s++)(0,a[s])(t)},function(s){for(n.status="rejected",n.reason=s,s=0;s<a.length;s++)(0,a[s])(void 0)}),n}var po=$.S;$.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Vg(e,t),po!==null&&po(e,t)};var Da=bt(null);function ac(){var e=Da.current;return e!==null?e:ae.pooledCache}function Nl(e,t){t===null?ie(Da,Da.current):ie(Da,t.pool)}function zf(){var e=ac();return e===null?null:{parent:ye._currentValue,pool:e}}var Ks=Error(E(460)),qf=Error(E(474)),_i=Error(E(542)),Jr={then:function(){}};function xo(e){return e=e.status,e==="fulfilled"||e==="rejected"}function ol(){}function $f(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(ol,ol),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,So(e),e;default:if(typeof t.status=="string")t.then(ol,ol);else{if(e=ae,e!==null&&100<e.shellSuspendCounter)throw Error(E(482));e=t,e.status="pending",e.then(function(n){if(t.status==="pending"){var s=t;s.status="fulfilled",s.value=n}},function(n){if(t.status==="pending"){var s=t;s.status="rejected",s.reason=n}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,So(e),e}throw ds=t,Ks}}var ds=null;function _o(){if(ds===null)throw Error(E(459));var e=ds;return ds=null,e}function So(e){if(e===Ks||e===_i)throw Error(E(483))}var Zt=!1;function nc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function la(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ia(e,t,a){var n=e.updateQueue;if(n===null)return null;if(n=n.shared,P&2){var s=n.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),n.pending=t,t=Hl(e),Uf(e,null,a),t}return xi(e,n,t,a),Hl(e)}function fs(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,lf(e,a)}}function tr(e,t){var a=e.updateQueue,n=e.alternate;if(n!==null&&(n=n.updateQueue,a===n)){var s=null,l=null;if(a=a.firstBaseUpdate,a!==null){do{var i={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};l===null?s=l=i:l=l.next=i,a=a.next}while(a!==null);l===null?s=l=t:l=l.next=t}else s=l=t;a={baseState:n.baseState,firstBaseUpdate:s,lastBaseUpdate:l,shared:n.shared,callbacks:n.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Wr=!1;function hs(){if(Wr){var e=bn;if(e!==null)throw e}}function ms(e,t,a,n){Wr=!1;var s=e.updateQueue;Zt=!1;var l=s.firstBaseUpdate,i=s.lastBaseUpdate,r=s.shared.pending;if(r!==null){s.shared.pending=null;var u=r,o=u.next;u.next=null,i===null?l=o:i.next=o,i=u;var d=e.alternate;d!==null&&(d=d.updateQueue,r=d.lastBaseUpdate,r!==i&&(r===null?d.firstBaseUpdate=o:r.next=o,d.lastBaseUpdate=u))}if(l!==null){var f=s.baseState;i=0,d=o=u=null,r=l;do{var h=r.lane&-536870913,g=h!==r.lane;if(g?(X&h)===h:(n&h)===h){h!==0&&h===Nn&&(Wr=!0),d!==null&&(d=d.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var T=e,N=r;h=t;var j=a;switch(N.tag){case 1:if(T=N.payload,typeof T=="function"){f=T.call(j,f,h);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=N.payload,h=typeof T=="function"?T.call(j,f,h):T,h==null)break e;f=ne({},f,h);break e;case 2:Zt=!0}}h=r.callback,h!==null&&(e.flags|=64,g&&(e.flags|=8192),g=s.callbacks,g===null?s.callbacks=[h]:g.push(h))}else g={lane:h,tag:r.tag,payload:r.payload,callback:r.callback,next:null},d===null?(o=d=g,u=f):d=d.next=g,i|=h;if(r=r.next,r===null){if(r=s.shared.pending,r===null)break;g=r,r=g.next,g.next=null,s.lastBaseUpdate=g,s.shared.pending=null}}while(!0);d===null&&(u=f),s.baseState=u,s.firstBaseUpdate=o,s.lastBaseUpdate=d,l===null&&(s.shared.lanes=0),ma|=i,e.lanes=i,e.memoizedState=f}}function Bf(e,t){if(typeof e!="function")throw Error(E(191,e));e.call(t)}function Hf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Bf(a[e],t)}var En=bt(null),Ql=bt(0);function wo(e,t){e=$t,ie(Ql,e),ie(En,t),$t=e|t.baseLanes}function Ir(){ie(Ql,$t),ie(En,En.current)}function sc(){$t=Ql.current,je(En),je(Ql)}var fa=0,L=null,F=null,me=null,Xl=!1,pn=!1,Ca=!1,Vl=0,As=0,xn=null,Zg=0;function de(){throw Error(E(321))}function lc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!Pe(e[a],t[a]))return!1;return!0}function ic(e,t,a,n,s,l){return fa=l,L=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,$.H=e===null||e.memoizedState===null?yh:bh,Ca=!1,l=a(n,s),Ca=!1,pn&&(l=Gf(t,a,n,s)),Lf(e),l}function Lf(e){$.H=Kl;var t=F!==null&&F.next!==null;if(fa=0,me=F=L=null,Xl=!1,As=0,xn=null,t)throw Error(E(300));e===null||we||(e=e.dependencies,e!==null&&Yl(e)&&(we=!0))}function Gf(e,t,a,n){L=e;var s=0;do{if(pn&&(xn=null),As=0,pn=!1,25<=s)throw Error(E(301));if(s+=1,me=F=null,e.updateQueue!=null){var l=e.updateQueue;l.lastEffect=null,l.events=null,l.stores=null,l.memoCache!=null&&(l.memoCache.index=0)}$.H=tv,l=t(a,n)}while(pn);return l}function Jg(){var e=$.H,t=e.useState()[0];return t=typeof t.then=="function"?Zs(t):t,e=e.useState()[0],(F!==null?F.memoizedState:null)!==e&&(L.flags|=1024),t}function rc(){var e=Vl!==0;return Vl=0,e}function uc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function cc(e){if(Xl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Xl=!1}fa=0,me=F=L=null,pn=!1,As=Vl=0,xn=null}function ze(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return me===null?L.memoizedState=me=e:me=me.next=e,me}function ge(){if(F===null){var e=L.alternate;e=e!==null?e.memoizedState:null}else e=F.next;var t=me===null?L.memoizedState:me.next;if(t!==null)me=t,F=e;else{if(e===null)throw L.alternate===null?Error(E(467)):Error(E(310));F=e,e={memoizedState:F.memoizedState,baseState:F.baseState,baseQueue:F.baseQueue,queue:F.queue,next:null},me===null?L.memoizedState=me=e:me=me.next=e}return me}function oc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zs(e){var t=As;return As+=1,xn===null&&(xn=[]),e=$f(xn,e,t),t=L,(me===null?t.memoizedState:me.next)===null&&(t=t.alternate,$.H=t===null||t.memoizedState===null?yh:bh),e}function Si(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zs(e);if(e.$$typeof===At)return De(e)}throw Error(E(438,String(e)))}function dc(e){var t=null,a=L.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var n=L.alternate;n!==null&&(n=n.updateQueue,n!==null&&(n=n.memoCache,n!=null&&(t={data:n.data.map(function(s){return s.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=oc(),L.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),n=0;n<e;n++)a[n]=M0;return t.index++,a}function zt(e,t){return typeof t=="function"?t(e):t}function El(e){var t=ge();return fc(t,F,e)}function fc(e,t,a){var n=e.queue;if(n===null)throw Error(E(311));n.lastRenderedReducer=a;var s=e.baseQueue,l=n.pending;if(l!==null){if(s!==null){var i=s.next;s.next=l.next,l.next=i}t.baseQueue=s=l,n.pending=null}if(l=e.baseState,s===null)e.memoizedState=l;else{t=s.next;var r=i=null,u=null,o=t,d=!1;do{var f=o.lane&-536870913;if(f!==o.lane?(X&f)===f:(fa&f)===f){var h=o.revertLane;if(h===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),f===Nn&&(d=!0);else if((fa&h)===h){o=o.next,h===Nn&&(d=!0);continue}else f={lane:0,revertLane:o.revertLane,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null},u===null?(r=u=f,i=l):u=u.next=f,L.lanes|=h,ma|=h;f=o.action,Ca&&a(l,f),l=o.hasEagerState?o.eagerState:a(l,f)}else h={lane:f,revertLane:o.revertLane,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null},u===null?(r=u=h,i=l):u=u.next=h,L.lanes|=f,ma|=f;o=o.next}while(o!==null&&o!==t);if(u===null?i=l:u.next=r,!Pe(l,e.memoizedState)&&(we=!0,d&&(a=bn,a!==null)))throw a;e.memoizedState=l,e.baseState=i,e.baseQueue=u,n.lastRenderedState=l}return s===null&&(n.lanes=0),[e.memoizedState,n.dispatch]}function ar(e){var t=ge(),a=t.queue;if(a===null)throw Error(E(311));a.lastRenderedReducer=e;var n=a.dispatch,s=a.pending,l=t.memoizedState;if(s!==null){a.pending=null;var i=s=s.next;do l=e(l,i.action),i=i.next;while(i!==s);Pe(l,t.memoizedState)||(we=!0),t.memoizedState=l,t.baseQueue===null&&(t.baseState=l),a.lastRenderedState=l}return[l,n]}function Yf(e,t,a){var n=L,s=ge(),l=K;if(l){if(a===void 0)throw Error(E(407));a=a()}else a=t();var i=!Pe((F||s).memoizedState,a);i&&(s.memoizedState=a,we=!0),s=s.queue;var r=Vf.bind(null,n,s,e);if(Js(2048,8,r,[e]),s.getSnapshot!==t||i||me!==null&&me.memoizedState.tag&1){if(n.flags|=2048,An(9,wi(),Xf.bind(null,n,s,a,t),null),ae===null)throw Error(E(349));l||fa&124||Qf(n,t,a)}return a}function Qf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=L.updateQueue,t===null?(t=oc(),L.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Xf(e,t,a,n){t.value=a,t.getSnapshot=n,Kf(t)&&Zf(e)}function Vf(e,t,a){return a(function(){Kf(t)&&Zf(e)})}function Kf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!Pe(e,a)}catch{return!0}}function Zf(e){var t=$n(e,2);t!==null&&Je(t,e,2)}function Fr(e){var t=ze();if(typeof e=="function"){var a=e;if(e=a(),Ca){ea(!0);try{a()}finally{ea(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zt,lastRenderedState:e},t}function Jf(e,t,a,n){return e.baseState=a,fc(e,F,typeof n=="function"?n:zt)}function Pg(e,t,a,n,s){if(ji(e))throw Error(E(485));if(e=t.action,e!==null){var l={payload:s,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){l.listeners.push(i)}};$.T!==null?a(!0):l.isTransition=!1,n(l),a=t.pending,a===null?(l.next=t.pending=l,Pf(t,l)):(l.next=a.next,t.pending=a.next=l)}}function Pf(e,t){var a=t.action,n=t.payload,s=e.state;if(t.isTransition){var l=$.T,i={};$.T=i;try{var r=a(s,n),u=$.S;u!==null&&u(i,r),jo(e,t,r)}catch(o){eu(e,t,o)}finally{$.T=l}}else try{l=a(s,n),jo(e,t,l)}catch(o){eu(e,t,o)}}function jo(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(n){To(e,t,n)},function(n){return eu(e,t,n)}):To(e,t,a)}function To(e,t,a){t.status="fulfilled",t.value=a,Wf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Pf(e,a)))}function eu(e,t,a){var n=e.pending;if(e.pending=null,n!==null){n=n.next;do t.status="rejected",t.reason=a,Wf(t),t=t.next;while(t!==n)}e.action=null}function Wf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function If(e,t){return t}function No(e,t){if(K){var a=ae.formState;if(a!==null){e:{var n=L;if(K){if(ce){t:{for(var s=ce,l=ht;s.nodeType!==8;){if(!l){s=null;break t}if(s=ot(s.nextSibling),s===null){s=null;break t}}l=s.data,s=l==="F!"||l==="F"?s:null}if(s){ce=ot(s.nextSibling),n=s.data==="F!";break e}}Ma(n)}n=!1}n&&(t=a[0])}}return a=ze(),a.memoizedState=a.baseState=t,n={pending:null,lanes:0,dispatch:null,lastRenderedReducer:If,lastRenderedState:t},a.queue=n,a=mh.bind(null,L,n),n.dispatch=a,n=Fr(!1),l=vc.bind(null,L,!1,n.queue),n=ze(),s={state:t,dispatch:null,action:e,pending:null},n.queue=s,a=Pg.bind(null,L,s,l,a),s.dispatch=a,n.memoizedState=e,[t,a,!1]}function Eo(e){var t=ge();return Ff(t,F,e)}function Ff(e,t,a){if(t=fc(e,t,If)[0],e=El(zt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var n=Zs(t)}catch(i){throw i===Ks?_i:i}else n=t;t=ge();var s=t.queue,l=s.dispatch;return a!==t.memoizedState&&(L.flags|=2048,An(9,wi(),Wg.bind(null,s,a),null)),[n,l,e]}function Wg(e,t){e.action=t}function Ao(e){var t=ge(),a=F;if(a!==null)return Ff(t,a,e);ge(),t=t.memoizedState,a=ge();var n=a.queue.dispatch;return a.memoizedState=e,[t,n,!1]}function An(e,t,a,n){return e={tag:e,create:a,deps:n,inst:t,next:null},t=L.updateQueue,t===null&&(t=oc(),L.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(n=a.next,a.next=e,e.next=n,t.lastEffect=e),e}function wi(){return{destroy:void 0,resource:void 0}}function eh(){return ge().memoizedState}function Al(e,t,a,n){var s=ze();n=n===void 0?null:n,L.flags|=e,s.memoizedState=An(1|t,wi(),a,n)}function Js(e,t,a,n){var s=ge();n=n===void 0?null:n;var l=s.memoizedState.inst;F!==null&&n!==null&&lc(n,F.memoizedState.deps)?s.memoizedState=An(t,l,a,n):(L.flags|=e,s.memoizedState=An(1|t,l,a,n))}function Oo(e,t){Al(8390656,8,e,t)}function th(e,t){Js(2048,8,e,t)}function ah(e,t){return Js(4,2,e,t)}function nh(e,t){return Js(4,4,e,t)}function sh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function lh(e,t,a){a=a!=null?a.concat([e]):null,Js(4,4,sh.bind(null,t,e),a)}function hc(){}function ih(e,t){var a=ge();t=t===void 0?null:t;var n=a.memoizedState;return t!==null&&lc(t,n[1])?n[0]:(a.memoizedState=[e,t],e)}function rh(e,t){var a=ge();t=t===void 0?null:t;var n=a.memoizedState;if(t!==null&&lc(t,n[1]))return n[0];if(n=e(),Ca){ea(!0);try{e()}finally{ea(!1)}}return a.memoizedState=[n,t],n}function mc(e,t,a){return a===void 0||fa&1073741824?e.memoizedState=t:(e.memoizedState=a,e=Wh(),L.lanes|=e,ma|=e,a)}function uh(e,t,a,n){return Pe(a,t)?a:En.current!==null?(e=mc(e,a,n),Pe(e,t)||(we=!0),e):fa&42?(e=Wh(),L.lanes|=e,ma|=e,t):(we=!0,e.memoizedState=a)}function ch(e,t,a,n,s){var l=Z.p;Z.p=l!==0&&8>l?l:8;var i=$.T,r={};$.T=r,vc(e,!1,t,a);try{var u=s(),o=$.S;if(o!==null&&o(r,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=Kg(u,n);gs(e,t,d,Ze(e))}else gs(e,t,n,Ze(e))}catch(f){gs(e,t,{then:function(){},status:"rejected",reason:f},Ze())}finally{Z.p=l,$.T=i}}function Ig(){}function tu(e,t,a,n){if(e.tag!==5)throw Error(E(476));var s=oh(e).queue;ch(e,s,t,Na,a===null?Ig:function(){return dh(e),a(n)})}function oh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Na,baseState:Na,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zt,lastRenderedState:Na},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zt,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function dh(e){var t=oh(e).next.queue;gs(e,t,{},Ze())}function gc(){return De(Ms)}function fh(){return ge().memoizedState}function hh(){return ge().memoizedState}function Fg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Ze();e=la(a);var n=ia(t,e,a);n!==null&&(Je(n,t,a),fs(n,t,a)),t={cache:tc()},e.payload=t;return}t=t.return}}function ev(e,t,a){var n=Ze();a={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ji(e)?gh(t,a):(a=Wu(e,t,a,n),a!==null&&(Je(a,e,n),vh(a,t,n)))}function mh(e,t,a){var n=Ze();gs(e,t,a,n)}function gs(e,t,a,n){var s={lane:n,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ji(e))gh(t,s);else{var l=e.alternate;if(e.lanes===0&&(l===null||l.lanes===0)&&(l=t.lastRenderedReducer,l!==null))try{var i=t.lastRenderedState,r=l(i,a);if(s.hasEagerState=!0,s.eagerState=r,Pe(r,i))return xi(e,t,s,0),ae===null&&pi(),!1}catch{}finally{}if(a=Wu(e,t,s,n),a!==null)return Je(a,e,n),vh(a,t,n),!0}return!1}function vc(e,t,a,n){if(n={lane:2,revertLane:jc(),action:n,hasEagerState:!1,eagerState:null,next:null},ji(e)){if(t)throw Error(E(479))}else t=Wu(e,a,n,2),t!==null&&Je(t,e,2)}function ji(e){var t=e.alternate;return e===L||t!==null&&t===L}function gh(e,t){pn=Xl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function vh(e,t,a){if(a&4194048){var n=t.lanes;n&=e.pendingLanes,a|=n,t.lanes=a,lf(e,a)}}var Kl={readContext:De,use:Si,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useLayoutEffect:de,useInsertionEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useSyncExternalStore:de,useId:de,useHostTransitionStatus:de,useFormState:de,useActionState:de,useOptimistic:de,useMemoCache:de,useCacheRefresh:de},yh={readContext:De,use:Si,useCallback:function(e,t){return ze().memoizedState=[e,t===void 0?null:t],e},useContext:De,useEffect:Oo,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Al(4194308,4,sh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Al(4194308,4,e,t)},useInsertionEffect:function(e,t){Al(4,2,e,t)},useMemo:function(e,t){var a=ze();t=t===void 0?null:t;var n=e();if(Ca){ea(!0);try{e()}finally{ea(!1)}}return a.memoizedState=[n,t],n},useReducer:function(e,t,a){var n=ze();if(a!==void 0){var s=a(t);if(Ca){ea(!0);try{a(t)}finally{ea(!1)}}}else s=t;return n.memoizedState=n.baseState=s,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:s},n.queue=e,e=e.dispatch=ev.bind(null,L,e),[n.memoizedState,e]},useRef:function(e){var t=ze();return e={current:e},t.memoizedState=e},useState:function(e){e=Fr(e);var t=e.queue,a=mh.bind(null,L,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:hc,useDeferredValue:function(e,t){var a=ze();return mc(a,e,t)},useTransition:function(){var e=Fr(!1);return e=ch.bind(null,L,e.queue,!0,!1),ze().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var n=L,s=ze();if(K){if(a===void 0)throw Error(E(407));a=a()}else{if(a=t(),ae===null)throw Error(E(349));X&124||Qf(n,t,a)}s.memoizedState=a;var l={value:a,getSnapshot:t};return s.queue=l,Oo(Vf.bind(null,n,l,e),[e]),n.flags|=2048,An(9,wi(),Xf.bind(null,n,l,a,t),null),a},useId:function(){var e=ze(),t=ae.identifierPrefix;if(K){var a=Dt,n=Ot;a=(n&~(1<<32-Ke(n)-1)).toString(32)+a,t="«"+t+"R"+a,a=Vl++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=Zg++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:gc,useFormState:No,useActionState:No,useOptimistic:function(e){var t=ze();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=vc.bind(null,L,!0,a),a.dispatch=t,[e,t]},useMemoCache:dc,useCacheRefresh:function(){return ze().memoizedState=Fg.bind(null,L)}},bh={readContext:De,use:Si,useCallback:ih,useContext:De,useEffect:th,useImperativeHandle:lh,useInsertionEffect:ah,useLayoutEffect:nh,useMemo:rh,useReducer:El,useRef:eh,useState:function(){return El(zt)},useDebugValue:hc,useDeferredValue:function(e,t){var a=ge();return uh(a,F.memoizedState,e,t)},useTransition:function(){var e=El(zt)[0],t=ge().memoizedState;return[typeof e=="boolean"?e:Zs(e),t]},useSyncExternalStore:Yf,useId:fh,useHostTransitionStatus:gc,useFormState:Eo,useActionState:Eo,useOptimistic:function(e,t){var a=ge();return Jf(a,F,e,t)},useMemoCache:dc,useCacheRefresh:hh},tv={readContext:De,use:Si,useCallback:ih,useContext:De,useEffect:th,useImperativeHandle:lh,useInsertionEffect:ah,useLayoutEffect:nh,useMemo:rh,useReducer:ar,useRef:eh,useState:function(){return ar(zt)},useDebugValue:hc,useDeferredValue:function(e,t){var a=ge();return F===null?mc(a,e,t):uh(a,F.memoizedState,e,t)},useTransition:function(){var e=ar(zt)[0],t=ge().memoizedState;return[typeof e=="boolean"?e:Zs(e),t]},useSyncExternalStore:Yf,useId:fh,useHostTransitionStatus:gc,useFormState:Ao,useActionState:Ao,useOptimistic:function(e,t){var a=ge();return F!==null?Jf(a,F,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:dc,useCacheRefresh:hh},_n=null,Os=0;function dl(e){var t=Os;return Os+=1,_n===null&&(_n=[]),$f(_n,e,t)}function Pn(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fl(e,t){throw t.$$typeof===R0?Error(E(525)):(e=Object.prototype.toString.call(t),Error(E(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Do(e){var t=e._init;return t(e._payload)}function ph(e){function t(y,m){if(e){var v=y.deletions;v===null?(y.deletions=[m],y.flags|=16):v.push(m)}}function a(y,m){if(!e)return null;for(;m!==null;)t(y,m),m=m.sibling;return null}function n(y){for(var m=new Map;y!==null;)y.key!==null?m.set(y.key,y):m.set(y.index,y),y=y.sibling;return m}function s(y,m){return y=Mt(y,m),y.index=0,y.sibling=null,y}function l(y,m,v){return y.index=v,e?(v=y.alternate,v!==null?(v=v.index,v<m?(y.flags|=67108866,m):v):(y.flags|=67108866,m)):(y.flags|=1048576,m)}function i(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function r(y,m,v,p){return m===null||m.tag!==6?(m=Fi(v,y.mode,p),m.return=y,m):(m=s(m,v),m.return=y,m)}function u(y,m,v,p){var A=v.type;return A===an?d(y,m,v.props.children,p,v.key):m!==null&&(m.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Kt&&Do(A)===m.type)?(m=s(m,v.props),Pn(m,v),m.return=y,m):(m=Tl(v.type,v.key,v.props,null,y.mode,p),Pn(m,v),m.return=y,m)}function o(y,m,v,p){return m===null||m.tag!==4||m.stateNode.containerInfo!==v.containerInfo||m.stateNode.implementation!==v.implementation?(m=er(v,y.mode,p),m.return=y,m):(m=s(m,v.children||[]),m.return=y,m)}function d(y,m,v,p,A){return m===null||m.tag!==7?(m=Ea(v,y.mode,p,A),m.return=y,m):(m=s(m,v),m.return=y,m)}function f(y,m,v){if(typeof m=="string"&&m!==""||typeof m=="number"||typeof m=="bigint")return m=Fi(""+m,y.mode,v),m.return=y,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case sl:return v=Tl(m.type,m.key,m.props,null,y.mode,v),Pn(v,m),v.return=y,v;case ts:return m=er(m,y.mode,v),m.return=y,m;case Kt:var p=m._init;return m=p(m._payload),f(y,m,v)}if(as(m)||Vn(m))return m=Ea(m,y.mode,v,null),m.return=y,m;if(typeof m.then=="function")return f(y,dl(m),v);if(m.$$typeof===At)return f(y,cl(y,m),v);fl(y,m)}return null}function h(y,m,v,p){var A=m!==null?m.key:null;if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return A!==null?null:r(y,m,""+v,p);if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sl:return v.key===A?u(y,m,v,p):null;case ts:return v.key===A?o(y,m,v,p):null;case Kt:return A=v._init,v=A(v._payload),h(y,m,v,p)}if(as(v)||Vn(v))return A!==null?null:d(y,m,v,p,null);if(typeof v.then=="function")return h(y,m,dl(v),p);if(v.$$typeof===At)return h(y,m,cl(y,v),p);fl(y,v)}return null}function g(y,m,v,p,A){if(typeof p=="string"&&p!==""||typeof p=="number"||typeof p=="bigint")return y=y.get(v)||null,r(m,y,""+p,A);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case sl:return y=y.get(p.key===null?v:p.key)||null,u(m,y,p,A);case ts:return y=y.get(p.key===null?v:p.key)||null,o(m,y,p,A);case Kt:var D=p._init;return p=D(p._payload),g(y,m,v,p,A)}if(as(p)||Vn(p))return y=y.get(v)||null,d(m,y,p,A,null);if(typeof p.then=="function")return g(y,m,v,dl(p),A);if(p.$$typeof===At)return g(y,m,v,cl(m,p),A);fl(m,p)}return null}function T(y,m,v,p){for(var A=null,D=null,b=m,S=m=0,k=null;b!==null&&S<v.length;S++){b.index>S?(k=b,b=null):k=b.sibling;var O=h(y,b,v[S],p);if(O===null){b===null&&(b=k);break}e&&b&&O.alternate===null&&t(y,b),m=l(O,m,S),D===null?A=O:D.sibling=O,D=O,b=k}if(S===v.length)return a(y,b),K&&Sa(y,S),A;if(b===null){for(;S<v.length;S++)b=f(y,v[S],p),b!==null&&(m=l(b,m,S),D===null?A=b:D.sibling=b,D=b);return K&&Sa(y,S),A}for(b=n(b);S<v.length;S++)k=g(b,y,S,v[S],p),k!==null&&(e&&k.alternate!==null&&b.delete(k.key===null?S:k.key),m=l(k,m,S),D===null?A=k:D.sibling=k,D=k);return e&&b.forEach(function(U){return t(y,U)}),K&&Sa(y,S),A}function N(y,m,v,p){if(v==null)throw Error(E(151));for(var A=null,D=null,b=m,S=m=0,k=null,O=v.next();b!==null&&!O.done;S++,O=v.next()){b.index>S?(k=b,b=null):k=b.sibling;var U=h(y,b,O.value,p);if(U===null){b===null&&(b=k);break}e&&b&&U.alternate===null&&t(y,b),m=l(U,m,S),D===null?A=U:D.sibling=U,D=U,b=k}if(O.done)return a(y,b),K&&Sa(y,S),A;if(b===null){for(;!O.done;S++,O=v.next())O=f(y,O.value,p),O!==null&&(m=l(O,m,S),D===null?A=O:D.sibling=O,D=O);return K&&Sa(y,S),A}for(b=n(b);!O.done;S++,O=v.next())O=g(b,y,S,O.value,p),O!==null&&(e&&O.alternate!==null&&b.delete(O.key===null?S:O.key),m=l(O,m,S),D===null?A=O:D.sibling=O,D=O);return e&&b.forEach(function(x){return t(y,x)}),K&&Sa(y,S),A}function j(y,m,v,p){if(typeof v=="object"&&v!==null&&v.type===an&&v.key===null&&(v=v.props.children),typeof v=="object"&&v!==null){switch(v.$$typeof){case sl:e:{for(var A=v.key;m!==null;){if(m.key===A){if(A=v.type,A===an){if(m.tag===7){a(y,m.sibling),p=s(m,v.props.children),p.return=y,y=p;break e}}else if(m.elementType===A||typeof A=="object"&&A!==null&&A.$$typeof===Kt&&Do(A)===m.type){a(y,m.sibling),p=s(m,v.props),Pn(p,v),p.return=y,y=p;break e}a(y,m);break}else t(y,m);m=m.sibling}v.type===an?(p=Ea(v.props.children,y.mode,p,v.key),p.return=y,y=p):(p=Tl(v.type,v.key,v.props,null,y.mode,p),Pn(p,v),p.return=y,y=p)}return i(y);case ts:e:{for(A=v.key;m!==null;){if(m.key===A)if(m.tag===4&&m.stateNode.containerInfo===v.containerInfo&&m.stateNode.implementation===v.implementation){a(y,m.sibling),p=s(m,v.children||[]),p.return=y,y=p;break e}else{a(y,m);break}else t(y,m);m=m.sibling}p=er(v,y.mode,p),p.return=y,y=p}return i(y);case Kt:return A=v._init,v=A(v._payload),j(y,m,v,p)}if(as(v))return T(y,m,v,p);if(Vn(v)){if(A=Vn(v),typeof A!="function")throw Error(E(150));return v=A.call(v),N(y,m,v,p)}if(typeof v.then=="function")return j(y,m,dl(v),p);if(v.$$typeof===At)return j(y,m,cl(y,v),p);fl(y,v)}return typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint"?(v=""+v,m!==null&&m.tag===6?(a(y,m.sibling),p=s(m,v),p.return=y,y=p):(a(y,m),p=Fi(v,y.mode,p),p.return=y,y=p),i(y)):a(y,m)}return function(y,m,v,p){try{Os=0;var A=j(y,m,v,p);return _n=null,A}catch(b){if(b===Ks||b===_i)throw b;var D=Xe(29,b,null,y.mode);return D.lanes=p,D.return=y,D}finally{}}}var On=ph(!0),xh=ph(!1),lt=bt(null),yt=null;function Pt(e){var t=e.alternate;ie(be,be.current&1),ie(lt,e),yt===null&&(t===null||En.current!==null||t.memoizedState!==null)&&(yt=e)}function _h(e){if(e.tag===22){if(ie(be,be.current),ie(lt,e),yt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(yt=e)}}else Wt()}function Wt(){ie(be,be.current),ie(lt,lt.current)}function Ut(e){je(lt),yt===e&&(yt=null),je(be)}var be=bt(0);function Zl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||bu(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function nr(e,t,a,n){t=e.memoizedState,a=a(n,t),a=a==null?t:ne({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var au={enqueueSetState:function(e,t,a){e=e._reactInternals;var n=Ze(),s=la(n);s.payload=t,a!=null&&(s.callback=a),t=ia(e,s,n),t!==null&&(Je(t,e,n),fs(t,e,n))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var n=Ze(),s=la(n);s.tag=1,s.payload=t,a!=null&&(s.callback=a),t=ia(e,s,n),t!==null&&(Je(t,e,n),fs(t,e,n))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Ze(),n=la(a);n.tag=2,t!=null&&(n.callback=t),t=ia(e,n,a),t!==null&&(Je(t,e,a),fs(t,e,a))}};function Ro(e,t,a,n,s,l,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(n,l,i):t.prototype&&t.prototype.isPureReactComponent?!Ns(a,n)||!Ns(s,l):!0}function Uo(e,t,a,n){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,n),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,n),t.state!==e&&au.enqueueReplaceState(t,t.state,null)}function za(e,t){var a=t;if("ref"in t){a={};for(var n in t)n!=="ref"&&(a[n]=t[n])}if(e=e.defaultProps){a===t&&(a=ne({},a));for(var s in e)a[s]===void 0&&(a[s]=e[s])}return a}var Jl=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Sh(e){Jl(e)}function wh(e){console.error(e)}function jh(e){Jl(e)}function Pl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(n){setTimeout(function(){throw n})}}function Mo(e,t,a){try{var n=e.onCaughtError;n(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(s){setTimeout(function(){throw s})}}function nu(e,t,a){return a=la(a),a.tag=3,a.payload={element:null},a.callback=function(){Pl(e,t)},a}function Th(e){return e=la(e),e.tag=3,e}function Nh(e,t,a,n){var s=a.type.getDerivedStateFromError;if(typeof s=="function"){var l=n.value;e.payload=function(){return s(l)},e.callback=function(){Mo(t,a,n)}}var i=a.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){Mo(t,a,n),typeof s!="function"&&(ra===null?ra=new Set([this]):ra.add(this));var r=n.stack;this.componentDidCatch(n.value,{componentStack:r!==null?r:""})})}function av(e,t,a,n,s){if(a.flags|=32768,n!==null&&typeof n=="object"&&typeof n.then=="function"){if(t=a.alternate,t!==null&&Xs(t,a,s,!0),a=lt.current,a!==null){switch(a.tag){case 13:return yt===null?du():a.alternate===null&&oe===0&&(oe=3),a.flags&=-257,a.flags|=65536,a.lanes=s,n===Jr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([n]):t.add(n),mr(e,n,s)),!1;case 22:return a.flags|=65536,n===Jr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([n])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([n]):a.add(n)),mr(e,n,s)),!1}throw Error(E(435,a.tag))}return mr(e,n,s),du(),!1}if(K)return t=lt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=s,n!==Qr&&(e=Error(E(422),{cause:n}),Es(at(e,a)))):(n!==Qr&&(t=Error(E(423),{cause:n}),Es(at(t,a))),e=e.current.alternate,e.flags|=65536,s&=-s,e.lanes|=s,n=at(n,a),s=nu(e.stateNode,n,s),tr(e,s),oe!==4&&(oe=2)),!1;var l=Error(E(520),{cause:n});if(l=at(l,a),bs===null?bs=[l]:bs.push(l),oe!==4&&(oe=2),t===null)return!0;n=at(n,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=s&-s,a.lanes|=e,e=nu(a.stateNode,n,e),tr(a,e),!1;case 1:if(t=a.type,l=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||l!==null&&typeof l.componentDidCatch=="function"&&(ra===null||!ra.has(l))))return a.flags|=65536,s&=-s,a.lanes|=s,s=Th(s),Nh(s,e,a,n),tr(a,s),!1}a=a.return}while(a!==null);return!1}var Eh=Error(E(461)),we=!1;function Te(e,t,a,n){t.child=e===null?xh(t,null,a,n):On(t,e.child,a,n)}function ko(e,t,a,n,s){a=a.render;var l=t.ref;if("ref"in n){var i={};for(var r in n)r!=="ref"&&(i[r]=n[r])}else i=n;return ka(t),n=ic(e,t,a,i,l,s),r=rc(),e!==null&&!we?(uc(e,t,s),qt(e,t,s)):(K&&r&&Fu(t),t.flags|=1,Te(e,t,n,s),t.child)}function Co(e,t,a,n,s){if(e===null){var l=a.type;return typeof l=="function"&&!Iu(l)&&l.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=l,Ah(e,t,l,n,s)):(e=Tl(a.type,null,n,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(l=e.child,!yc(e,s)){var i=l.memoizedProps;if(a=a.compare,a=a!==null?a:Ns,a(i,n)&&e.ref===t.ref)return qt(e,t,s)}return t.flags|=1,e=Mt(l,n),e.ref=t.ref,e.return=t,t.child=e}function Ah(e,t,a,n,s){if(e!==null){var l=e.memoizedProps;if(Ns(l,n)&&e.ref===t.ref)if(we=!1,t.pendingProps=n=l,yc(e,s))e.flags&131072&&(we=!0);else return t.lanes=e.lanes,qt(e,t,s)}return su(e,t,a,n,s)}function Oh(e,t,a){var n=t.pendingProps,s=n.children,l=e!==null?e.memoizedState:null;if(n.mode==="hidden"){if(t.flags&128){if(n=l!==null?l.baseLanes|a:a,e!==null){for(s=t.child=e.child,l=0;s!==null;)l=l|s.lanes|s.childLanes,s=s.sibling;t.childLanes=l&~n}else t.childLanes=0,t.child=null;return zo(e,t,n,a)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Nl(t,l!==null?l.cachePool:null),l!==null?wo(t,l):Ir(),_h(t);else return t.lanes=t.childLanes=536870912,zo(e,t,l!==null?l.baseLanes|a:a,a)}else l!==null?(Nl(t,l.cachePool),wo(t,l),Wt(),t.memoizedState=null):(e!==null&&Nl(t,null),Ir(),Wt());return Te(e,t,s,a),t.child}function zo(e,t,a,n){var s=ac();return s=s===null?null:{parent:ye._currentValue,pool:s},t.memoizedState={baseLanes:a,cachePool:s},e!==null&&Nl(t,null),Ir(),_h(t),e!==null&&Xs(e,t,n,!0),null}function Ol(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(E(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function su(e,t,a,n,s){return ka(t),a=ic(e,t,a,n,void 0,s),n=rc(),e!==null&&!we?(uc(e,t,s),qt(e,t,s)):(K&&n&&Fu(t),t.flags|=1,Te(e,t,a,s),t.child)}function qo(e,t,a,n,s,l){return ka(t),t.updateQueue=null,a=Gf(t,n,a,s),Lf(e),n=rc(),e!==null&&!we?(uc(e,t,l),qt(e,t,l)):(K&&n&&Fu(t),t.flags|=1,Te(e,t,a,l),t.child)}function $o(e,t,a,n,s){if(ka(t),t.stateNode===null){var l=dn,i=a.contextType;typeof i=="object"&&i!==null&&(l=De(i)),l=new a(n,l),t.memoizedState=l.state!==null&&l.state!==void 0?l.state:null,l.updater=au,t.stateNode=l,l._reactInternals=t,l=t.stateNode,l.props=n,l.state=t.memoizedState,l.refs={},nc(t),i=a.contextType,l.context=typeof i=="object"&&i!==null?De(i):dn,l.state=t.memoizedState,i=a.getDerivedStateFromProps,typeof i=="function"&&(nr(t,a,i,n),l.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof l.getSnapshotBeforeUpdate=="function"||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(i=l.state,typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount(),i!==l.state&&au.enqueueReplaceState(l,l.state,null),ms(t,n,l,s),hs(),l.state=t.memoizedState),typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!0}else if(e===null){l=t.stateNode;var r=t.memoizedProps,u=za(a,r);l.props=u;var o=l.context,d=a.contextType;i=dn,typeof d=="object"&&d!==null&&(i=De(d));var f=a.getDerivedStateFromProps;d=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,d||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(r||o!==i)&&Uo(t,l,n,i),Zt=!1;var h=t.memoizedState;l.state=h,ms(t,n,l,s),hs(),o=t.memoizedState,r||h!==o||Zt?(typeof f=="function"&&(nr(t,a,f,n),o=t.memoizedState),(u=Zt||Ro(t,a,u,n,h,o,i))?(d||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=o),l.props=n,l.state=o,l.context=i,n=u):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),n=!1)}else{l=t.stateNode,Pr(e,t),i=t.memoizedProps,d=za(a,i),l.props=d,f=t.pendingProps,h=l.context,o=a.contextType,u=dn,typeof o=="object"&&o!==null&&(u=De(o)),r=a.getDerivedStateFromProps,(o=typeof r=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(i!==f||h!==u)&&Uo(t,l,n,u),Zt=!1,h=t.memoizedState,l.state=h,ms(t,n,l,s),hs();var g=t.memoizedState;i!==f||h!==g||Zt||e!==null&&e.dependencies!==null&&Yl(e.dependencies)?(typeof r=="function"&&(nr(t,a,r,n),g=t.memoizedState),(d=Zt||Ro(t,a,d,n,h,g,u)||e!==null&&e.dependencies!==null&&Yl(e.dependencies))?(o||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(n,g,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(n,g,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=g),l.props=n,l.state=g,l.context=u,n=d):(typeof l.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return l=n,Ol(e,t),n=(t.flags&128)!==0,l||n?(l=t.stateNode,a=n&&typeof a.getDerivedStateFromError!="function"?null:l.render(),t.flags|=1,e!==null&&n?(t.child=On(t,e.child,null,s),t.child=On(t,null,a,s)):Te(e,t,a,s),t.memoizedState=l.state,e=t.child):e=qt(e,t,s),e}function Bo(e,t,a,n){return Qs(),t.flags|=256,Te(e,t,a,n),t.child}var sr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function lr(e){return{baseLanes:e,cachePool:zf()}}function ir(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=nt),e}function Dh(e,t,a){var n=t.pendingProps,s=!1,l=(t.flags&128)!==0,i;if((i=l)||(i=e!==null&&e.memoizedState===null?!1:(be.current&2)!==0),i&&(s=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(K){if(s?Pt(t):Wt(),K){var r=ce,u;if(u=r){e:{for(u=r,r=ht;u.nodeType!==8;){if(!r){r=null;break e}if(u=ot(u.nextSibling),u===null){r=null;break e}}r=u}r!==null?(t.memoizedState={dehydrated:r,treeContext:Aa!==null?{id:Ot,overflow:Dt}:null,retryLane:536870912,hydrationErrors:null},u=Xe(18,null,null,0),u.stateNode=r,u.return=t,t.child=u,Re=t,ce=null,u=!0):u=!1}u||Ma(t)}if(r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null))return bu(r)?t.lanes=32:t.lanes=536870912,null;Ut(t)}return r=n.children,n=n.fallback,s?(Wt(),s=t.mode,r=Wl({mode:"hidden",children:r},s),n=Ea(n,s,a,null),r.return=t,n.return=t,r.sibling=n,t.child=r,s=t.child,s.memoizedState=lr(a),s.childLanes=ir(e,i,a),t.memoizedState=sr,n):(Pt(t),lu(t,r))}if(u=e.memoizedState,u!==null&&(r=u.dehydrated,r!==null)){if(l)t.flags&256?(Pt(t),t.flags&=-257,t=rr(e,t,a)):t.memoizedState!==null?(Wt(),t.child=e.child,t.flags|=128,t=null):(Wt(),s=n.fallback,r=t.mode,n=Wl({mode:"visible",children:n.children},r),s=Ea(s,r,a,null),s.flags|=2,n.return=t,s.return=t,n.sibling=s,t.child=n,On(t,e.child,null,a),n=t.child,n.memoizedState=lr(a),n.childLanes=ir(e,i,a),t.memoizedState=sr,t=s);else if(Pt(t),bu(r)){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;i=o,n=Error(E(419)),n.stack="",n.digest=i,Es({value:n,source:null,stack:null}),t=rr(e,t,a)}else if(we||Xs(e,t,a,!1),i=(a&e.childLanes)!==0,we||i){if(i=ae,i!==null&&(n=a&-a,n=n&42?1:Lu(n),n=n&(i.suspendedLanes|a)?0:n,n!==0&&n!==u.retryLane))throw u.retryLane=n,$n(e,n),Je(i,e,n),Eh;r.data==="$?"||du(),t=rr(e,t,a)}else r.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,ce=ot(r.nextSibling),Re=t,K=!0,Oa=null,ht=!1,e!==null&&(Fe[et++]=Ot,Fe[et++]=Dt,Fe[et++]=Aa,Ot=e.id,Dt=e.overflow,Aa=t),t=lu(t,n.children),t.flags|=4096);return t}return s?(Wt(),s=n.fallback,r=t.mode,u=e.child,o=u.sibling,n=Mt(u,{mode:"hidden",children:n.children}),n.subtreeFlags=u.subtreeFlags&65011712,o!==null?s=Mt(o,s):(s=Ea(s,r,a,null),s.flags|=2),s.return=t,n.return=t,n.sibling=s,t.child=n,n=s,s=t.child,r=e.child.memoizedState,r===null?r=lr(a):(u=r.cachePool,u!==null?(o=ye._currentValue,u=u.parent!==o?{parent:o,pool:o}:u):u=zf(),r={baseLanes:r.baseLanes|a,cachePool:u}),s.memoizedState=r,s.childLanes=ir(e,i,a),t.memoizedState=sr,n):(Pt(t),a=e.child,e=a.sibling,a=Mt(a,{mode:"visible",children:n.children}),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a)}function lu(e,t){return t=Wl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Wl(e,t){return e=Xe(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function rr(e,t,a){return On(t,e.child,null,a),e=lu(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ho(e,t,a){e.lanes|=t;var n=e.alternate;n!==null&&(n.lanes|=t),Vr(e.return,t,a)}function ur(e,t,a,n,s){var l=e.memoizedState;l===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:a,tailMode:s}:(l.isBackwards=t,l.rendering=null,l.renderingStartTime=0,l.last=n,l.tail=a,l.tailMode=s)}function Rh(e,t,a){var n=t.pendingProps,s=n.revealOrder,l=n.tail;if(Te(e,t,n.children,a),n=be.current,n&2)n=n&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ho(e,a,t);else if(e.tag===19)Ho(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}switch(ie(be,n),s){case"forwards":for(a=t.child,s=null;a!==null;)e=a.alternate,e!==null&&Zl(e)===null&&(s=a),a=a.sibling;a=s,a===null?(s=t.child,t.child=null):(s=a.sibling,a.sibling=null),ur(t,!1,s,a,l);break;case"backwards":for(a=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&Zl(e)===null){t.child=s;break}e=s.sibling,s.sibling=a,a=s,s=e}ur(t,!0,a,null,l);break;case"together":ur(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function qt(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ma|=t.lanes,!(a&t.childLanes))if(e!==null){if(Xs(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(E(153));if(t.child!==null){for(e=t.child,a=Mt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=Mt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function yc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Yl(e)))}function nv(e,t,a){switch(t.tag){case 3:Cl(t,t.stateNode.containerInfo),Jt(t,ye,e.memoizedState.cache),Qs();break;case 27:case 5:kr(t);break;case 4:Cl(t,t.stateNode.containerInfo);break;case 10:Jt(t,t.type,t.memoizedProps.value);break;case 13:var n=t.memoizedState;if(n!==null)return n.dehydrated!==null?(Pt(t),t.flags|=128,null):a&t.child.childLanes?Dh(e,t,a):(Pt(t),e=qt(e,t,a),e!==null?e.sibling:null);Pt(t);break;case 19:var s=(e.flags&128)!==0;if(n=(a&t.childLanes)!==0,n||(Xs(e,t,a,!1),n=(a&t.childLanes)!==0),s){if(n)return Rh(e,t,a);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ie(be,be.current),n)break;return null;case 22:case 23:return t.lanes=0,Oh(e,t,a);case 24:Jt(t,ye,e.memoizedState.cache)}return qt(e,t,a)}function Uh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)we=!0;else{if(!yc(e,a)&&!(t.flags&128))return we=!1,nv(e,t,a);we=!!(e.flags&131072)}else we=!1,K&&t.flags&1048576&&kf(t,Gl,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var n=t.elementType,s=n._init;if(n=s(n._payload),t.type=n,typeof n=="function")Iu(n)?(e=za(n,e),t.tag=1,t=$o(null,t,n,e,a)):(t.tag=0,t=su(null,t,n,e,a));else{if(n!=null){if(s=n.$$typeof,s===$u){t.tag=11,t=ko(null,t,n,e,a);break e}else if(s===Bu){t.tag=14,t=Co(null,t,n,e,a);break e}}throw t=Ur(n)||n,Error(E(306,t,""))}}return t;case 0:return su(e,t,t.type,t.pendingProps,a);case 1:return n=t.type,s=za(n,t.pendingProps),$o(e,t,n,s,a);case 3:e:{if(Cl(t,t.stateNode.containerInfo),e===null)throw Error(E(387));n=t.pendingProps;var l=t.memoizedState;s=l.element,Pr(e,t),ms(t,n,null,a);var i=t.memoizedState;if(n=i.cache,Jt(t,ye,n),n!==l.cache&&Kr(t,[ye],a,!0),hs(),n=i.element,l.isDehydrated)if(l={element:n,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=l,t.memoizedState=l,t.flags&256){t=Bo(e,t,n,a);break e}else if(n!==s){s=at(Error(E(424)),t),Es(s),t=Bo(e,t,n,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ce=ot(e.firstChild),Re=t,K=!0,Oa=null,ht=!0,a=xh(t,null,n,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qs(),n===s){t=qt(e,t,a);break e}Te(e,t,n,a)}t=t.child}return t;case 26:return Ol(e,t),e===null?(a=nd(t.type,null,t.pendingProps,null))?t.memoizedState=a:K||(a=t.type,e=t.pendingProps,n=si(sa.current).createElement(a),n[Oe]=t,n[He]=e,Ee(n,a,e),Se(n),t.stateNode=n):t.memoizedState=nd(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return kr(t),e===null&&K&&(n=t.stateNode=bm(t.type,t.pendingProps,sa.current),Re=t,ht=!0,s=ce,va(t.type)?(pu=s,ce=ot(n.firstChild)):ce=s),Te(e,t,t.pendingProps.children,a),Ol(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&K&&((s=n=ce)&&(n=Rv(n,t.type,t.pendingProps,ht),n!==null?(t.stateNode=n,Re=t,ce=ot(n.firstChild),ht=!1,s=!0):s=!1),s||Ma(t)),kr(t),s=t.type,l=t.pendingProps,i=e!==null?e.memoizedProps:null,n=l.children,vu(s,l)?n=null:i!==null&&vu(s,i)&&(t.flags|=32),t.memoizedState!==null&&(s=ic(e,t,Jg,null,null,a),Ms._currentValue=s),Ol(e,t),Te(e,t,n,a),t.child;case 6:return e===null&&K&&((e=a=ce)&&(a=Uv(a,t.pendingProps,ht),a!==null?(t.stateNode=a,Re=t,ce=null,e=!0):e=!1),e||Ma(t)),null;case 13:return Dh(e,t,a);case 4:return Cl(t,t.stateNode.containerInfo),n=t.pendingProps,e===null?t.child=On(t,null,n,a):Te(e,t,n,a),t.child;case 11:return ko(e,t,t.type,t.pendingProps,a);case 7:return Te(e,t,t.pendingProps,a),t.child;case 8:return Te(e,t,t.pendingProps.children,a),t.child;case 12:return Te(e,t,t.pendingProps.children,a),t.child;case 10:return n=t.pendingProps,Jt(t,t.type,n.value),Te(e,t,n.children,a),t.child;case 9:return s=t.type._context,n=t.pendingProps.children,ka(t),s=De(s),n=n(s),t.flags|=1,Te(e,t,n,a),t.child;case 14:return Co(e,t,t.type,t.pendingProps,a);case 15:return Ah(e,t,t.type,t.pendingProps,a);case 19:return Rh(e,t,a);case 31:return n=t.pendingProps,a=t.mode,n={mode:n.mode,children:n.children},e===null?(a=Wl(n,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=Mt(e.child,n),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Oh(e,t,a);case 24:return ka(t),n=De(ye),e===null?(s=ac(),s===null&&(s=ae,l=tc(),s.pooledCache=l,l.refCount++,l!==null&&(s.pooledCacheLanes|=a),s=l),t.memoizedState={parent:n,cache:s},nc(t),Jt(t,ye,s)):(e.lanes&a&&(Pr(e,t),ms(t,null,null,a),hs()),s=e.memoizedState,l=t.memoizedState,s.parent!==n?(s={parent:n,cache:n},t.memoizedState=s,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=s),Jt(t,ye,n)):(n=l.cache,Jt(t,ye,n),n!==s.cache&&Kr(t,[ye],a,!0))),Te(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(E(156,t.tag))}function St(e){e.flags|=4}function Lo(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!_m(t)){if(t=lt.current,t!==null&&((X&4194048)===X?yt!==null:(X&62914560)!==X&&!(X&536870912)||t!==yt))throw ds=Jr,qf;e.flags|=8192}}function hl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?nf():536870912,e.lanes|=t,Dn|=t)}function Wn(e,t){if(!K)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var n=null;a!==null;)a.alternate!==null&&(n=a),a=a.sibling;n===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:n.sibling=null}}function ue(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,n=0;if(t)for(var s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags&65011712,n|=s.flags&65011712,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)a|=s.lanes|s.childLanes,n|=s.subtreeFlags,n|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=n,e.childLanes=a,t}function sv(e,t,a){var n=t.pendingProps;switch(ec(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(t),null;case 1:return ue(t),null;case 3:return a=t.stateNode,n=null,e!==null&&(n=e.memoizedState.cache),t.memoizedState.cache!==n&&(t.flags|=2048),kt(ye),wn(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Jn(t)?St(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,yo())),ue(t),null;case 26:return a=t.memoizedState,e===null?(St(t),a!==null?(ue(t),Lo(t,a)):(ue(t),t.flags&=-16777217)):a?a!==e.memoizedState?(St(t),ue(t),Lo(t,a)):(ue(t),t.flags&=-16777217):(e.memoizedProps!==n&&St(t),ue(t),t.flags&=-16777217),null;case 27:zl(t),a=sa.current;var s=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==n&&St(t);else{if(!n){if(t.stateNode===null)throw Error(E(166));return ue(t),null}e=gt.current,Jn(t)?go(t):(e=bm(s,n,a),t.stateNode=e,St(t))}return ue(t),null;case 5:if(zl(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==n&&St(t);else{if(!n){if(t.stateNode===null)throw Error(E(166));return ue(t),null}if(e=gt.current,Jn(t))go(t);else{switch(s=si(sa.current),e){case 1:e=s.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=s.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=s.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof n.is=="string"?s.createElement("select",{is:n.is}):s.createElement("select"),n.multiple?e.multiple=!0:n.size&&(e.size=n.size);break;default:e=typeof n.is=="string"?s.createElement(a,{is:n.is}):s.createElement(a)}}e[Oe]=t,e[He]=n;e:for(s=t.child;s!==null;){if(s.tag===5||s.tag===6)e.appendChild(s.stateNode);else if(s.tag!==4&&s.tag!==27&&s.child!==null){s.child.return=s,s=s.child;continue}if(s===t)break e;for(;s.sibling===null;){if(s.return===null||s.return===t)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}t.stateNode=e;e:switch(Ee(e,a,n),a){case"button":case"input":case"select":case"textarea":e=!!n.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&St(t)}}return ue(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==n&&St(t);else{if(typeof n!="string"&&t.stateNode===null)throw Error(E(166));if(e=sa.current,Jn(t)){if(e=t.stateNode,a=t.memoizedProps,n=null,s=Re,s!==null)switch(s.tag){case 27:case 5:n=s.memoizedProps}e[Oe]=t,e=!!(e.nodeValue===a||n!==null&&n.suppressHydrationWarning===!0||gm(e.nodeValue,a)),e||Ma(t)}else e=si(e).createTextNode(n),e[Oe]=t,t.stateNode=e}return ue(t),null;case 13:if(n=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(s=Jn(t),n!==null&&n.dehydrated!==null){if(e===null){if(!s)throw Error(E(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(E(317));s[Oe]=t}else Qs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ue(t),s=!1}else s=yo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=s),s=!0;if(!s)return t.flags&256?(Ut(t),t):(Ut(t),null)}if(Ut(t),t.flags&128)return t.lanes=a,t;if(a=n!==null,e=e!==null&&e.memoizedState!==null,a){n=t.child,s=null,n.alternate!==null&&n.alternate.memoizedState!==null&&n.alternate.memoizedState.cachePool!==null&&(s=n.alternate.memoizedState.cachePool.pool);var l=null;n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==s&&(n.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),hl(t,t.updateQueue),ue(t),null;case 4:return wn(),e===null&&Tc(t.stateNode.containerInfo),ue(t),null;case 10:return kt(t.type),ue(t),null;case 19:if(je(be),s=t.memoizedState,s===null)return ue(t),null;if(n=(t.flags&128)!==0,l=s.rendering,l===null)if(n)Wn(s,!1);else{if(oe!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=Zl(e),l!==null){for(t.flags|=128,Wn(s,!1),e=l.updateQueue,t.updateQueue=e,hl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Mf(a,e),a=a.sibling;return ie(be,be.current&1|2),t.child}e=e.sibling}s.tail!==null&&vt()>Fl&&(t.flags|=128,n=!0,Wn(s,!1),t.lanes=4194304)}else{if(!n)if(e=Zl(l),e!==null){if(t.flags|=128,n=!0,e=e.updateQueue,t.updateQueue=e,hl(t,e),Wn(s,!0),s.tail===null&&s.tailMode==="hidden"&&!l.alternate&&!K)return ue(t),null}else 2*vt()-s.renderingStartTime>Fl&&a!==536870912&&(t.flags|=128,n=!0,Wn(s,!1),t.lanes=4194304);s.isBackwards?(l.sibling=t.child,t.child=l):(e=s.last,e!==null?e.sibling=l:t.child=l,s.last=l)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=vt(),t.sibling=null,e=be.current,ie(be,n?e&1|2:e&1),t):(ue(t),null);case 22:case 23:return Ut(t),sc(),n=t.memoizedState!==null,e!==null?e.memoizedState!==null!==n&&(t.flags|=8192):n&&(t.flags|=8192),n?a&536870912&&!(t.flags&128)&&(ue(t),t.subtreeFlags&6&&(t.flags|=8192)):ue(t),a=t.updateQueue,a!==null&&hl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),n=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(n=t.memoizedState.cachePool.pool),n!==a&&(t.flags|=2048),e!==null&&je(Da),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),kt(ye),ue(t),null;case 25:return null;case 30:return null}throw Error(E(156,t.tag))}function lv(e,t){switch(ec(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return kt(ye),wn(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return zl(t),null;case 13:if(Ut(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(E(340));Qs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return je(be),null;case 4:return wn(),null;case 10:return kt(t.type),null;case 22:case 23:return Ut(t),sc(),e!==null&&je(Da),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return kt(ye),null;case 25:return null;default:return null}}function Mh(e,t){switch(ec(t),t.tag){case 3:kt(ye),wn();break;case 26:case 27:case 5:zl(t);break;case 4:wn();break;case 13:Ut(t);break;case 19:je(be);break;case 10:kt(t.type);break;case 22:case 23:Ut(t),sc(),e!==null&&je(Da);break;case 24:kt(ye)}}function Ps(e,t){try{var a=t.updateQueue,n=a!==null?a.lastEffect:null;if(n!==null){var s=n.next;a=s;do{if((a.tag&e)===e){n=void 0;var l=a.create,i=a.inst;n=l(),i.destroy=n}a=a.next}while(a!==s)}}catch(r){ee(t,t.return,r)}}function ha(e,t,a){try{var n=t.updateQueue,s=n!==null?n.lastEffect:null;if(s!==null){var l=s.next;n=l;do{if((n.tag&e)===e){var i=n.inst,r=i.destroy;if(r!==void 0){i.destroy=void 0,s=t;var u=a,o=r;try{o()}catch(d){ee(s,u,d)}}}n=n.next}while(n!==l)}}catch(d){ee(t,t.return,d)}}function kh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Hf(t,a)}catch(n){ee(e,e.return,n)}}}function Ch(e,t,a){a.props=za(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(n){ee(e,t,n)}}function vs(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var n=e.stateNode;break;case 30:n=e.stateNode;break;default:n=e.stateNode}typeof a=="function"?e.refCleanup=a(n):a.current=n}}catch(s){ee(e,t,s)}}function mt(e,t){var a=e.ref,n=e.refCleanup;if(a!==null)if(typeof n=="function")try{n()}catch(s){ee(e,t,s)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(s){ee(e,t,s)}else a.current=null}function zh(e){var t=e.type,a=e.memoizedProps,n=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&n.focus();break e;case"img":a.src?n.src=a.src:a.srcSet&&(n.srcset=a.srcSet)}}catch(s){ee(e,e.return,s)}}function cr(e,t,a){try{var n=e.stateNode;Nv(n,e.type,a,t),n[He]=t}catch(s){ee(e,e.return,s)}}function qh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&va(e.type)||e.tag===4}function or(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||qh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&va(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iu(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ai));else if(n!==4&&(n===27&&va(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(iu(e,t,a),e=e.sibling;e!==null;)iu(e,t,a),e=e.sibling}function Il(e,t,a){var n=e.tag;if(n===5||n===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(n!==4&&(n===27&&va(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Il(e,t,a),e=e.sibling;e!==null;)Il(e,t,a),e=e.sibling}function $h(e){var t=e.stateNode,a=e.memoizedProps;try{for(var n=e.type,s=t.attributes;s.length;)t.removeAttributeNode(s[0]);Ee(t,n,a),t[Oe]=e,t[He]=a}catch(l){ee(e,e.return,l)}}var Et=!1,fe=!1,dr=!1,Go=typeof WeakSet=="function"?WeakSet:Set,_e=null;function iv(e,t){if(e=e.containerInfo,mu=ui,e=Tf(e),Ju(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var n=a.getSelection&&a.getSelection();if(n&&n.rangeCount!==0){a=n.anchorNode;var s=n.anchorOffset,l=n.focusNode;n=n.focusOffset;try{a.nodeType,l.nodeType}catch{a=null;break e}var i=0,r=-1,u=-1,o=0,d=0,f=e,h=null;t:for(;;){for(var g;f!==a||s!==0&&f.nodeType!==3||(r=i+s),f!==l||n!==0&&f.nodeType!==3||(u=i+n),f.nodeType===3&&(i+=f.nodeValue.length),(g=f.firstChild)!==null;)h=f,f=g;for(;;){if(f===e)break t;if(h===a&&++o===s&&(r=i),h===l&&++d===n&&(u=i),(g=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=g}a=r===-1||u===-1?null:{start:r,end:u}}else a=null}a=a||{start:0,end:0}}else a=null;for(gu={focusedElem:e,selectionRange:a},ui=!1,_e=t;_e!==null;)if(t=_e,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,_e=e;else for(;_e!==null;){switch(t=_e,l=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&l!==null){e=void 0,a=t,s=l.memoizedProps,l=l.memoizedState,n=a.stateNode;try{var T=za(a.type,s,a.elementType===a.type);e=n.getSnapshotBeforeUpdate(T,l),n.__reactInternalSnapshotBeforeUpdate=e}catch(N){ee(a,a.return,N)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)yu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(E(163))}if(e=t.sibling,e!==null){e.return=t.return,_e=e;break}_e=t.return}}function Bh(e,t,a){var n=a.flags;switch(a.tag){case 0:case 11:case 15:Yt(e,a),n&4&&Ps(5,a);break;case 1:if(Yt(e,a),n&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(i){ee(a,a.return,i)}else{var s=za(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(s,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){ee(a,a.return,i)}}n&64&&kh(a),n&512&&vs(a,a.return);break;case 3:if(Yt(e,a),n&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Hf(e,t)}catch(i){ee(a,a.return,i)}}break;case 27:t===null&&n&4&&$h(a);case 26:case 5:Yt(e,a),t===null&&n&4&&zh(a),n&512&&vs(a,a.return);break;case 12:Yt(e,a);break;case 13:Yt(e,a),n&4&&Gh(e,a),n&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=gv.bind(null,a),Mv(e,a))));break;case 22:if(n=a.memoizedState!==null||Et,!n){t=t!==null&&t.memoizedState!==null||fe,s=Et;var l=fe;Et=n,(fe=t)&&!l?Xt(e,a,(a.subtreeFlags&8772)!==0):Yt(e,a),Et=s,fe=l}break;case 30:break;default:Yt(e,a)}}function Hh(e){var t=e.alternate;t!==null&&(e.alternate=null,Hh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Yu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var se=null,qe=!1;function wt(e,t,a){for(a=a.child;a!==null;)Lh(e,t,a),a=a.sibling}function Lh(e,t,a){if(Ve&&typeof Ve.onCommitFiberUnmount=="function")try{Ve.onCommitFiberUnmount(Bs,a)}catch{}switch(a.tag){case 26:fe||mt(a,t),wt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:fe||mt(a,t);var n=se,s=qe;va(a.type)&&(se=a.stateNode,qe=!1),wt(e,t,a),xs(a.stateNode),se=n,qe=s;break;case 5:fe||mt(a,t);case 6:if(n=se,s=qe,se=null,wt(e,t,a),se=n,qe=s,se!==null)if(qe)try{(se.nodeType===9?se.body:se.nodeName==="HTML"?se.ownerDocument.body:se).removeChild(a.stateNode)}catch(l){ee(a,t,l)}else try{se.removeChild(a.stateNode)}catch(l){ee(a,t,l)}break;case 18:se!==null&&(qe?(e=se,ed(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),zs(e)):ed(se,a.stateNode));break;case 4:n=se,s=qe,se=a.stateNode.containerInfo,qe=!0,wt(e,t,a),se=n,qe=s;break;case 0:case 11:case 14:case 15:fe||ha(2,a,t),fe||ha(4,a,t),wt(e,t,a);break;case 1:fe||(mt(a,t),n=a.stateNode,typeof n.componentWillUnmount=="function"&&Ch(a,t,n)),wt(e,t,a);break;case 21:wt(e,t,a);break;case 22:fe=(n=fe)||a.memoizedState!==null,wt(e,t,a),fe=n;break;default:wt(e,t,a)}}function Gh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zs(e)}catch(a){ee(t,t.return,a)}}function rv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Go),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Go),t;default:throw Error(E(435,e.tag))}}function fr(e,t){var a=rv(e);t.forEach(function(n){var s=vv.bind(null,e,n);a.has(n)||(a.add(n),n.then(s,s))})}function Ge(e,t){var a=t.deletions;if(a!==null)for(var n=0;n<a.length;n++){var s=a[n],l=e,i=t,r=i;e:for(;r!==null;){switch(r.tag){case 27:if(va(r.type)){se=r.stateNode,qe=!1;break e}break;case 5:se=r.stateNode,qe=!1;break e;case 3:case 4:se=r.stateNode.containerInfo,qe=!0;break e}r=r.return}if(se===null)throw Error(E(160));Lh(l,i,s),se=null,qe=!1,l=s.alternate,l!==null&&(l.return=null),s.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Yh(t,e),t=t.sibling}var ut=null;function Yh(e,t){var a=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ge(t,e),Ye(e),n&4&&(ha(3,e,e.return),Ps(3,e),ha(5,e,e.return));break;case 1:Ge(t,e),Ye(e),n&512&&(fe||a===null||mt(a,a.return)),n&64&&Et&&(e=e.updateQueue,e!==null&&(n=e.callbacks,n!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?n:a.concat(n))));break;case 26:var s=ut;if(Ge(t,e),Ye(e),n&512&&(fe||a===null||mt(a,a.return)),n&4){var l=a!==null?a.memoizedState:null;if(n=e.memoizedState,a===null)if(n===null)if(e.stateNode===null){e:{n=e.type,a=e.memoizedProps,s=s.ownerDocument||s;t:switch(n){case"title":l=s.getElementsByTagName("title")[0],(!l||l[Gs]||l[Oe]||l.namespaceURI==="http://www.w3.org/2000/svg"||l.hasAttribute("itemprop"))&&(l=s.createElement(n),s.head.insertBefore(l,s.querySelector("head > title"))),Ee(l,n,a),l[Oe]=e,Se(l),n=l;break e;case"link":var i=ld("link","href",s).get(n+(a.href||""));if(i){for(var r=0;r<i.length;r++)if(l=i[r],l.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&l.getAttribute("rel")===(a.rel==null?null:a.rel)&&l.getAttribute("title")===(a.title==null?null:a.title)&&l.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){i.splice(r,1);break t}}l=s.createElement(n),Ee(l,n,a),s.head.appendChild(l);break;case"meta":if(i=ld("meta","content",s).get(n+(a.content||""))){for(r=0;r<i.length;r++)if(l=i[r],l.getAttribute("content")===(a.content==null?null:""+a.content)&&l.getAttribute("name")===(a.name==null?null:a.name)&&l.getAttribute("property")===(a.property==null?null:a.property)&&l.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&l.getAttribute("charset")===(a.charSet==null?null:a.charSet)){i.splice(r,1);break t}}l=s.createElement(n),Ee(l,n,a),s.head.appendChild(l);break;default:throw Error(E(468,n))}l[Oe]=e,Se(l),n=l}e.stateNode=n}else id(s,e.type,e.stateNode);else e.stateNode=sd(s,n,e.memoizedProps);else l!==n?(l===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):l.count--,n===null?id(s,e.type,e.stateNode):sd(s,n,e.memoizedProps)):n===null&&e.stateNode!==null&&cr(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ge(t,e),Ye(e),n&512&&(fe||a===null||mt(a,a.return)),a!==null&&n&4&&cr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ge(t,e),Ye(e),n&512&&(fe||a===null||mt(a,a.return)),e.flags&32){s=e.stateNode;try{Tn(s,"")}catch(g){ee(e,e.return,g)}}n&4&&e.stateNode!=null&&(s=e.memoizedProps,cr(e,s,a!==null?a.memoizedProps:s)),n&1024&&(dr=!0);break;case 6:if(Ge(t,e),Ye(e),n&4){if(e.stateNode===null)throw Error(E(162));n=e.memoizedProps,a=e.stateNode;try{a.nodeValue=n}catch(g){ee(e,e.return,g)}}break;case 3:if(Ul=null,s=ut,ut=li(t.containerInfo),Ge(t,e),ut=s,Ye(e),n&4&&a!==null&&a.memoizedState.isDehydrated)try{zs(t.containerInfo)}catch(g){ee(e,e.return,g)}dr&&(dr=!1,Qh(e));break;case 4:n=ut,ut=li(e.stateNode.containerInfo),Ge(t,e),Ye(e),ut=n;break;case 12:Ge(t,e),Ye(e);break;case 13:Ge(t,e),Ye(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Sc=vt()),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,fr(e,n)));break;case 22:s=e.memoizedState!==null;var u=a!==null&&a.memoizedState!==null,o=Et,d=fe;if(Et=o||s,fe=d||u,Ge(t,e),fe=d,Et=o,Ye(e),n&8192)e:for(t=e.stateNode,t._visibility=s?t._visibility&-2:t._visibility|1,s&&(a===null||u||Et||fe||wa(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){u=a=t;try{if(l=u.stateNode,s)i=l.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{r=u.stateNode;var f=u.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;r.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(g){ee(u,u.return,g)}}}else if(t.tag===6){if(a===null){u=t;try{u.stateNode.nodeValue=s?"":u.memoizedProps}catch(g){ee(u,u.return,g)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}n&4&&(n=e.updateQueue,n!==null&&(a=n.retryQueue,a!==null&&(n.retryQueue=null,fr(e,a))));break;case 19:Ge(t,e),Ye(e),n&4&&(n=e.updateQueue,n!==null&&(e.updateQueue=null,fr(e,n)));break;case 30:break;case 21:break;default:Ge(t,e),Ye(e)}}function Ye(e){var t=e.flags;if(t&2){try{for(var a,n=e.return;n!==null;){if(qh(n)){a=n;break}n=n.return}if(a==null)throw Error(E(160));switch(a.tag){case 27:var s=a.stateNode,l=or(e);Il(e,l,s);break;case 5:var i=a.stateNode;a.flags&32&&(Tn(i,""),a.flags&=-33);var r=or(e);Il(e,r,i);break;case 3:case 4:var u=a.stateNode.containerInfo,o=or(e);iu(e,o,u);break;default:throw Error(E(161))}}catch(d){ee(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Qh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Qh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Yt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bh(e,t.alternate,t),t=t.sibling}function wa(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ha(4,t,t.return),wa(t);break;case 1:mt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Ch(t,t.return,a),wa(t);break;case 27:xs(t.stateNode);case 26:case 5:mt(t,t.return),wa(t);break;case 22:t.memoizedState===null&&wa(t);break;case 30:wa(t);break;default:wa(t)}e=e.sibling}}function Xt(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var n=t.alternate,s=e,l=t,i=l.flags;switch(l.tag){case 0:case 11:case 15:Xt(s,l,a),Ps(4,l);break;case 1:if(Xt(s,l,a),n=l,s=n.stateNode,typeof s.componentDidMount=="function")try{s.componentDidMount()}catch(o){ee(n,n.return,o)}if(n=l,s=n.updateQueue,s!==null){var r=n.stateNode;try{var u=s.shared.hiddenCallbacks;if(u!==null)for(s.shared.hiddenCallbacks=null,s=0;s<u.length;s++)Bf(u[s],r)}catch(o){ee(n,n.return,o)}}a&&i&64&&kh(l),vs(l,l.return);break;case 27:$h(l);case 26:case 5:Xt(s,l,a),a&&n===null&&i&4&&zh(l),vs(l,l.return);break;case 12:Xt(s,l,a);break;case 13:Xt(s,l,a),a&&i&4&&Gh(s,l);break;case 22:l.memoizedState===null&&Xt(s,l,a),vs(l,l.return);break;case 30:break;default:Xt(s,l,a)}t=t.sibling}}function bc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Vs(a))}function pc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vs(e))}function ft(e,t,a,n){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Xh(e,t,a,n),t=t.sibling}function Xh(e,t,a,n){var s=t.flags;switch(t.tag){case 0:case 11:case 15:ft(e,t,a,n),s&2048&&Ps(9,t);break;case 1:ft(e,t,a,n);break;case 3:ft(e,t,a,n),s&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vs(e)));break;case 12:if(s&2048){ft(e,t,a,n),e=t.stateNode;try{var l=t.memoizedProps,i=l.id,r=l.onPostCommit;typeof r=="function"&&r(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){ee(t,t.return,u)}}else ft(e,t,a,n);break;case 13:ft(e,t,a,n);break;case 23:break;case 22:l=t.stateNode,i=t.alternate,t.memoizedState!==null?l._visibility&2?ft(e,t,a,n):ys(e,t):l._visibility&2?ft(e,t,a,n):(l._visibility|=2,Ia(e,t,a,n,(t.subtreeFlags&10256)!==0)),s&2048&&bc(i,t);break;case 24:ft(e,t,a,n),s&2048&&pc(t.alternate,t);break;default:ft(e,t,a,n)}}function Ia(e,t,a,n,s){for(s=s&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var l=e,i=t,r=a,u=n,o=i.flags;switch(i.tag){case 0:case 11:case 15:Ia(l,i,r,u,s),Ps(8,i);break;case 23:break;case 22:var d=i.stateNode;i.memoizedState!==null?d._visibility&2?Ia(l,i,r,u,s):ys(l,i):(d._visibility|=2,Ia(l,i,r,u,s)),s&&o&2048&&bc(i.alternate,i);break;case 24:Ia(l,i,r,u,s),s&&o&2048&&pc(i.alternate,i);break;default:Ia(l,i,r,u,s)}t=t.sibling}}function ys(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,n=t,s=n.flags;switch(n.tag){case 22:ys(a,n),s&2048&&bc(n.alternate,n);break;case 24:ys(a,n),s&2048&&pc(n.alternate,n);break;default:ys(a,n)}t=t.sibling}}var ss=8192;function Ya(e){if(e.subtreeFlags&ss)for(e=e.child;e!==null;)Vh(e),e=e.sibling}function Vh(e){switch(e.tag){case 26:Ya(e),e.flags&ss&&e.memoizedState!==null&&Vv(ut,e.memoizedState,e.memoizedProps);break;case 5:Ya(e);break;case 3:case 4:var t=ut;ut=li(e.stateNode.containerInfo),Ya(e),ut=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ss,ss=16777216,Ya(e),ss=t):Ya(e));break;default:Ya(e)}}function Kh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function In(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];_e=n,Jh(n,e)}Kh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Zh(e),e=e.sibling}function Zh(e){switch(e.tag){case 0:case 11:case 15:In(e),e.flags&2048&&ha(9,e,e.return);break;case 3:In(e);break;case 12:In(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Dl(e)):In(e);break;default:In(e)}}function Dl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var n=t[a];_e=n,Jh(n,e)}Kh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ha(8,t,t.return),Dl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Dl(t));break;default:Dl(t)}e=e.sibling}}function Jh(e,t){for(;_e!==null;){var a=_e;switch(a.tag){case 0:case 11:case 15:ha(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var n=a.memoizedState.cachePool.pool;n!=null&&n.refCount++}break;case 24:Vs(a.memoizedState.cache)}if(n=a.child,n!==null)n.return=a,_e=n;else e:for(a=e;_e!==null;){n=_e;var s=n.sibling,l=n.return;if(Hh(n),n===a){_e=null;break e}if(s!==null){s.return=l,_e=s;break e}_e=l}}}var uv={getCacheForType:function(e){var t=De(ye),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},cv=typeof WeakMap=="function"?WeakMap:Map,P=0,ae=null,Q=null,X=0,J=0,Qe=null,aa=!1,Bn=!1,xc=!1,$t=0,oe=0,ma=0,Ra=0,_c=0,nt=0,Dn=0,bs=null,$e=null,ru=!1,Sc=0,Fl=1/0,ei=null,ra=null,Ne=0,ua=null,Rn=null,Sn=0,uu=0,cu=null,Ph=null,ps=0,ou=null;function Ze(){if(P&2&&X!==0)return X&-X;if($.T!==null){var e=Nn;return e!==0?e:jc()}return rf()}function Wh(){nt===0&&(nt=!(X&536870912)||K?af():536870912);var e=lt.current;return e!==null&&(e.flags|=32),nt}function Je(e,t,a){(e===ae&&(J===2||J===9)||e.cancelPendingCommit!==null)&&(Un(e,0),na(e,X,nt,!1)),Ls(e,a),(!(P&2)||e!==ae)&&(e===ae&&(!(P&2)&&(Ra|=a),oe===4&&na(e,X,nt,!1)),pt(e))}function Ih(e,t,a){if(P&6)throw Error(E(327));var n=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Hs(e,t),s=n?fv(e,t):hr(e,t,!0),l=n;do{if(s===0){Bn&&!n&&na(e,t,0,!1);break}else{if(a=e.current.alternate,l&&!ov(a)){s=hr(e,t,!1),l=!1;continue}if(s===2){if(l=t,e.errorRecoveryDisabledLanes&l)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var r=e;s=bs;var u=r.current.memoizedState.isDehydrated;if(u&&(Un(r,i).flags|=256),i=hr(r,i,!1),i!==2){if(xc&&!u){r.errorRecoveryDisabledLanes|=l,Ra|=l,s=4;break e}l=$e,$e=s,l!==null&&($e===null?$e=l:$e.push.apply($e,l))}s=i}if(l=!1,s!==2)continue}}if(s===1){Un(e,0),na(e,t,0,!0);break}e:{switch(n=e,l=s,l){case 0:case 1:throw Error(E(345));case 4:if((t&4194048)!==t)break;case 6:na(n,t,nt,!aa);break e;case 2:$e=null;break;case 3:case 5:break;default:throw Error(E(329))}if((t&62914560)===t&&(s=Sc+300-vt(),10<s)){if(na(n,t,nt,!aa),gi(n,0,!0)!==0)break e;n.timeoutHandle=ym(Yo.bind(null,n,a,$e,ei,ru,t,nt,Ra,Dn,aa,l,2,-0,0),s);break e}Yo(n,a,$e,ei,ru,t,nt,Ra,Dn,aa,l,0,-0,0)}}break}while(!0);pt(e)}function Yo(e,t,a,n,s,l,i,r,u,o,d,f,h,g){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Us={stylesheets:null,count:0,unsuspend:Xv},Vh(t),f=Kv(),f!==null)){e.cancelPendingCommit=f(Xo.bind(null,e,t,l,a,n,s,i,r,u,d,1,h,g)),na(e,l,i,!o);return}Xo(e,t,l,a,n,s,i,r,u)}function ov(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var n=0;n<a.length;n++){var s=a[n],l=s.getSnapshot;s=s.value;try{if(!Pe(l(),s))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function na(e,t,a,n){t&=~_c,t&=~Ra,e.suspendedLanes|=t,e.pingedLanes&=~t,n&&(e.warmLanes|=t),n=e.expirationTimes;for(var s=t;0<s;){var l=31-Ke(s),i=1<<l;n[l]=-1,s&=~i}a!==0&&sf(e,a,t)}function Ti(){return P&6?!0:(Ws(0),!1)}function wc(){if(Q!==null){if(J===0)var e=Q.return;else e=Q,Rt=Ha=null,cc(e),_n=null,Os=0,e=Q;for(;e!==null;)Mh(e.alternate,e),e=e.return;Q=null}}function Un(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Av(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),wc(),ae=e,Q=a=Mt(e.current,null),X=t,J=0,Qe=null,aa=!1,Bn=Hs(e,t),xc=!1,Dn=nt=_c=Ra=ma=oe=0,$e=bs=null,ru=!1,t&8&&(t|=t&32);var n=e.entangledLanes;if(n!==0)for(e=e.entanglements,n&=t;0<n;){var s=31-Ke(n),l=1<<s;t|=e[s],n&=~l}return $t=t,pi(),a}function Fh(e,t){L=null,$.H=Kl,t===Ks||t===_i?(t=_o(),J=3):t===qf?(t=_o(),J=4):J=t===Eh?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Qe=t,Q===null&&(oe=1,Pl(e,at(t,e.current)))}function em(){var e=$.H;return $.H=Kl,e===null?Kl:e}function tm(){var e=$.A;return $.A=uv,e}function du(){oe=4,aa||(X&4194048)!==X&&lt.current!==null||(Bn=!0),!(ma&134217727)&&!(Ra&134217727)||ae===null||na(ae,X,nt,!1)}function hr(e,t,a){var n=P;P|=2;var s=em(),l=tm();(ae!==e||X!==t)&&(ei=null,Un(e,t)),t=!1;var i=oe;e:do try{if(J!==0&&Q!==null){var r=Q,u=Qe;switch(J){case 8:wc(),i=6;break e;case 3:case 2:case 9:case 6:lt.current===null&&(t=!0);var o=J;if(J=0,Qe=null,mn(e,r,u,o),a&&Bn){i=0;break e}break;default:o=J,J=0,Qe=null,mn(e,r,u,o)}}dv(),i=oe;break}catch(d){Fh(e,d)}while(!0);return t&&e.shellSuspendCounter++,Rt=Ha=null,P=n,$.H=s,$.A=l,Q===null&&(ae=null,X=0,pi()),i}function dv(){for(;Q!==null;)am(Q)}function fv(e,t){var a=P;P|=2;var n=em(),s=tm();ae!==e||X!==t?(ei=null,Fl=vt()+500,Un(e,t)):Bn=Hs(e,t);e:do try{if(J!==0&&Q!==null){t=Q;var l=Qe;t:switch(J){case 1:J=0,Qe=null,mn(e,t,l,1);break;case 2:case 9:if(xo(l)){J=0,Qe=null,Qo(t);break}t=function(){J!==2&&J!==9||ae!==e||(J=7),pt(e)},l.then(t,t);break e;case 3:J=7;break e;case 4:J=5;break e;case 7:xo(l)?(J=0,Qe=null,Qo(t)):(J=0,Qe=null,mn(e,t,l,7));break;case 5:var i=null;switch(Q.tag){case 26:i=Q.memoizedState;case 5:case 27:var r=Q;if(!i||_m(i)){J=0,Qe=null;var u=r.sibling;if(u!==null)Q=u;else{var o=r.return;o!==null?(Q=o,Ni(o)):Q=null}break t}}J=0,Qe=null,mn(e,t,l,5);break;case 6:J=0,Qe=null,mn(e,t,l,6);break;case 8:wc(),oe=6;break e;default:throw Error(E(462))}}hv();break}catch(d){Fh(e,d)}while(!0);return Rt=Ha=null,$.H=n,$.A=s,P=a,Q!==null?0:(ae=null,X=0,pi(),oe)}function hv(){for(;Q!==null&&!C0();)am(Q)}function am(e){var t=Uh(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?Ni(e):Q=t}function Qo(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=qo(a,t,t.pendingProps,t.type,void 0,X);break;case 11:t=qo(a,t,t.pendingProps,t.type.render,t.ref,X);break;case 5:cc(t);default:Mh(a,t),t=Q=Mf(t,$t),t=Uh(a,t,$t)}e.memoizedProps=e.pendingProps,t===null?Ni(e):Q=t}function mn(e,t,a,n){Rt=Ha=null,cc(t),_n=null,Os=0;var s=t.return;try{if(av(e,s,t,a,X)){oe=1,Pl(e,at(a,e.current)),Q=null;return}}catch(l){if(s!==null)throw Q=s,l;oe=1,Pl(e,at(a,e.current)),Q=null;return}t.flags&32768?(K||n===1?e=!0:Bn||X&536870912?e=!1:(aa=e=!0,(n===2||n===9||n===3||n===6)&&(n=lt.current,n!==null&&n.tag===13&&(n.flags|=16384))),nm(t,e)):Ni(t)}function Ni(e){var t=e;do{if(t.flags&32768){nm(t,aa);return}e=t.return;var a=sv(t.alternate,t,$t);if(a!==null){Q=a;return}if(t=t.sibling,t!==null){Q=t;return}Q=t=e}while(t!==null);oe===0&&(oe=5)}function nm(e,t){do{var a=lv(e.alternate,e);if(a!==null){a.flags&=32767,Q=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Q=e;return}Q=e=a}while(e!==null);oe=6,Q=null}function Xo(e,t,a,n,s,l,i,r,u){e.cancelPendingCommit=null;do Ei();while(Ne!==0);if(P&6)throw Error(E(327));if(t!==null){if(t===e.current)throw Error(E(177));if(l=t.lanes|t.childLanes,l|=Pu,X0(e,a,l,i,r,u),e===ae&&(Q=ae=null,X=0),Rn=t,ua=e,Sn=a,uu=l,cu=s,Ph=n,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,yv(ql,function(){return um(),null})):(e.callbackNode=null,e.callbackPriority=0),n=(t.flags&13878)!==0,t.subtreeFlags&13878||n){n=$.T,$.T=null,s=Z.p,Z.p=2,i=P,P|=4;try{iv(e,t,a)}finally{P=i,Z.p=s,$.T=n}}Ne=1,sm(),lm(),im()}}function sm(){if(Ne===1){Ne=0;var e=ua,t=Rn,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=$.T,$.T=null;var n=Z.p;Z.p=2;var s=P;P|=4;try{Yh(t,e);var l=gu,i=Tf(e.containerInfo),r=l.focusedElem,u=l.selectionRange;if(i!==r&&r&&r.ownerDocument&&jf(r.ownerDocument.documentElement,r)){if(u!==null&&Ju(r)){var o=u.start,d=u.end;if(d===void 0&&(d=o),"selectionStart"in r)r.selectionStart=o,r.selectionEnd=Math.min(d,r.value.length);else{var f=r.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var g=h.getSelection(),T=r.textContent.length,N=Math.min(u.start,T),j=u.end===void 0?N:Math.min(u.end,T);!g.extend&&N>j&&(i=j,j=N,N=i);var y=fo(r,N),m=fo(r,j);if(y&&m&&(g.rangeCount!==1||g.anchorNode!==y.node||g.anchorOffset!==y.offset||g.focusNode!==m.node||g.focusOffset!==m.offset)){var v=f.createRange();v.setStart(y.node,y.offset),g.removeAllRanges(),N>j?(g.addRange(v),g.extend(m.node,m.offset)):(v.setEnd(m.node,m.offset),g.addRange(v))}}}}for(f=[],g=r;g=g.parentNode;)g.nodeType===1&&f.push({element:g,left:g.scrollLeft,top:g.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<f.length;r++){var p=f[r];p.element.scrollLeft=p.left,p.element.scrollTop=p.top}}ui=!!mu,gu=mu=null}finally{P=s,Z.p=n,$.T=a}}e.current=t,Ne=2}}function lm(){if(Ne===2){Ne=0;var e=ua,t=Rn,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=$.T,$.T=null;var n=Z.p;Z.p=2;var s=P;P|=4;try{Bh(e,t.alternate,t)}finally{P=s,Z.p=n,$.T=a}}Ne=3}}function im(){if(Ne===4||Ne===3){Ne=0,z0();var e=ua,t=Rn,a=Sn,n=Ph;t.subtreeFlags&10256||t.flags&10256?Ne=5:(Ne=0,Rn=ua=null,rm(e,e.pendingLanes));var s=e.pendingLanes;if(s===0&&(ra=null),Gu(a),t=t.stateNode,Ve&&typeof Ve.onCommitFiberRoot=="function")try{Ve.onCommitFiberRoot(Bs,t,void 0,(t.current.flags&128)===128)}catch{}if(n!==null){t=$.T,s=Z.p,Z.p=2,$.T=null;try{for(var l=e.onRecoverableError,i=0;i<n.length;i++){var r=n[i];l(r.value,{componentStack:r.stack})}}finally{$.T=t,Z.p=s}}Sn&3&&Ei(),pt(e),s=e.pendingLanes,a&4194090&&s&42?e===ou?ps++:(ps=0,ou=e):ps=0,Ws(0)}}function rm(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vs(t)))}function Ei(e){return sm(),lm(),im(),um()}function um(){if(Ne!==5)return!1;var e=ua,t=uu;uu=0;var a=Gu(Sn),n=$.T,s=Z.p;try{Z.p=32>a?32:a,$.T=null,a=cu,cu=null;var l=ua,i=Sn;if(Ne=0,Rn=ua=null,Sn=0,P&6)throw Error(E(331));var r=P;if(P|=4,Zh(l.current),Xh(l,l.current,i,a),P=r,Ws(0,!1),Ve&&typeof Ve.onPostCommitFiberRoot=="function")try{Ve.onPostCommitFiberRoot(Bs,l)}catch{}return!0}finally{Z.p=s,$.T=n,rm(e,t)}}function Vo(e,t,a){t=at(a,t),t=nu(e.stateNode,t,2),e=ia(e,t,2),e!==null&&(Ls(e,2),pt(e))}function ee(e,t,a){if(e.tag===3)Vo(e,e,a);else for(;t!==null;){if(t.tag===3){Vo(t,e,a);break}else if(t.tag===1){var n=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ra===null||!ra.has(n))){e=at(a,e),a=Th(2),n=ia(t,a,2),n!==null&&(Nh(a,n,t,e),Ls(n,2),pt(n));break}}t=t.return}}function mr(e,t,a){var n=e.pingCache;if(n===null){n=e.pingCache=new cv;var s=new Set;n.set(t,s)}else s=n.get(t),s===void 0&&(s=new Set,n.set(t,s));s.has(a)||(xc=!0,s.add(a),e=mv.bind(null,e,t,a),t.then(e,e))}function mv(e,t,a){var n=e.pingCache;n!==null&&n.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,ae===e&&(X&a)===a&&(oe===4||oe===3&&(X&62914560)===X&&300>vt()-Sc?!(P&2)&&Un(e,0):_c|=a,Dn===X&&(Dn=0)),pt(e)}function cm(e,t){t===0&&(t=nf()),e=$n(e,t),e!==null&&(Ls(e,t),pt(e))}function gv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),cm(e,a)}function vv(e,t){var a=0;switch(e.tag){case 13:var n=e.stateNode,s=e.memoizedState;s!==null&&(a=s.retryLane);break;case 19:n=e.stateNode;break;case 22:n=e.stateNode._retryCache;break;default:throw Error(E(314))}n!==null&&n.delete(t),cm(e,a)}function yv(e,t){return Hu(e,t)}var ti=null,Fa=null,fu=!1,ai=!1,gr=!1,Ua=0;function pt(e){e!==Fa&&e.next===null&&(Fa===null?ti=Fa=e:Fa=Fa.next=e),ai=!0,fu||(fu=!0,pv())}function Ws(e,t){if(!gr&&ai){gr=!0;do for(var a=!1,n=ti;n!==null;){if(e!==0){var s=n.pendingLanes;if(s===0)var l=0;else{var i=n.suspendedLanes,r=n.pingedLanes;l=(1<<31-Ke(42|e)+1)-1,l&=s&~(i&~r),l=l&201326741?l&201326741|1:l?l|2:0}l!==0&&(a=!0,Ko(n,l))}else l=X,l=gi(n,n===ae?l:0,n.cancelPendingCommit!==null||n.timeoutHandle!==-1),!(l&3)||Hs(n,l)||(a=!0,Ko(n,l));n=n.next}while(a);gr=!1}}function bv(){om()}function om(){ai=fu=!1;var e=0;Ua!==0&&(Ev()&&(e=Ua),Ua=0);for(var t=vt(),a=null,n=ti;n!==null;){var s=n.next,l=dm(n,t);l===0?(n.next=null,a===null?ti=s:a.next=s,s===null&&(Fa=a)):(a=n,(e!==0||l&3)&&(ai=!0)),n=s}Ws(e)}function dm(e,t){for(var a=e.suspendedLanes,n=e.pingedLanes,s=e.expirationTimes,l=e.pendingLanes&-62914561;0<l;){var i=31-Ke(l),r=1<<i,u=s[i];u===-1?(!(r&a)||r&n)&&(s[i]=Q0(r,t)):u<=t&&(e.expiredLanes|=r),l&=~r}if(t=ae,a=X,a=gi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n=e.callbackNode,a===0||e===t&&(J===2||J===9)||e.cancelPendingCommit!==null)return n!==null&&n!==null&&Li(n),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Hs(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(n!==null&&Li(n),Gu(a)){case 2:case 8:a=ef;break;case 32:a=ql;break;case 268435456:a=tf;break;default:a=ql}return n=fm.bind(null,e),a=Hu(a,n),e.callbackPriority=t,e.callbackNode=a,t}return n!==null&&n!==null&&Li(n),e.callbackPriority=2,e.callbackNode=null,2}function fm(e,t){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ei()&&e.callbackNode!==a)return null;var n=X;return n=gi(e,e===ae?n:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),n===0?null:(Ih(e,n,t),dm(e,vt()),e.callbackNode!=null&&e.callbackNode===a?fm.bind(null,e):null)}function Ko(e,t){if(Ei())return null;Ih(e,t,!0)}function pv(){Ov(function(){P&6?Hu(Fd,bv):om()})}function jc(){return Ua===0&&(Ua=af()),Ua}function Zo(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Sl(""+e)}function Jo(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function xv(e,t,a,n,s){if(t==="submit"&&a&&a.stateNode===s){var l=Zo((s[He]||null).action),i=n.submitter;i&&(t=(t=i[He]||null)?Zo(t.formAction):i.getAttribute("formAction"),t!==null&&(l=t,i=null));var r=new vi("action","action",null,n,s);e.push({event:r,listeners:[{instance:null,listener:function(){if(n.defaultPrevented){if(Ua!==0){var u=i?Jo(s,i):new FormData(s);tu(a,{pending:!0,data:u,method:s.method,action:l},null,u)}}else typeof l=="function"&&(r.preventDefault(),u=i?Jo(s,i):new FormData(s),tu(a,{pending:!0,data:u,method:s.method,action:l},l,u))},currentTarget:s}]})}}for(var vr=0;vr<Yr.length;vr++){var yr=Yr[vr],_v=yr.toLowerCase(),Sv=yr[0].toUpperCase()+yr.slice(1);dt(_v,"on"+Sv)}dt(Ef,"onAnimationEnd");dt(Af,"onAnimationIteration");dt(Of,"onAnimationStart");dt("dblclick","onDoubleClick");dt("focusin","onFocus");dt("focusout","onBlur");dt(Bg,"onTransitionRun");dt(Hg,"onTransitionStart");dt(Lg,"onTransitionCancel");dt(Df,"onTransitionEnd");jn("onMouseEnter",["mouseout","mouseover"]);jn("onMouseLeave",["mouseout","mouseover"]);jn("onPointerEnter",["pointerout","pointerover"]);jn("onPointerLeave",["pointerout","pointerover"]);qa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qa("onBeforeInput",["compositionend","keypress","textInput","paste"]);qa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ds="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ds));function hm(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var n=e[a],s=n.event;n=n.listeners;e:{var l=void 0;if(t)for(var i=n.length-1;0<=i;i--){var r=n[i],u=r.instance,o=r.currentTarget;if(r=r.listener,u!==l&&s.isPropagationStopped())break e;l=r,s.currentTarget=o;try{l(s)}catch(d){Jl(d)}s.currentTarget=null,l=u}else for(i=0;i<n.length;i++){if(r=n[i],u=r.instance,o=r.currentTarget,r=r.listener,u!==l&&s.isPropagationStopped())break e;l=r,s.currentTarget=o;try{l(s)}catch(d){Jl(d)}s.currentTarget=null,l=u}}}}function Y(e,t){var a=t[zr];a===void 0&&(a=t[zr]=new Set);var n=e+"__bubble";a.has(n)||(mm(t,e,2,!1),a.add(n))}function br(e,t,a){var n=0;t&&(n|=4),mm(a,e,n,t)}var ml="_reactListening"+Math.random().toString(36).slice(2);function Tc(e){if(!e[ml]){e[ml]=!0,uf.forEach(function(a){a!=="selectionchange"&&(wv.has(a)||br(a,!1,e),br(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ml]||(t[ml]=!0,br("selectionchange",!1,t))}}function mm(e,t,a,n){switch(Nm(t)){case 2:var s=Pv;break;case 8:s=Wv;break;default:s=Oc}a=s.bind(null,t,a,e),s=void 0,!Hr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),n?s!==void 0?e.addEventListener(t,a,{capture:!0,passive:s}):e.addEventListener(t,a,!0):s!==void 0?e.addEventListener(t,a,{passive:s}):e.addEventListener(t,a,!1)}function pr(e,t,a,n,s){var l=n;if(!(t&1)&&!(t&2)&&n!==null)e:for(;;){if(n===null)return;var i=n.tag;if(i===3||i===4){var r=n.stateNode.containerInfo;if(r===s)break;if(i===4)for(i=n.return;i!==null;){var u=i.tag;if((u===3||u===4)&&i.stateNode.containerInfo===s)return;i=i.return}for(;r!==null;){if(i=sn(r),i===null)return;if(u=i.tag,u===5||u===6||u===26||u===27){n=l=i;continue e}r=r.parentNode}}n=n.return}vf(function(){var o=l,d=Xu(a),f=[];e:{var h=Rf.get(e);if(h!==void 0){var g=vi,T=e;switch(e){case"keypress":if(jl(a)===0)break e;case"keydown":case"keyup":g=yg;break;case"focusin":T="focus",g=Ji;break;case"focusout":T="blur",g=Ji;break;case"beforeblur":case"afterblur":g=Ji;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=to;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=lg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=xg;break;case Ef:case Af:case Of:g=ug;break;case Df:g=Sg;break;case"scroll":case"scrollend":g=ng;break;case"wheel":g=jg;break;case"copy":case"cut":case"paste":g=og;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=no;break;case"toggle":case"beforetoggle":g=Ng}var N=(t&4)!==0,j=!N&&(e==="scroll"||e==="scrollend"),y=N?h!==null?h+"Capture":null:h;N=[];for(var m=o,v;m!==null;){var p=m;if(v=p.stateNode,p=p.tag,p!==5&&p!==26&&p!==27||v===null||y===null||(p=js(m,y),p!=null&&N.push(Rs(m,p,v))),j)break;m=m.return}0<N.length&&(h=new g(h,T,null,a,d),f.push({event:h,listeners:N}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",g=e==="mouseout"||e==="pointerout",h&&a!==Br&&(T=a.relatedTarget||a.fromElement)&&(sn(T)||T[zn]))break e;if((g||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,g?(T=a.relatedTarget||a.toElement,g=o,T=T?sn(T):null,T!==null&&(j=$s(T),N=T.tag,T!==j||N!==5&&N!==27&&N!==6)&&(T=null)):(g=null,T=o),g!==T)){if(N=to,p="onMouseLeave",y="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(N=no,p="onPointerLeave",y="onPointerEnter",m="pointer"),j=g==null?h:ns(g),v=T==null?h:ns(T),h=new N(p,m+"leave",g,a,d),h.target=j,h.relatedTarget=v,p=null,sn(d)===o&&(N=new N(y,m+"enter",T,a,d),N.target=v,N.relatedTarget=j,p=N),j=p,g&&T)t:{for(N=g,y=T,m=0,v=N;v;v=Qa(v))m++;for(v=0,p=y;p;p=Qa(p))v++;for(;0<m-v;)N=Qa(N),m--;for(;0<v-m;)y=Qa(y),v--;for(;m--;){if(N===y||y!==null&&N===y.alternate)break t;N=Qa(N),y=Qa(y)}N=null}else N=null;g!==null&&Po(f,h,g,N,!1),T!==null&&j!==null&&Po(f,j,T,N,!0)}}e:{if(h=o?ns(o):window,g=h.nodeName&&h.nodeName.toLowerCase(),g==="select"||g==="input"&&h.type==="file")var A=ro;else if(io(h))if(Sf)A=zg;else{A=kg;var D=Mg}else g=h.nodeName,!g||g.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?o&&Qu(o.elementType)&&(A=ro):A=Cg;if(A&&(A=A(e,o))){_f(f,A,a,d);break e}D&&D(e,h,o),e==="focusout"&&o&&h.type==="number"&&o.memoizedProps.value!=null&&$r(h,"number",h.value)}switch(D=o?ns(o):window,e){case"focusin":(io(D)||D.contentEditable==="true")&&(un=D,Lr=o,cs=null);break;case"focusout":cs=Lr=un=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":Gr=!1,ho(f,a,d);break;case"selectionchange":if($g)break;case"keydown":case"keyup":ho(f,a,d)}var b;if(Zu)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else rn?pf(e,a)&&(S="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(S="onCompositionStart");S&&(bf&&a.locale!=="ko"&&(rn||S!=="onCompositionStart"?S==="onCompositionEnd"&&rn&&(b=yf()):(ta=d,Vu="value"in ta?ta.value:ta.textContent,rn=!0)),D=ni(o,S),0<D.length&&(S=new ao(S,e,null,a,d),f.push({event:S,listeners:D}),b?S.data=b:(b=xf(a),b!==null&&(S.data=b)))),(b=Ag?Og(e,a):Dg(e,a))&&(S=ni(o,"onBeforeInput"),0<S.length&&(D=new ao("onBeforeInput","beforeinput",null,a,d),f.push({event:D,listeners:S}),D.data=b)),xv(f,e,o,a,d)}hm(f,t)})}function Rs(e,t,a){return{instance:e,listener:t,currentTarget:a}}function ni(e,t){for(var a=t+"Capture",n=[];e!==null;){var s=e,l=s.stateNode;if(s=s.tag,s!==5&&s!==26&&s!==27||l===null||(s=js(e,a),s!=null&&n.unshift(Rs(e,s,l)),s=js(e,t),s!=null&&n.push(Rs(e,s,l))),e.tag===3)return n;e=e.return}return[]}function Qa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Po(e,t,a,n,s){for(var l=t._reactName,i=[];a!==null&&a!==n;){var r=a,u=r.alternate,o=r.stateNode;if(r=r.tag,u!==null&&u===n)break;r!==5&&r!==26&&r!==27||o===null||(u=o,s?(o=js(a,l),o!=null&&i.unshift(Rs(a,o,u))):s||(o=js(a,l),o!=null&&i.push(Rs(a,o,u)))),a=a.return}i.length!==0&&e.push({event:t,listeners:i})}var jv=/\r\n?/g,Tv=/\u0000|\uFFFD/g;function Wo(e){return(typeof e=="string"?e:""+e).replace(jv,`
`).replace(Tv,"")}function gm(e,t){return t=Wo(t),Wo(e)===t}function Ai(){}function I(e,t,a,n,s,l){switch(a){case"children":typeof n=="string"?t==="body"||t==="textarea"&&n===""||Tn(e,n):(typeof n=="number"||typeof n=="bigint")&&t!=="body"&&Tn(e,""+n);break;case"className":rl(e,"class",n);break;case"tabIndex":rl(e,"tabindex",n);break;case"dir":case"role":case"viewBox":case"width":case"height":rl(e,a,n);break;case"style":gf(e,n,l);break;case"data":if(t!=="object"){rl(e,"data",n);break}case"src":case"href":if(n===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(n==null||typeof n=="function"||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Sl(""+n),e.setAttribute(a,n);break;case"action":case"formAction":if(typeof n=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof l=="function"&&(a==="formAction"?(t!=="input"&&I(e,t,"name",s.name,s,null),I(e,t,"formEncType",s.formEncType,s,null),I(e,t,"formMethod",s.formMethod,s,null),I(e,t,"formTarget",s.formTarget,s,null)):(I(e,t,"encType",s.encType,s,null),I(e,t,"method",s.method,s,null),I(e,t,"target",s.target,s,null)));if(n==null||typeof n=="symbol"||typeof n=="boolean"){e.removeAttribute(a);break}n=Sl(""+n),e.setAttribute(a,n);break;case"onClick":n!=null&&(e.onclick=Ai);break;case"onScroll":n!=null&&Y("scroll",e);break;case"onScrollEnd":n!=null&&Y("scrollend",e);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(E(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(E(60));e.innerHTML=a}}break;case"multiple":e.multiple=n&&typeof n!="function"&&typeof n!="symbol";break;case"muted":e.muted=n&&typeof n!="function"&&typeof n!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(n==null||typeof n=="function"||typeof n=="boolean"||typeof n=="symbol"){e.removeAttribute("xlink:href");break}a=Sl(""+n),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""+n):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":n&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":n===!0?e.setAttribute(a,""):n!==!1&&n!=null&&typeof n!="function"&&typeof n!="symbol"?e.setAttribute(a,n):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":n!=null&&typeof n!="function"&&typeof n!="symbol"&&!isNaN(n)&&1<=n?e.setAttribute(a,n):e.removeAttribute(a);break;case"rowSpan":case"start":n==null||typeof n=="function"||typeof n=="symbol"||isNaN(n)?e.removeAttribute(a):e.setAttribute(a,n);break;case"popover":Y("beforetoggle",e),Y("toggle",e),_l(e,"popover",n);break;case"xlinkActuate":_t(e,"http://www.w3.org/1999/xlink","xlink:actuate",n);break;case"xlinkArcrole":_t(e,"http://www.w3.org/1999/xlink","xlink:arcrole",n);break;case"xlinkRole":_t(e,"http://www.w3.org/1999/xlink","xlink:role",n);break;case"xlinkShow":_t(e,"http://www.w3.org/1999/xlink","xlink:show",n);break;case"xlinkTitle":_t(e,"http://www.w3.org/1999/xlink","xlink:title",n);break;case"xlinkType":_t(e,"http://www.w3.org/1999/xlink","xlink:type",n);break;case"xmlBase":_t(e,"http://www.w3.org/XML/1998/namespace","xml:base",n);break;case"xmlLang":_t(e,"http://www.w3.org/XML/1998/namespace","xml:lang",n);break;case"xmlSpace":_t(e,"http://www.w3.org/XML/1998/namespace","xml:space",n);break;case"is":_l(e,"is",n);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=tg.get(a)||a,_l(e,a,n))}}function hu(e,t,a,n,s,l){switch(a){case"style":gf(e,n,l);break;case"dangerouslySetInnerHTML":if(n!=null){if(typeof n!="object"||!("__html"in n))throw Error(E(61));if(a=n.__html,a!=null){if(s.children!=null)throw Error(E(60));e.innerHTML=a}}break;case"children":typeof n=="string"?Tn(e,n):(typeof n=="number"||typeof n=="bigint")&&Tn(e,""+n);break;case"onScroll":n!=null&&Y("scroll",e);break;case"onScrollEnd":n!=null&&Y("scrollend",e);break;case"onClick":n!=null&&(e.onclick=Ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!cf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(s=a.endsWith("Capture"),t=a.slice(2,s?a.length-7:void 0),l=e[He]||null,l=l!=null?l[a]:null,typeof l=="function"&&e.removeEventListener(t,l,s),typeof n=="function")){typeof l!="function"&&l!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,n,s);break e}a in e?e[a]=n:n===!0?e.setAttribute(a,""):_l(e,a,n)}}}function Ee(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Y("error",e),Y("load",e);var n=!1,s=!1,l;for(l in a)if(a.hasOwnProperty(l)){var i=a[l];if(i!=null)switch(l){case"src":n=!0;break;case"srcSet":s=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(E(137,t));default:I(e,t,l,i,a,null)}}s&&I(e,t,"srcSet",a.srcSet,a,null),n&&I(e,t,"src",a.src,a,null);return;case"input":Y("invalid",e);var r=l=i=s=null,u=null,o=null;for(n in a)if(a.hasOwnProperty(n)){var d=a[n];if(d!=null)switch(n){case"name":s=d;break;case"type":i=d;break;case"checked":u=d;break;case"defaultChecked":o=d;break;case"value":l=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(E(137,t));break;default:I(e,t,n,d,a,null)}}ff(e,l,r,u,o,i,s,!1),$l(e);return;case"select":Y("invalid",e),n=i=l=null;for(s in a)if(a.hasOwnProperty(s)&&(r=a[s],r!=null))switch(s){case"value":l=r;break;case"defaultValue":i=r;break;case"multiple":n=r;default:I(e,t,s,r,a,null)}t=l,a=i,e.multiple=!!n,t!=null?vn(e,!!n,t,!1):a!=null&&vn(e,!!n,a,!0);return;case"textarea":Y("invalid",e),l=s=n=null;for(i in a)if(a.hasOwnProperty(i)&&(r=a[i],r!=null))switch(i){case"value":n=r;break;case"defaultValue":s=r;break;case"children":l=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(E(91));break;default:I(e,t,i,r,a,null)}mf(e,n,s,l),$l(e);return;case"option":for(u in a)if(a.hasOwnProperty(u)&&(n=a[u],n!=null))switch(u){case"selected":e.selected=n&&typeof n!="function"&&typeof n!="symbol";break;default:I(e,t,u,n,a,null)}return;case"dialog":Y("beforetoggle",e),Y("toggle",e),Y("cancel",e),Y("close",e);break;case"iframe":case"object":Y("load",e);break;case"video":case"audio":for(n=0;n<Ds.length;n++)Y(Ds[n],e);break;case"image":Y("error",e),Y("load",e);break;case"details":Y("toggle",e);break;case"embed":case"source":case"link":Y("error",e),Y("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(o in a)if(a.hasOwnProperty(o)&&(n=a[o],n!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(E(137,t));default:I(e,t,o,n,a,null)}return;default:if(Qu(t)){for(d in a)a.hasOwnProperty(d)&&(n=a[d],n!==void 0&&hu(e,t,d,n,a,void 0));return}}for(r in a)a.hasOwnProperty(r)&&(n=a[r],n!=null&&I(e,t,r,n,a,null))}function Nv(e,t,a,n){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var s=null,l=null,i=null,r=null,u=null,o=null,d=null;for(g in a){var f=a[g];if(a.hasOwnProperty(g)&&f!=null)switch(g){case"checked":break;case"value":break;case"defaultValue":u=f;default:n.hasOwnProperty(g)||I(e,t,g,null,n,f)}}for(var h in n){var g=n[h];if(f=a[h],n.hasOwnProperty(h)&&(g!=null||f!=null))switch(h){case"type":l=g;break;case"name":s=g;break;case"checked":o=g;break;case"defaultChecked":d=g;break;case"value":i=g;break;case"defaultValue":r=g;break;case"children":case"dangerouslySetInnerHTML":if(g!=null)throw Error(E(137,t));break;default:g!==f&&I(e,t,h,g,n,f)}}qr(e,i,r,u,o,d,l,s);return;case"select":g=i=r=h=null;for(l in a)if(u=a[l],a.hasOwnProperty(l)&&u!=null)switch(l){case"value":break;case"multiple":g=u;default:n.hasOwnProperty(l)||I(e,t,l,null,n,u)}for(s in n)if(l=n[s],u=a[s],n.hasOwnProperty(s)&&(l!=null||u!=null))switch(s){case"value":h=l;break;case"defaultValue":r=l;break;case"multiple":i=l;default:l!==u&&I(e,t,s,l,n,u)}t=r,a=i,n=g,h!=null?vn(e,!!a,h,!1):!!n!=!!a&&(t!=null?vn(e,!!a,t,!0):vn(e,!!a,a?[]:"",!1));return;case"textarea":g=h=null;for(r in a)if(s=a[r],a.hasOwnProperty(r)&&s!=null&&!n.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:I(e,t,r,null,n,s)}for(i in n)if(s=n[i],l=a[i],n.hasOwnProperty(i)&&(s!=null||l!=null))switch(i){case"value":h=s;break;case"defaultValue":g=s;break;case"children":break;case"dangerouslySetInnerHTML":if(s!=null)throw Error(E(91));break;default:s!==l&&I(e,t,i,s,n,l)}hf(e,h,g);return;case"option":for(var T in a)if(h=a[T],a.hasOwnProperty(T)&&h!=null&&!n.hasOwnProperty(T))switch(T){case"selected":e.selected=!1;break;default:I(e,t,T,null,n,h)}for(u in n)if(h=n[u],g=a[u],n.hasOwnProperty(u)&&h!==g&&(h!=null||g!=null))switch(u){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:I(e,t,u,h,n,g)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in a)h=a[N],a.hasOwnProperty(N)&&h!=null&&!n.hasOwnProperty(N)&&I(e,t,N,null,n,h);for(o in n)if(h=n[o],g=a[o],n.hasOwnProperty(o)&&h!==g&&(h!=null||g!=null))switch(o){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(E(137,t));break;default:I(e,t,o,h,n,g)}return;default:if(Qu(t)){for(var j in a)h=a[j],a.hasOwnProperty(j)&&h!==void 0&&!n.hasOwnProperty(j)&&hu(e,t,j,void 0,n,h);for(d in n)h=n[d],g=a[d],!n.hasOwnProperty(d)||h===g||h===void 0&&g===void 0||hu(e,t,d,h,n,g);return}}for(var y in a)h=a[y],a.hasOwnProperty(y)&&h!=null&&!n.hasOwnProperty(y)&&I(e,t,y,null,n,h);for(f in n)h=n[f],g=a[f],!n.hasOwnProperty(f)||h===g||h==null&&g==null||I(e,t,f,h,n,g)}var mu=null,gu=null;function si(e){return e.nodeType===9?e:e.ownerDocument}function Io(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vm(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xr=null;function Ev(){var e=window.event;return e&&e.type==="popstate"?e===xr?!1:(xr=e,!0):(xr=null,!1)}var ym=typeof setTimeout=="function"?setTimeout:void 0,Av=typeof clearTimeout=="function"?clearTimeout:void 0,Fo=typeof Promise=="function"?Promise:void 0,Ov=typeof queueMicrotask=="function"?queueMicrotask:typeof Fo<"u"?function(e){return Fo.resolve(null).then(e).catch(Dv)}:ym;function Dv(e){setTimeout(function(){throw e})}function va(e){return e==="head"}function ed(e,t){var a=t,n=0,s=0;do{var l=a.nextSibling;if(e.removeChild(a),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(0<n&&8>n){a=n;var i=e.ownerDocument;if(a&1&&xs(i.documentElement),a&2&&xs(i.body),a&4)for(a=i.head,xs(a),i=a.firstChild;i;){var r=i.nextSibling,u=i.nodeName;i[Gs]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}if(s===0){e.removeChild(l),zs(t);return}s--}else a==="$"||a==="$?"||a==="$!"?s++:n=a.charCodeAt(0)-48;else n=0;a=l}while(a);zs(t)}function yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yu(a),Yu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Rv(e,t,a,n){for(;e.nodeType===1;){var s=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!n&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(n){if(!e[Gs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(l=e.getAttribute("rel"),l==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(l!==s.rel||e.getAttribute("href")!==(s.href==null||s.href===""?null:s.href)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin)||e.getAttribute("title")!==(s.title==null?null:s.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(l=e.getAttribute("src"),(l!==(s.src==null?null:s.src)||e.getAttribute("type")!==(s.type==null?null:s.type)||e.getAttribute("crossorigin")!==(s.crossOrigin==null?null:s.crossOrigin))&&l&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var l=s.name==null?null:""+s.name;if(s.type==="hidden"&&e.getAttribute("name")===l)return e}else return e;if(e=ot(e.nextSibling),e===null)break}return null}function Uv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ot(e.nextSibling),e===null))return null;return e}function bu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Mv(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var n=function(){t(),a.removeEventListener("DOMContentLoaded",n)};a.addEventListener("DOMContentLoaded",n),e._reactRetry=n}}function ot(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var pu=null;function td(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function bm(e,t,a){switch(t=si(a),e){case"html":if(e=t.documentElement,!e)throw Error(E(452));return e;case"head":if(e=t.head,!e)throw Error(E(453));return e;case"body":if(e=t.body,!e)throw Error(E(454));return e;default:throw Error(E(451))}}function xs(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Yu(e)}var it=new Map,ad=new Set;function li(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Bt=Z.d;Z.d={f:kv,r:Cv,D:zv,C:qv,L:$v,m:Bv,X:Lv,S:Hv,M:Gv};function kv(){var e=Bt.f(),t=Ti();return e||t}function Cv(e){var t=qn(e);t!==null&&t.tag===5&&t.type==="form"?dh(t):Bt.r(e)}var Hn=typeof document>"u"?null:document;function pm(e,t,a){var n=Hn;if(n&&typeof t=="string"&&t){var s=tt(t);s='link[rel="'+e+'"][href="'+s+'"]',typeof a=="string"&&(s+='[crossorigin="'+a+'"]'),ad.has(s)||(ad.add(s),e={rel:e,crossOrigin:a,href:t},n.querySelector(s)===null&&(t=n.createElement("link"),Ee(t,"link",e),Se(t),n.head.appendChild(t)))}}function zv(e){Bt.D(e),pm("dns-prefetch",e,null)}function qv(e,t){Bt.C(e,t),pm("preconnect",e,t)}function $v(e,t,a){Bt.L(e,t,a);var n=Hn;if(n&&e&&t){var s='link[rel="preload"][as="'+tt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(s+='[imagesrcset="'+tt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(s+='[imagesizes="'+tt(a.imageSizes)+'"]')):s+='[href="'+tt(e)+'"]';var l=s;switch(t){case"style":l=Mn(e);break;case"script":l=Ln(e)}it.has(l)||(e=ne({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),it.set(l,e),n.querySelector(s)!==null||t==="style"&&n.querySelector(Is(l))||t==="script"&&n.querySelector(Fs(l))||(t=n.createElement("link"),Ee(t,"link",e),Se(t),n.head.appendChild(t)))}}function Bv(e,t){Bt.m(e,t);var a=Hn;if(a&&e){var n=t&&typeof t.as=="string"?t.as:"script",s='link[rel="modulepreload"][as="'+tt(n)+'"][href="'+tt(e)+'"]',l=s;switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":l=Ln(e)}if(!it.has(l)&&(e=ne({rel:"modulepreload",href:e},t),it.set(l,e),a.querySelector(s)===null)){switch(n){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fs(l)))return}n=a.createElement("link"),Ee(n,"link",e),Se(n),a.head.appendChild(n)}}}function Hv(e,t,a){Bt.S(e,t,a);var n=Hn;if(n&&e){var s=gn(n).hoistableStyles,l=Mn(e);t=t||"default";var i=s.get(l);if(!i){var r={loading:0,preload:null};if(i=n.querySelector(Is(l)))r.loading=5;else{e=ne({rel:"stylesheet",href:e,"data-precedence":t},a),(a=it.get(l))&&Nc(e,a);var u=i=n.createElement("link");Se(u),Ee(u,"link",e),u._p=new Promise(function(o,d){u.onload=o,u.onerror=d}),u.addEventListener("load",function(){r.loading|=1}),u.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Rl(i,t,n)}i={type:"stylesheet",instance:i,count:1,state:r},s.set(l,i)}}}function Lv(e,t){Bt.X(e,t);var a=Hn;if(a&&e){var n=gn(a).hoistableScripts,s=Ln(e),l=n.get(s);l||(l=a.querySelector(Fs(s)),l||(e=ne({src:e,async:!0},t),(t=it.get(s))&&Ec(e,t),l=a.createElement("script"),Se(l),Ee(l,"link",e),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},n.set(s,l))}}function Gv(e,t){Bt.M(e,t);var a=Hn;if(a&&e){var n=gn(a).hoistableScripts,s=Ln(e),l=n.get(s);l||(l=a.querySelector(Fs(s)),l||(e=ne({src:e,async:!0,type:"module"},t),(t=it.get(s))&&Ec(e,t),l=a.createElement("script"),Se(l),Ee(l,"link",e),a.head.appendChild(l)),l={type:"script",instance:l,count:1,state:null},n.set(s,l))}}function nd(e,t,a,n){var s=(s=sa.current)?li(s):null;if(!s)throw Error(E(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Mn(a.href),a=gn(s).hoistableStyles,n=a.get(t),n||(n={type:"style",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Mn(a.href);var l=gn(s).hoistableStyles,i=l.get(e);if(i||(s=s.ownerDocument||s,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},l.set(e,i),(l=s.querySelector(Is(e)))&&!l._p&&(i.instance=l,i.state.loading=5),it.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},it.set(e,a),l||Yv(s,e,a,i.state))),t&&n===null)throw Error(E(528,""));return i}if(t&&n!==null)throw Error(E(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=Ln(a),a=gn(s).hoistableScripts,n=a.get(t),n||(n={type:"script",instance:null,count:0,state:null},a.set(t,n)),n):{type:"void",instance:null,count:0,state:null};default:throw Error(E(444,e))}}function Mn(e){return'href="'+tt(e)+'"'}function Is(e){return'link[rel="stylesheet"]['+e+"]"}function xm(e){return ne({},e,{"data-precedence":e.precedence,precedence:null})}function Yv(e,t,a,n){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?n.loading=1:(t=e.createElement("link"),n.preload=t,t.addEventListener("load",function(){return n.loading|=1}),t.addEventListener("error",function(){return n.loading|=2}),Ee(t,"link",a),Se(t),e.head.appendChild(t))}function Ln(e){return'[src="'+tt(e)+'"]'}function Fs(e){return"script[async]"+e}function sd(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var n=e.querySelector('style[data-href~="'+tt(a.href)+'"]');if(n)return t.instance=n,Se(n),n;var s=ne({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return n=(e.ownerDocument||e).createElement("style"),Se(n),Ee(n,"style",s),Rl(n,a.precedence,e),t.instance=n;case"stylesheet":s=Mn(a.href);var l=e.querySelector(Is(s));if(l)return t.state.loading|=4,t.instance=l,Se(l),l;n=xm(a),(s=it.get(s))&&Nc(n,s),l=(e.ownerDocument||e).createElement("link"),Se(l);var i=l;return i._p=new Promise(function(r,u){i.onload=r,i.onerror=u}),Ee(l,"link",n),t.state.loading|=4,Rl(l,a.precedence,e),t.instance=l;case"script":return l=Ln(a.src),(s=e.querySelector(Fs(l)))?(t.instance=s,Se(s),s):(n=a,(s=it.get(l))&&(n=ne({},a),Ec(n,s)),e=e.ownerDocument||e,s=e.createElement("script"),Se(s),Ee(s,"link",n),e.head.appendChild(s),t.instance=s);case"void":return null;default:throw Error(E(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(n=t.instance,t.state.loading|=4,Rl(n,a.precedence,e));return t.instance}function Rl(e,t,a){for(var n=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),s=n.length?n[n.length-1]:null,l=s,i=0;i<n.length;i++){var r=n[i];if(r.dataset.precedence===t)l=r;else if(l!==s)break}l?l.parentNode.insertBefore(e,l.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Ec(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Ul=null;function ld(e,t,a){if(Ul===null){var n=new Map,s=Ul=new Map;s.set(a,n)}else s=Ul,n=s.get(a),n||(n=new Map,s.set(a,n));if(n.has(e))return n;for(n.set(e,null),a=a.getElementsByTagName(e),s=0;s<a.length;s++){var l=a[s];if(!(l[Gs]||l[Oe]||e==="link"&&l.getAttribute("rel")==="stylesheet")&&l.namespaceURI!=="http://www.w3.org/2000/svg"){var i=l.getAttribute(t)||"";i=e+i;var r=n.get(i);r?r.push(l):n.set(i,[l])}}return n}function id(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Qv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function _m(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Us=null;function Xv(){}function Vv(e,t,a){if(Us===null)throw Error(E(475));var n=Us;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var s=Mn(a.href),l=e.querySelector(Is(s));if(l){e=l._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(n.count++,n=ii.bind(n),e.then(n,n)),t.state.loading|=4,t.instance=l,Se(l);return}l=e.ownerDocument||e,a=xm(a),(s=it.get(s))&&Nc(a,s),l=l.createElement("link"),Se(l);var i=l;i._p=new Promise(function(r,u){i.onload=r,i.onerror=u}),Ee(l,"link",a),t.instance=l}n.stylesheets===null&&(n.stylesheets=new Map),n.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(n.count++,t=ii.bind(n),e.addEventListener("load",t),e.addEventListener("error",t))}}function Kv(){if(Us===null)throw Error(E(475));var e=Us;return e.stylesheets&&e.count===0&&xu(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&xu(e,e.stylesheets),e.unsuspend){var n=e.unsuspend;e.unsuspend=null,n()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ii(){if(this.count--,this.count===0){if(this.stylesheets)xu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ri=null;function xu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ri=new Map,t.forEach(Zv,e),ri=null,ii.call(e))}function Zv(e,t){if(!(t.state.loading&4)){var a=ri.get(e);if(a)var n=a.get(null);else{a=new Map,ri.set(e,a);for(var s=e.querySelectorAll("link[data-precedence],style[data-precedence]"),l=0;l<s.length;l++){var i=s[l];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(a.set(i.dataset.precedence,i),n=i)}n&&a.set(null,n)}s=t.instance,i=s.getAttribute("data-precedence"),l=a.get(i)||n,l===n&&a.set(null,s),a.set(i,s),this.count++,n=ii.bind(this),s.addEventListener("load",n),s.addEventListener("error",n),l?l.parentNode.insertBefore(s,l.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(s,e.firstChild)),t.state.loading|=4}}var Ms={$$typeof:At,Provider:null,Consumer:null,_currentValue:Na,_currentValue2:Na,_threadCount:0};function Jv(e,t,a,n,s,l,i,r){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=n,this.onUncaughtError=s,this.onCaughtError=l,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function Sm(e,t,a,n,s,l,i,r,u,o,d,f){return e=new Jv(e,t,a,i,r,u,o,f),t=1,l===!0&&(t|=24),l=Xe(3,null,null,t),e.current=l,l.stateNode=e,t=tc(),t.refCount++,e.pooledCache=t,t.refCount++,l.memoizedState={element:n,isDehydrated:a,cache:t},nc(l),e}function wm(e){return e?(e=dn,e):dn}function jm(e,t,a,n,s,l){s=wm(s),n.context===null?n.context=s:n.pendingContext=s,n=la(t),n.payload={element:a},l=l===void 0?null:l,l!==null&&(n.callback=l),a=ia(e,n,t),a!==null&&(Je(a,e,t),fs(a,e,t))}function rd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ac(e,t){rd(e,t),(e=e.alternate)&&rd(e,t)}function Tm(e){if(e.tag===13){var t=$n(e,67108864);t!==null&&Je(t,e,67108864),Ac(e,67108864)}}var ui=!0;function Pv(e,t,a,n){var s=$.T;$.T=null;var l=Z.p;try{Z.p=2,Oc(e,t,a,n)}finally{Z.p=l,$.T=s}}function Wv(e,t,a,n){var s=$.T;$.T=null;var l=Z.p;try{Z.p=8,Oc(e,t,a,n)}finally{Z.p=l,$.T=s}}function Oc(e,t,a,n){if(ui){var s=_u(n);if(s===null)pr(e,t,n,ci,a),ud(e,n);else if(Fv(s,e,t,a,n))n.stopPropagation();else if(ud(e,n),t&4&&-1<Iv.indexOf(e)){for(;s!==null;){var l=qn(s);if(l!==null)switch(l.tag){case 3:if(l=l.stateNode,l.current.memoizedState.isDehydrated){var i=_a(l.pendingLanes);if(i!==0){var r=l;for(r.pendingLanes|=2,r.entangledLanes|=2;i;){var u=1<<31-Ke(i);r.entanglements[1]|=u,i&=~u}pt(l),!(P&6)&&(Fl=vt()+500,Ws(0))}}break;case 13:r=$n(l,2),r!==null&&Je(r,l,2),Ti(),Ac(l,2)}if(l=_u(n),l===null&&pr(e,t,n,ci,a),l===s)break;s=l}s!==null&&n.stopPropagation()}else pr(e,t,n,null,a)}}function _u(e){return e=Xu(e),Dc(e)}var ci=null;function Dc(e){if(ci=null,e=sn(e),e!==null){var t=$s(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Jd(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ci=e,null}function Nm(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(q0()){case Fd:return 2;case ef:return 8;case ql:case $0:return 32;case tf:return 268435456;default:return 32}default:return 32}}var Su=!1,ca=null,oa=null,da=null,ks=new Map,Cs=new Map,It=[],Iv="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ud(e,t){switch(e){case"focusin":case"focusout":ca=null;break;case"dragenter":case"dragleave":oa=null;break;case"mouseover":case"mouseout":da=null;break;case"pointerover":case"pointerout":ks.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cs.delete(t.pointerId)}}function Fn(e,t,a,n,s,l){return e===null||e.nativeEvent!==l?(e={blockedOn:t,domEventName:a,eventSystemFlags:n,nativeEvent:l,targetContainers:[s]},t!==null&&(t=qn(t),t!==null&&Tm(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function Fv(e,t,a,n,s){switch(t){case"focusin":return ca=Fn(ca,e,t,a,n,s),!0;case"dragenter":return oa=Fn(oa,e,t,a,n,s),!0;case"mouseover":return da=Fn(da,e,t,a,n,s),!0;case"pointerover":var l=s.pointerId;return ks.set(l,Fn(ks.get(l)||null,e,t,a,n,s)),!0;case"gotpointercapture":return l=s.pointerId,Cs.set(l,Fn(Cs.get(l)||null,e,t,a,n,s)),!0}return!1}function Em(e){var t=sn(e.target);if(t!==null){var a=$s(t);if(a!==null){if(t=a.tag,t===13){if(t=Jd(a),t!==null){e.blockedOn=t,V0(e.priority,function(){if(a.tag===13){var n=Ze();n=Lu(n);var s=$n(a,n);s!==null&&Je(s,a,n),Ac(a,n)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ml(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=_u(e.nativeEvent);if(a===null){a=e.nativeEvent;var n=new a.constructor(a.type,a);Br=n,a.target.dispatchEvent(n),Br=null}else return t=qn(a),t!==null&&Tm(t),e.blockedOn=a,!1;t.shift()}return!0}function cd(e,t,a){Ml(e)&&a.delete(t)}function ey(){Su=!1,ca!==null&&Ml(ca)&&(ca=null),oa!==null&&Ml(oa)&&(oa=null),da!==null&&Ml(da)&&(da=null),ks.forEach(cd),Cs.forEach(cd)}function gl(e,t){e.blockedOn===t&&(e.blockedOn=null,Su||(Su=!0,pe.unstable_scheduleCallback(pe.unstable_NormalPriority,ey)))}var vl=null;function od(e){vl!==e&&(vl=e,pe.unstable_scheduleCallback(pe.unstable_NormalPriority,function(){vl===e&&(vl=null);for(var t=0;t<e.length;t+=3){var a=e[t],n=e[t+1],s=e[t+2];if(typeof n!="function"){if(Dc(n||a)===null)continue;break}var l=qn(a);l!==null&&(e.splice(t,3),t-=3,tu(l,{pending:!0,data:s,method:a.method,action:n},n,s))}}))}function zs(e){function t(u){return gl(u,e)}ca!==null&&gl(ca,e),oa!==null&&gl(oa,e),da!==null&&gl(da,e),ks.forEach(t),Cs.forEach(t);for(var a=0;a<It.length;a++){var n=It[a];n.blockedOn===e&&(n.blockedOn=null)}for(;0<It.length&&(a=It[0],a.blockedOn===null);)Em(a),a.blockedOn===null&&It.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(n=0;n<a.length;n+=3){var s=a[n],l=a[n+1],i=s[He]||null;if(typeof l=="function")i||od(a);else if(i){var r=null;if(l&&l.hasAttribute("formAction")){if(s=l,i=l[He]||null)r=i.formAction;else if(Dc(s)!==null)continue}else r=i.action;typeof r=="function"?a[n+1]=r:(a.splice(n,3),n-=3),od(a)}}}function Rc(e){this._internalRoot=e}Oi.prototype.render=Rc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(E(409));var a=t.current,n=Ze();jm(a,n,e,t,null,null)};Oi.prototype.unmount=Rc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;jm(e.current,2,null,e,null,null),Ti(),t[zn]=null}};function Oi(e){this._internalRoot=e}Oi.prototype.unstable_scheduleHydration=function(e){if(e){var t=rf();e={blockedOn:null,target:e,priority:t};for(var a=0;a<It.length&&t!==0&&t<It[a].priority;a++);It.splice(a,0,e),a===0&&Em(e)}};var dd=Kd.version;if(dd!=="19.1.1")throw Error(E(527,dd,"19.1.1"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(E(188)):(e=Object.keys(e).join(","),Error(E(268,e)));return e=D0(t),e=e!==null?Pd(e):null,e=e===null?null:e.stateNode,e};var ty={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:$,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var yl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!yl.isDisabled&&yl.supportsFiber)try{Bs=yl.inject(ty),Ve=yl}catch{}}hi.createRoot=function(e,t){if(!Zd(e))throw Error(E(299));var a=!1,n="",s=Sh,l=wh,i=jh,r=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(n=t.identifierPrefix),t.onUncaughtError!==void 0&&(s=t.onUncaughtError),t.onCaughtError!==void 0&&(l=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(r=t.unstable_transitionCallbacks)),t=Sm(e,1,!1,null,null,a,n,s,l,i,r,null),e[zn]=t.current,Tc(e),new Rc(t)};hi.hydrateRoot=function(e,t,a){if(!Zd(e))throw Error(E(299));var n=!1,s="",l=Sh,i=wh,r=jh,u=null,o=null;return a!=null&&(a.unstable_strictMode===!0&&(n=!0),a.identifierPrefix!==void 0&&(s=a.identifierPrefix),a.onUncaughtError!==void 0&&(l=a.onUncaughtError),a.onCaughtError!==void 0&&(i=a.onCaughtError),a.onRecoverableError!==void 0&&(r=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(u=a.unstable_transitionCallbacks),a.formState!==void 0&&(o=a.formState)),t=Sm(e,1,!0,t,a??null,n,s,l,i,r,u,o),t.context=wm(null),a=t.current,n=Ze(),n=Lu(n),s=la(n),s.callback=null,ia(a,s,n),a=n,t.current.lanes=a,Ls(t,a),pt(t),e[zn]=t.current,Tc(e),new Oi(t)};hi.version="19.1.1";function Am(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Am)}catch(e){console.error(e)}}Am(),Ld.exports=hi;var ay=Ld.exports;const ny=Rd(ay),sy="modulepreload",ly=function(e){return"/"+e},fd={},el=function(t,a,n){let s=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),r=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));s=Promise.allSettled(a.map(u=>{if(u=ly(u),u in fd)return;fd[u]=!0;const o=u.endsWith(".css"),d=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=o?"stylesheet":sy,o||(f.as="script"),f.crossOrigin="",f.href=u,r&&f.setAttribute("nonce",r),document.head.appendChild(f),o)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${u}`)))})}))}function l(i){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i}return s.then(i=>{for(const r of i||[])r.status==="rejected"&&l(r.reason);return t().catch(l)})},iy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>el(async()=>{const{default:n}=await Promise.resolve().then(()=>Gn);return{default:n}},void 0).then(({default:n})=>n(...a)):t=fetch,(...a)=>t(...a)};class Uc extends Error{constructor(t,a="FunctionsError",n){super(t),this.name=a,this.context=n}}class ry extends Uc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class hd extends Uc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class md extends Uc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wu||(wu={}));var uy=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function r(d){try{o(n.next(d))}catch(f){i(f)}}function u(d){try{o(n.throw(d))}catch(f){i(f)}}function o(d){d.done?l(d.value):s(d.value).then(r,u)}o((n=n.apply(e,t||[])).next())})};class cy{constructor(t,{headers:a={},customFetch:n,region:s=wu.Any}={}){this.url=t,this.headers=a,this.region=s,this.fetch=iy(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,a={}){var n;return uy(this,void 0,void 0,function*(){try{const{headers:s,method:l,body:i}=a;let r={},{region:u}=a;u||(u=this.region);const o=new URL(`${this.url}/${t}`);u&&u!=="any"&&(r["x-region"]=u,o.searchParams.set("forceFunctionRegion",u));let d;i&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(r["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(r["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(r["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(o.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},r),this.headers),s),body:d}).catch(N=>{throw new ry(N)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new hd(f);if(!f.ok)throw new md(f);let g=((n=f.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),T;return g==="application/json"?T=yield f.json():g==="application/octet-stream"?T=yield f.blob():g==="text/event-stream"?T=f:g==="multipart/form-data"?T=yield f.formData():T=yield f.text(),{data:T,error:null,response:f}}catch(s){return{data:null,error:s,response:s instanceof md||s instanceof hd?s.context:void 0}}})}}var Be={},Mc={},Di={},tl={},Ri={},Ui={},oy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},kn=oy();const dy=kn.fetch,Om=kn.fetch.bind(kn),Dm=kn.Headers,fy=kn.Request,hy=kn.Response,Gn=Object.freeze(Object.defineProperty({__proto__:null,Headers:Dm,Request:fy,Response:hy,default:Om,fetch:dy},Symbol.toStringTag,{value:"Module"})),my=l0(Gn);var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});let gy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Mi.default=gy;var Rm=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ui,"__esModule",{value:!0});const vy=Rm(my),yy=Rm(Mi);let by=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=vy.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,a){return this.headers=Object.assign({},this.headers),this.headers[t]=a,this}then(t,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var i,r,u;let o=null,d=null,f=null,h=l.status,g=l.statusText;if(l.ok){if(this.method!=="HEAD"){const y=await l.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const N=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),j=(r=l.headers.get("content-range"))===null||r===void 0?void 0:r.split("/");N&&j&&j.length>1&&(f=parseInt(j[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(o={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,g="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const N=await l.text();try{o=JSON.parse(N),Array.isArray(o)&&l.status===404&&(d=[],o=null,h=200,g="OK")}catch{l.status===404&&N===""?(h=204,g="No Content"):o={message:N}}if(o&&this.isMaybeSingle&&(!((u=o==null?void 0:o.details)===null||u===void 0)&&u.includes("0 rows"))&&(o=null,h=200,g="OK"),o&&this.shouldThrowOnError)throw new yy.default(o)}return{error:o,data:d,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(l=>{var i,r,u;return{error:{message:`${(i=l==null?void 0:l.name)!==null&&i!==void 0?i:"FetchError"}: ${l==null?void 0:l.message}`,details:`${(r=l==null?void 0:l.stack)!==null&&r!==void 0?r:""}`,hint:"",code:`${(u=l==null?void 0:l.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),s.then(t,a)}returns(){return this}overrideTypes(){return this}};Ui.default=by;var py=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ri,"__esModule",{value:!0});const xy=py(Ui);let _y=class extends xy.default{select(t){let a=!1;const n=(t??"*").split("").map(s=>/\s/.test(s)&&!a?"":(s==='"'&&(a=!a),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:a=!0,nullsFirst:n,foreignTable:s,referencedTable:l=s}={}){const i=l?`${l}.order`:"order",r=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${r?`${r},`:""}${t}.${a?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:a,referencedTable:n=a}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this}range(t,a,{foreignTable:n,referencedTable:s=n}={}){const l=typeof s>"u"?"offset":`${s}.offset`,i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(l,`${t}`),this.url.searchParams.set(i,`${a-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:a=!1,settings:n=!1,buffers:s=!1,wal:l=!1,format:i="text"}={}){var r;const u=[t?"analyze":null,a?"verbose":null,n?"settings":null,s?"buffers":null,l?"wal":null].filter(Boolean).join("|"),o=(r=this.headers.Accept)!==null&&r!==void 0?r:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${o}"; options=${u};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ri.default=_y;var Sy=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(tl,"__esModule",{value:!0});const wy=Sy(Ri);let jy=class extends wy.default{eq(t,a){return this.url.searchParams.append(t,`eq.${a}`),this}neq(t,a){return this.url.searchParams.append(t,`neq.${a}`),this}gt(t,a){return this.url.searchParams.append(t,`gt.${a}`),this}gte(t,a){return this.url.searchParams.append(t,`gte.${a}`),this}lt(t,a){return this.url.searchParams.append(t,`lt.${a}`),this}lte(t,a){return this.url.searchParams.append(t,`lte.${a}`),this}like(t,a){return this.url.searchParams.append(t,`like.${a}`),this}likeAllOf(t,a){return this.url.searchParams.append(t,`like(all).{${a.join(",")}}`),this}likeAnyOf(t,a){return this.url.searchParams.append(t,`like(any).{${a.join(",")}}`),this}ilike(t,a){return this.url.searchParams.append(t,`ilike.${a}`),this}ilikeAllOf(t,a){return this.url.searchParams.append(t,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(t,a){return this.url.searchParams.append(t,`ilike(any).{${a.join(",")}}`),this}is(t,a){return this.url.searchParams.append(t,`is.${a}`),this}in(t,a){const n=Array.from(new Set(a)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,a){return typeof a=="string"?this.url.searchParams.append(t,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(t,`cs.{${a.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(a)}`),this}containedBy(t,a){return typeof a=="string"?this.url.searchParams.append(t,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(t,`cd.{${a.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(a)}`),this}rangeGt(t,a){return this.url.searchParams.append(t,`sr.${a}`),this}rangeGte(t,a){return this.url.searchParams.append(t,`nxl.${a}`),this}rangeLt(t,a){return this.url.searchParams.append(t,`sl.${a}`),this}rangeLte(t,a){return this.url.searchParams.append(t,`nxr.${a}`),this}rangeAdjacent(t,a){return this.url.searchParams.append(t,`adj.${a}`),this}overlaps(t,a){return typeof a=="string"?this.url.searchParams.append(t,`ov.${a}`):this.url.searchParams.append(t,`ov.{${a.join(",")}}`),this}textSearch(t,a,{config:n,type:s}={}){let l="";s==="plain"?l="pl":s==="phrase"?l="ph":s==="websearch"&&(l="w");const i=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${l}fts${i}.${a}`),this}match(t){return Object.entries(t).forEach(([a,n])=>{this.url.searchParams.append(a,`eq.${n}`)}),this}not(t,a,n){return this.url.searchParams.append(t,`not.${a}.${n}`),this}or(t,{foreignTable:a,referencedTable:n=a}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${t})`),this}filter(t,a,n){return this.url.searchParams.append(t,`${a}.${n}`),this}};tl.default=jy;var Ty=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Di,"__esModule",{value:!0});const es=Ty(tl);let Ny=class{constructor(t,{headers:a={},schema:n,fetch:s}){this.url=t,this.headers=a,this.schema=n,this.fetch=s}select(t,{head:a=!1,count:n}={}){const s=a?"HEAD":"GET";let l=!1;const i=(t??"*").split("").map(r=>/\s/.test(r)&&!l?"":(r==='"'&&(l=!l),r)).join("");return this.url.searchParams.set("select",i),n&&(this.headers.Prefer=`count=${n}`),new es.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:a,defaultToNull:n=!0}={}){const s="POST",l=[];if(this.headers.Prefer&&l.push(this.headers.Prefer),a&&l.push(`count=${a}`),n||l.push("missing=default"),this.headers.Prefer=l.join(","),Array.isArray(t)){const i=t.reduce((r,u)=>r.concat(Object.keys(u)),[]);if(i.length>0){const r=[...new Set(i)].map(u=>`"${u}"`);this.url.searchParams.set("columns",r.join(","))}}return new es.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:a,ignoreDuplicates:n=!1,count:s,defaultToNull:l=!0}={}){const i="POST",r=[`resolution=${n?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&r.push(this.headers.Prefer),s&&r.push(`count=${s}`),l||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(t)){const u=t.reduce((o,d)=>o.concat(Object.keys(d)),[]);if(u.length>0){const o=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",o.join(","))}}return new es.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:a}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),a&&s.push(`count=${a}`),this.headers.Prefer=s.join(","),new es.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const a="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new es.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Di.default=Ny;var ki={},Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.version=void 0;Ci.version="0.0.0-automated";Object.defineProperty(ki,"__esModule",{value:!0});ki.DEFAULT_HEADERS=void 0;const Ey=Ci;ki.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Ey.version}`};var Um=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Mc,"__esModule",{value:!0});const Ay=Um(Di),Oy=Um(tl),Dy=ki;let Ry=class Mm{constructor(t,{headers:a={},schema:n,fetch:s}={}){this.url=t,this.headers=Object.assign(Object.assign({},Dy.DEFAULT_HEADERS),a),this.schemaName=n,this.fetch=s}from(t){const a=new URL(`${this.url}/${t}`);return new Ay.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new Mm(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,a={},{head:n=!1,get:s=!1,count:l}={}){let i;const r=new URL(`${this.url}/rpc/${t}`);let u;n||s?(i=n?"HEAD":"GET",Object.entries(a).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{r.searchParams.append(d,f)})):(i="POST",u=a);const o=Object.assign({},this.headers);return l&&(o.Prefer=`count=${l}`),new Oy.default({method:i,url:r,headers:o,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Mc.default=Ry;var Yn=st&&st.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const km=Yn(Mc);Be.PostgrestClient=km.default;const Cm=Yn(Di);Be.PostgrestQueryBuilder=Cm.default;const zm=Yn(tl);Be.PostgrestFilterBuilder=zm.default;const qm=Yn(Ri);Be.PostgrestTransformBuilder=qm.default;const $m=Yn(Ui);Be.PostgrestBuilder=$m.default;const Bm=Yn(Mi);Be.PostgrestError=Bm.default;var Uy=Be.default={PostgrestClient:km.default,PostgrestQueryBuilder:Cm.default,PostgrestFilterBuilder:zm.default,PostgrestTransformBuilder:qm.default,PostgrestBuilder:$m.default,PostgrestError:Bm.default};const{PostgrestClient:My,PostgrestQueryBuilder:kp,PostgrestFilterBuilder:Cp,PostgrestTransformBuilder:zp,PostgrestBuilder:qp,PostgrestError:$p}=Uy;function ky(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const Cy=ky(),zy="2.11.15",qy=`realtime-js/${zy}`,$y="1.0.0",Hm=1e4,By=1e3;var _s;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_s||(_s={}));var Ae;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ae||(Ae={}));var ct;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ct||(ct={}));var ju;(function(e){e.websocket="websocket"})(ju||(ju={}));var Ta;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ta||(Ta={}));class Hy{constructor(){this.HEADER_LENGTH=1}decode(t,a){return t.constructor===ArrayBuffer?a(this._binaryDecode(t)):a(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const a=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,a,n)}_decodeBroadcast(t,a,n){const s=a.getUint8(1),l=a.getUint8(2);let i=this.HEADER_LENGTH+2;const r=n.decode(t.slice(i,i+s));i=i+s;const u=n.decode(t.slice(i,i+l));i=i+l;const o=JSON.parse(n.decode(t.slice(i,t.byteLength)));return{ref:null,topic:r,event:u,payload:o}}}class Lm{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var te;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(te||(te={}));const gd=(e,t,a={})=>{var n;const s=(n=a.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((l,i)=>(l[i]=Ly(i,e,t,s),l),{})},Ly=(e,t,a,n)=>{const s=t.find(r=>r.name===e),l=s==null?void 0:s.type,i=a[e];return l&&!n.includes(l)?Gm(l,i):Tu(i)},Gm=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return Xy(t,a)}switch(e){case te.bool:return Gy(t);case te.float4:case te.float8:case te.int2:case te.int4:case te.int8:case te.numeric:case te.oid:return Yy(t);case te.json:case te.jsonb:return Qy(t);case te.timestamp:return Vy(t);case te.abstime:case te.date:case te.daterange:case te.int4range:case te.int8range:case te.money:case te.reltime:case te.text:case te.time:case te.timestamptz:case te.timetz:case te.tsrange:case te.tstzrange:return Tu(t);default:return Tu(t)}},Tu=e=>e,Gy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Yy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Qy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Xy=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,n=e[a];if(e[0]==="{"&&n==="}"){let l;const i=e.slice(1,a);try{l=JSON.parse("["+i+"]")}catch{l=i?i.split(","):[]}return l.map(r=>Gm(t,r))}return e},Vy=e=>typeof e=="string"?e.replace(" ","T"):e,Ym=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class _r{constructor(t,a,n={},s=Hm){this.channel=t,this.event=a,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var n;return this._hasReceived(t)&&a((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var vd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(vd||(vd={}));class Ss{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:l,onLeave:i,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ss.syncState(this.state,s,l,i),this.pendingDiffs.forEach(u=>{this.state=Ss.syncDiff(this.state,u,l,i)}),this.pendingDiffs=[],r()}),this.channel._on(n.diff,{},s=>{const{onJoin:l,onLeave:i,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ss.syncDiff(this.state,s,l,i),r())}),this.onJoin((s,l,i)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:l,newPresences:i})}),this.onLeave((s,l,i)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:l,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,n,s){const l=this.cloneDeep(t),i=this.transformState(a),r={},u={};return this.map(l,(o,d)=>{i[o]||(u[o]=d)}),this.map(i,(o,d)=>{const f=l[o];if(f){const h=d.map(j=>j.presence_ref),g=f.map(j=>j.presence_ref),T=d.filter(j=>g.indexOf(j.presence_ref)<0),N=f.filter(j=>h.indexOf(j.presence_ref)<0);T.length>0&&(r[o]=T),N.length>0&&(u[o]=N)}else r[o]=d}),this.syncDiff(l,{joins:r,leaves:u},n,s)}static syncDiff(t,a,n,s){const{joins:l,leaves:i}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(l,(r,u)=>{var o;const d=(o=t[r])!==null&&o!==void 0?o:[];if(t[r]=this.cloneDeep(u),d.length>0){const f=t[r].map(g=>g.presence_ref),h=d.filter(g=>f.indexOf(g.presence_ref)<0);t[r].unshift(...h)}n(r,d,u)}),this.map(i,(r,u)=>{let o=t[r];if(!o)return;const d=u.map(f=>f.presence_ref);o=o.filter(f=>d.indexOf(f.presence_ref)<0),t[r]=o,s(r,o,u),o.length===0&&delete t[r]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(n=>a(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,n)=>{const s=t[n];return"metas"in s?a[n]=s.metas.map(l=>(l.presence_ref=l.phx_ref,delete l.phx_ref,delete l.phx_ref_prev,l)):a[n]=s,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var yd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(yd||(yd={}));var bd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(bd||(bd={}));var Tt;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Tt||(Tt={}));class kc{constructor(t,a={config:{}},n){this.topic=t,this.params=a,this.socket=n,this.bindings={},this.state=Ae.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new _r(this,ct.join,this.params,this.timeout),this.rejoinTimer=new Lm(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ae.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ae.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ae.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ct.reply,{},(s,l)=>{this._trigger(this._replyEventName(l),s)}),this.presence=new Ss(this),this.broadcastEndpointURL=Ym(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,a=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.state==Ae.closed){const{config:{broadcast:l,presence:i,private:r}}=this.params;this._onError(d=>t==null?void 0:t(Tt.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Tt.CLOSED));const u={},o={broadcast:l,presence:i,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(d=>d.filter))!==null&&s!==void 0?s:[],private:r};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:o},u)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Tt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,T=[];for(let N=0;N<g;N++){const j=h[N],{filter:{event:y,schema:m,table:v,filter:p}}=j,A=d&&d[N];if(A&&A.event===y&&A.schema===m&&A.table===v&&A.filter===p)T.push(Object.assign(Object.assign({},j),{id:A.id}));else{this.unsubscribe(),this.state=Ae.errored,t==null||t(Tt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,t&&t(Tt.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ae.errored,t==null||t(Tt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Tt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,n){return this._on(t,a,n)}async send(t,a={}){var n,s;if(!this._canPush()&&t.type==="broadcast"){const{event:l,payload:i}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:l,payload:i,private:this.private}]})};try{const o=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(n=a.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=o.body)===null||s===void 0?void 0:s.cancel()),o.ok?"ok":"error"}catch(o){return o.name==="AbortError"?"timed out":"error"}}else return new Promise(l=>{var i,r,u;const o=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(r=(i=this.params)===null||i===void 0?void 0:i.config)===null||r===void 0?void 0:r.broadcast)===null||u===void 0)&&u.ack)&&l("ok"),o.receive("ok",()=>l("ok")),o.receive("error",()=>l("error")),o.receive("timeout",()=>l("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ae.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ct.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(s=>{n=new _r(this,ct.leave,{},t),n.receive("ok",()=>{a(),s("ok")}).receive("timeout",()=>{a(),s("timed out")}).receive("error",()=>{s("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,a,n){const s=new AbortController,l=setTimeout(()=>s.abort(),n),i=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:s.signal}));return clearTimeout(l),i}_push(t,a,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new _r(this,t,a,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(t,a,n){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,n){var s,l;const i=t.toLocaleLowerCase(),{close:r,error:u,leave:o,join:d}=ct;if(n&&[r,u,o,d].indexOf(i)>=0&&n!==this._joinRef())return;let h=this._onMessage(i,a,n);if(a&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var T,N,j;return((T=g.filter)===null||T===void 0?void 0:T.event)==="*"||((j=(N=g.filter)===null||N===void 0?void 0:N.event)===null||j===void 0?void 0:j.toLocaleLowerCase())===i}).map(g=>g.callback(h,n)):(l=this.bindings[i])===null||l===void 0||l.filter(g=>{var T,N,j,y,m,v;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in g){const p=g.id,A=(T=g.filter)===null||T===void 0?void 0:T.event;return p&&((N=a.ids)===null||N===void 0?void 0:N.includes(p))&&(A==="*"||(A==null?void 0:A.toLocaleLowerCase())===((j=a.data)===null||j===void 0?void 0:j.type.toLocaleLowerCase()))}else{const p=(m=(y=g==null?void 0:g.filter)===null||y===void 0?void 0:y.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return p==="*"||p===((v=a==null?void 0:a.event)===null||v===void 0?void 0:v.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===i}).map(g=>{if(typeof h=="object"&&"ids"in h){const T=h.data,{schema:N,table:j,commit_timestamp:y,type:m,errors:v}=T;h=Object.assign(Object.assign({},{schema:N,table:j,commit_timestamp:y,eventType:m,new:{},old:{},errors:v}),this._getPayloadRecords(T))}g.callback(h,n)})}_isClosed(){return this.state===Ae.closed}_isJoined(){return this.state===Ae.joined}_isJoining(){return this.state===Ae.joining}_isLeaving(){return this.state===Ae.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,n){const s=t.toLocaleLowerCase(),l={type:s,filter:a,callback:n};return this.bindings[s]?this.bindings[s].push(l):this.bindings[s]=[l],this}_off(t,a){const n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var l;return!(((l=s.type)===null||l===void 0?void 0:l.toLocaleLowerCase())===n&&kc.isEqual(s.filter,a))}),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const n in t)if(t[n]!==a[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ct.close,{},t)}_onError(t){this._on(ct.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ae.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=gd(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=gd(t.columns,t.old_record)),a}}const pd=()=>{},Ky=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Zy{constructor(t,a){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Hm,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=pd,this.ref=0,this.logger=pd,this.conn=null,this.sendBuffer=[],this.serializer=new Hy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=l=>{let i;return l?i=l:typeof fetch>"u"?i=(...r)=>el(async()=>{const{default:u}=await Promise.resolve().then(()=>Gn);return{default:u}},void 0).then(({default:u})=>u(...r)):i=fetch,(...r)=>i(...r)},this.endPoint=`${t}/${ju.websocket}`,this.httpEndpoint=Ym(t),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const s=(n=a==null?void 0:a.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:l=>[1e3,2e3,5e3,1e4][l-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(l,i)=>i(JSON.stringify(l)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Lm(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}this.accessToken=(a==null?void 0:a.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Cy),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:$y}))}disconnect(t,a){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,n){this.logger(t,a,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _s.connecting:return Ta.Connecting;case _s.open:return Ta.Open;case _s.closing:return Ta.Closing;default:return Ta.Closed}}isConnected(){return this.connectionState()===Ta.Open}channel(t,a={config:{}}){const n=`realtime:${t}`,s=this.getChannels().find(l=>l.topic===n);if(s)return s;{const l=new kc(`realtime:${t}`,a,this);return this.channels.push(l),l}}push(t){const{topic:a,event:n,payload:s,ref:l}=t,i=()=>{this.encode(t,r=>{var u;(u=this.conn)===null||u===void 0||u.send(r)})};this.log("push",`${a} ${n} (${l})`,s),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let a=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(n=>{const s={access_token:a,version:qy};a&&n.updateJoinPayload(s),n.joinedOnce&&n._isJoined()&&n._push(ct.access_token,{access_token:a})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close(By,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,a=>{let{topic:n,event:s,payload:l,ref:i}=a;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${l.status||""} ${n} ${s} ${i&&"("+i+")"||""}`,l),Array.from(this.channels).filter(r=>r._isMember(n)).forEach(r=>r._trigger(s,l,i)),this.stateChangeCallbacks.message.forEach(r=>r(a))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ct.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const n=t.match(/\?/)?"&":"?",s=new URLSearchParams(a);return`${t}${n}${s}`}_workerObjectUrl(t){let a;if(t)a=t;else{const n=new Blob([Ky],{type:"application/javascript"});a=URL.createObjectURL(n)}return a}}class Cc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function xe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Jy extends Cc{constructor(t,a,n){super(t),this.name="StorageApiError",this.status=a,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class Nu extends Cc{constructor(t,a){super(t),this.name="StorageUnknownError",this.originalError=a}}var Py=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function r(d){try{o(n.next(d))}catch(f){i(f)}}function u(d){try{o(n.throw(d))}catch(f){i(f)}}function o(d){d.done?l(d.value):s(d.value).then(r,u)}o((n=n.apply(e,t||[])).next())})};const Qm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>el(async()=>{const{default:n}=await Promise.resolve().then(()=>Gn);return{default:n}},void 0).then(({default:n})=>n(...a)):t=fetch,(...a)=>t(...a)},Wy=()=>Py(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield el(()=>Promise.resolve().then(()=>Gn),void 0)).Response:Response}),Eu=e=>{if(Array.isArray(e))return e.map(a=>Eu(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,n])=>{const s=a.replace(/([-_][a-z])/gi,l=>l.toUpperCase().replace(/[-_]/g,""));t[s]=Eu(n)}),t},Iy=e=>{if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)};var La=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function r(d){try{o(n.next(d))}catch(f){i(f)}}function u(d){try{o(n.throw(d))}catch(f){i(f)}}function o(d){d.done?l(d.value):s(d.value).then(r,u)}o((n=n.apply(e,t||[])).next())})};const Sr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Fy=(e,t,a)=>La(void 0,void 0,void 0,function*(){const n=yield Wy();e instanceof n&&!(a!=null&&a.noResolveJson)?e.json().then(s=>{const l=e.status||500,i=(s==null?void 0:s.statusCode)||l+"";t(new Jy(Sr(s),l,i))}).catch(s=>{t(new Nu(Sr(s),s))}):t(new Nu(Sr(e),e))}),eb=(e,t,a,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"||!n?s:(Iy(n)?(s.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),s.body=JSON.stringify(n)):s.body=n,Object.assign(Object.assign({},s),a))};function al(e,t,a,n,s,l){return La(this,void 0,void 0,function*(){return new Promise((i,r)=>{e(a,eb(t,n,s,l)).then(u=>{if(!u.ok)throw u;return n!=null&&n.noResolveJson?u:u.json()}).then(u=>i(u)).catch(u=>Fy(u,r,n))})})}function oi(e,t,a,n){return La(this,void 0,void 0,function*(){return al(e,"GET",t,a,n)})}function Nt(e,t,a,n,s){return La(this,void 0,void 0,function*(){return al(e,"POST",t,n,s,a)})}function Au(e,t,a,n,s){return La(this,void 0,void 0,function*(){return al(e,"PUT",t,n,s,a)})}function tb(e,t,a,n){return La(this,void 0,void 0,function*(){return al(e,"HEAD",t,Object.assign(Object.assign({},a),{noResolveJson:!0}),n)})}function Xm(e,t,a,n,s){return La(this,void 0,void 0,function*(){return al(e,"DELETE",t,n,s,a)})}var Ce=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function r(d){try{o(n.next(d))}catch(f){i(f)}}function u(d){try{o(n.throw(d))}catch(f){i(f)}}function o(d){d.done?l(d.value):s(d.value).then(r,u)}o((n=n.apply(e,t||[])).next())})};const ab={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class nb{constructor(t,a={},n,s){this.url=t,this.headers=a,this.bucketId=n,this.fetch=Qm(s)}uploadOrUpdate(t,a,n,s){return Ce(this,void 0,void 0,function*(){try{let l;const i=Object.assign(Object.assign({},xd),s);let r=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const u=i.metadata;typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",i.cacheControl),u&&l.append("metadata",this.encodeMetadata(u)),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",i.cacheControl),u&&l.append("metadata",this.encodeMetadata(u))):(l=n,r["cache-control"]=`max-age=${i.cacheControl}`,r["content-type"]=i.contentType,u&&(r["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),s!=null&&s.headers&&(r=Object.assign(Object.assign({},r),s.headers));const o=this._removeEmptyFolders(a),d=this._getFinalPath(o),f=yield(t=="PUT"?Au:Nt)(this.fetch,`${this.url}/object/${d}`,l,Object.assign({headers:r},i!=null&&i.duplex?{duplex:i.duplex}:{}));return{data:{path:o,id:f.Id,fullPath:f.Key},error:null}}catch(l){if(xe(l))return{data:null,error:l};throw l}})}upload(t,a,n){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,a,n)})}uploadToSignedUrl(t,a,n,s){return Ce(this,void 0,void 0,function*(){const l=this._removeEmptyFolders(t),i=this._getFinalPath(l),r=new URL(this.url+`/object/upload/sign/${i}`);r.searchParams.set("token",a);try{let u;const o=Object.assign({upsert:xd.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(o.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",o.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",o.cacheControl)):(u=n,d["cache-control"]=`max-age=${o.cacheControl}`,d["content-type"]=o.contentType);const f=yield Au(this.fetch,r.toString(),u,{headers:d});return{data:{path:l,fullPath:f.Key},error:null}}catch(u){if(xe(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,a){return Ce(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t);const s=Object.assign({},this.headers);a!=null&&a.upsert&&(s["x-upsert"]="true");const l=yield Nt(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),i=new URL(this.url+l.url),r=i.searchParams.get("token");if(!r)throw new Cc("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:r},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}update(t,a,n){return Ce(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,a,n)})}move(t,a,n){return Ce(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}copy(t,a,n){return Ce(this,void 0,void 0,function*(){try{return{data:{path:(yield Nt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}createSignedUrl(t,a,n){return Ce(this,void 0,void 0,function*(){try{let s=this._getFinalPath(t),l=yield Nt(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:a},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return l={signedUrl:encodeURI(`${this.url}${l.signedURL}${i}`)},{data:l,error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}createSignedUrls(t,a,n){return Ce(this,void 0,void 0,function*(){try{const s=yield Nt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:t},{headers:this.headers}),l=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${l}`):null})),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}download(t,a){return Ce(this,void 0,void 0,function*(){const s=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),i=l?`?${l}`:"";try{const r=this._getFinalPath(t);return{data:yield(yield oi(this.fetch,`${this.url}/${s}/${r}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(r){if(xe(r))return{data:null,error:r};throw r}})}info(t){return Ce(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{const n=yield oi(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Eu(n),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}exists(t){return Ce(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{return yield tb(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(xe(n)&&n instanceof Nu){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,a){const n=this._getFinalPath(t),s=[],l=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";l!==""&&s.push(l);const r=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});u!==""&&s.push(u);let o=s.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${r}/public/${n}${o}`)}}}remove(t){return Ce(this,void 0,void 0,function*(){try{return{data:yield Xm(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(a){if(xe(a))return{data:null,error:a};throw a}})}list(t,a,n){return Ce(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ab),a),{prefix:t||""});return{data:yield Nt(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(xe(s))return{data:null,error:s};throw s}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const a=[];return t.width&&a.push(`width=${t.width}`),t.height&&a.push(`height=${t.height}`),t.resize&&a.push(`resize=${t.resize}`),t.format&&a.push(`format=${t.format}`),t.quality&&a.push(`quality=${t.quality}`),a.join("&")}}const sb="2.10.4",lb={"X-Client-Info":`storage-js/${sb}`};var Xa=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function r(d){try{o(n.next(d))}catch(f){i(f)}}function u(d){try{o(n.throw(d))}catch(f){i(f)}}function o(d){d.done?l(d.value):s(d.value).then(r,u)}o((n=n.apply(e,t||[])).next())})};class ib{constructor(t,a={},n,s){const l=new URL(t);s!=null&&s.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase.")),this.url=l.href,this.headers=Object.assign(Object.assign({},lb),a),this.fetch=Qm(n)}listBuckets(){return Xa(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(xe(t))return{data:null,error:t};throw t}})}getBucket(t){return Xa(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(a){if(xe(a))return{data:null,error:a};throw a}})}createBucket(t,a={public:!1}){return Xa(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket`,{id:t,name:t,type:a.type,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}updateBucket(t,a){return Xa(this,void 0,void 0,function*(){try{return{data:yield Au(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Xa(this,void 0,void 0,function*(){try{return{data:yield Nt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(xe(a))return{data:null,error:a};throw a}})}deleteBucket(t){return Xa(this,void 0,void 0,function*(){try{return{data:yield Xm(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(xe(a))return{data:null,error:a};throw a}})}}class rb extends ib{constructor(t,a={},n,s){super(t,a,n,s)}from(t){return new nb(this.url,this.headers,t,this.fetch)}}const ub="2.53.0";let ls="";typeof Deno<"u"?ls="deno":typeof document<"u"?ls="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ls="react-native":ls="node";const cb={"X-Client-Info":`supabase-js-${ls}/${ub}`},ob={headers:cb},db={schema:"public"},fb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},hb={};var mb=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function r(d){try{o(n.next(d))}catch(f){i(f)}}function u(d){try{o(n.throw(d))}catch(f){i(f)}}function o(d){d.done?l(d.value):s(d.value).then(r,u)}o((n=n.apply(e,t||[])).next())})};const gb=e=>{let t;return e?t=e:typeof fetch>"u"?t=Om:t=fetch,(...a)=>t(...a)},vb=()=>typeof Headers>"u"?Dm:Headers,yb=(e,t,a)=>{const n=gb(a),s=vb();return(l,i)=>mb(void 0,void 0,void 0,function*(){var r;const u=(r=yield t())!==null&&r!==void 0?r:e;let o=new s(i==null?void 0:i.headers);return o.has("apikey")||o.set("apikey",e),o.has("Authorization")||o.set("Authorization",`Bearer ${u}`),n(l,Object.assign(Object.assign({},i),{headers:o}))})};var bb=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function r(d){try{o(n.next(d))}catch(f){i(f)}}function u(d){try{o(n.throw(d))}catch(f){i(f)}}function o(d){d.done?l(d.value):s(d.value).then(r,u)}o((n=n.apply(e,t||[])).next())})};function pb(e){return e.endsWith("/")?e:e+"/"}function xb(e,t){var a,n;const{db:s,auth:l,realtime:i,global:r}=e,{db:u,auth:o,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},u),s),auth:Object.assign(Object.assign({},o),l),realtime:Object.assign(Object.assign({},d),i),storage:{},global:Object.assign(Object.assign(Object.assign({},f),r),{headers:Object.assign(Object.assign({},(a=f==null?void 0:f.headers)!==null&&a!==void 0?a:{}),(n=r==null?void 0:r.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>bb(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const Vm="2.71.1",en=30*1e3,Ou=3,wr=Ou*en,_b="http://localhost:9999",Sb="supabase.auth.token",wb={"X-Client-Info":`gotrue-js/${Vm}`},Du="X-Supabase-Api-Version",Km={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},jb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Tb=10*60*1e3;class zc extends Error{constructor(t,a,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=n}}function B(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Nb extends zc{constructor(t,a,n){super(t,a,n),this.name="AuthApiError",this.status=a,this.code=n}}function Eb(e){return B(e)&&e.name==="AuthApiError"}class Zm extends zc{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class ya extends zc{constructor(t,a,n,s){super(t,n,s),this.name=a,this.status=n}}class Vt extends ya{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Ab(e){return B(e)&&e.name==="AuthSessionMissingError"}class bl extends ya{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class pl extends ya{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xl extends ya{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ob(e){return B(e)&&e.name==="AuthImplicitGrantRedirectError"}class _d extends ya{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ru extends ya{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function jr(e){return B(e)&&e.name==="AuthRetryableFetchError"}class Sd extends ya{constructor(t,a,n){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=n}}class Uu extends ya{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),wd=` 	
\r=`.split(""),Db=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<wd.length;t+=1)e[wd[t].charCodeAt(0)]=-2;for(let t=0;t<di.length;t+=1)e[di[t].charCodeAt(0)]=t;return e})();function jd(e,t,a){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(di[n]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const n=t.queue>>t.queuedBits-6&63;a(di[n]),t.queuedBits-=6}}function Jm(e,t,a){const n=Db[e];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function Td(e){const t=[],a=i=>{t.push(String.fromCodePoint(i))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},l=i=>{Mb(i,n,a)};for(let i=0;i<e.length;i+=1)Jm(e.charCodeAt(i),s,l);return t.join("")}function Rb(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function Ub(e,t){for(let a=0;a<e.length;a+=1){let n=e.charCodeAt(a);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(e.charCodeAt(a+1)-56320&65535|s)+65536,a+=1}Rb(n,t)}}function Mb(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let n=1;n<6;n+=1)if(!(e>>7-n&1)){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function kb(e){const t=[],a={queue:0,queuedBits:0},n=s=>{t.push(s)};for(let s=0;s<e.length;s+=1)Jm(e.charCodeAt(s),a,n);return new Uint8Array(t)}function Cb(e){const t=[];return Ub(e,a=>t.push(a)),new Uint8Array(t)}function zb(e){const t=[],a={queue:0,queuedBits:0},n=s=>{t.push(s)};return e.forEach(s=>jd(s,a,n)),jd(null,a,n),t.join("")}function qb(e){return Math.round(Date.now()/1e3)+e}function $b(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const rt=()=>typeof window<"u"&&typeof document<"u",pa={tested:!1,writable:!1},Pm=()=>{if(!rt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pa.tested)return pa.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),pa.tested=!0,pa.writable=!0}catch{pa.tested=!0,pa.writable=!1}return pa.writable};function Bb(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((s,l)=>{t[l]=s})}catch{}return a.searchParams.forEach((n,s)=>{t[s]=n}),t}const Wm=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>el(async()=>{const{default:n}=await Promise.resolve().then(()=>Gn);return{default:n}},void 0).then(({default:n})=>n(...a)):t=fetch,(...a)=>t(...a)},Hb=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",tn=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},xa=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Qt=async(e,t)=>{await e.removeItem(t)};class zi{constructor(){this.promise=new zi.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}zi.promiseConstructor=Promise;function Tr(e){const t=e.split(".");if(t.length!==3)throw new Uu("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!jb.test(t[n]))throw new Uu("JWT not in base64url format");return{header:JSON.parse(Td(t[0])),payload:JSON.parse(Td(t[1])),signature:kb(t[2]),raw:{header:t[0],payload:t[1]}}}async function Lb(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Gb(e,t){return new Promise((n,s)=>{(async()=>{for(let l=0;l<1/0;l++)try{const i=await e(l);if(!t(l,null,i)){n(i);return}}catch(i){if(!t(l,i)){s(i);return}}})()})}function Yb(e){return("0"+e.toString(16)).substr(-2)}function Qb(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=a.length;let s="";for(let l=0;l<56;l++)s+=a.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(t),Array.from(t,Yb).join("")}async function Xb(e){const a=new TextEncoder().encode(e),n=await crypto.subtle.digest("SHA-256",a),s=new Uint8Array(n);return Array.from(s).map(l=>String.fromCharCode(l)).join("")}async function Vb(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await Xb(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Va(e,t,a=!1){const n=Qb();let s=n;a&&(s+="/PASSWORD_RECOVERY"),await tn(e,`${t}-code-verifier`,s);const l=await Vb(n);return[l,n===l?"plain":"s256"]}const Kb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Zb(e){const t=e.headers.get(Du);if(!t||!t.match(Kb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Jb(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Pb(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Wb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Ka(e){if(!Wb.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Nr(){const e={};return new Proxy(e,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const n=a.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nd(e){return JSON.parse(JSON.stringify(e))}var Ib=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]]);return a};const ja=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Fb=[502,503,504];async function Ed(e){var t;if(!Hb(e))throw new Ru(ja(e),0);if(Fb.includes(e.status))throw new Ru(ja(e),e.status);let a;try{a=await e.json()}catch(l){throw new Zm(ja(l),l)}let n;const s=Zb(e);if(s&&s.getTime()>=Km["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?n=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(n=a.error_code),n){if(n==="weak_password")throw new Sd(ja(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new Vt}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((l,i)=>l&&typeof i=="string",!0))throw new Sd(ja(a),e.status,a.weak_password.reasons);throw new Nb(ja(a),e.status||500,n)}const ep=(e,t,a,n)=>{const s={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),a))};async function G(e,t,a,n){var s;const l=Object.assign({},n==null?void 0:n.headers);l[Du]||(l[Du]=Km["2024-01-01"].name),n!=null&&n.jwt&&(l.Authorization=`Bearer ${n.jwt}`);const i=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(i.redirect_to=n.redirectTo);const r=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",u=await tp(e,t,a+r,{headers:l,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(u):{data:Object.assign({},u),error:null}}async function tp(e,t,a,n,s,l){const i=ep(t,n,s,l);let r;try{r=await e(a,Object.assign({},i))}catch(u){throw console.error(u),new Ru(ja(u),0)}if(r.ok||await Ed(r),n!=null&&n.noResolveJson)return r;try{return await r.json()}catch(u){await Ed(u)}}function jt(e){var t;let a=null;lp(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=qb(e.expires_in)));const n=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:n},error:null}}function Ad(e){const t=jt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,n)=>a&&typeof n=="string",!0)&&(t.data.weak_password=e.weak_password),t}function Ft(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function ap(e){return{data:e,error:null}}function np(e){const{action_link:t,email_otp:a,hashed_token:n,redirect_to:s,verification_type:l}=e,i=Ib(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),r={action_link:t,email_otp:a,hashed_token:n,redirect_to:s,verification_type:l},u=Object.assign({},i);return{data:{properties:r,user:u},error:null}}function sp(e){return e}function lp(e){return e.access_token&&e.refresh_token&&e.expires_in}const Er=["global","local","others"];var ip=function(e,t){var a={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(a[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(e);s<n.length;s++)t.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(e,n[s])&&(a[n[s]]=e[n[s]]);return a};class rp{constructor({url:t="",headers:a={},fetch:n}){this.url=t,this.headers=a,this.fetch=Wm(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,a=Er[0]){if(Er.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Er.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}async inviteUserByEmail(t,a={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:Ft})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async generateLink(t){try{const{options:a}=t,n=ip(t,["options"]),s=Object.assign(Object.assign({},n),a);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:np,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(B(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:Ft})}catch(a){if(B(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,n,s,l,i,r,u;try{const o={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&n!==void 0?n:"",per_page:(l=(s=t==null?void 0:t.perPage)===null||s===void 0?void 0:s.toString())!==null&&l!==void 0?l:""},xform:sp});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,g=(u=(r=d.headers.get("link"))===null||r===void 0?void 0:r.split(","))!==null&&u!==void 0?u:[];return g.length>0&&(g.forEach(T=>{const N=parseInt(T.split(";")[0].split("=")[1].substring(0,1)),j=JSON.parse(T.split(";")[1].split("=")[1]);o[`${j}Page`]=N}),o.total=parseInt(h)),{data:Object.assign(Object.assign({},f),o),error:null}}catch(o){if(B(o))return{data:{users:[]},error:o};throw o}}async getUserById(t){Ka(t);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:Ft})}catch(a){if(B(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){Ka(t);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:Ft})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async deleteUser(t,a=!1){Ka(t);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:Ft})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async _listFactors(t){Ka(t.userId);try{const{data:a,error:n}=await G(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:a,error:n}}catch(a){if(B(a))return{data:null,error:a};throw a}}async _deleteFactor(t){Ka(t.userId),Ka(t.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(B(a))return{data:null,error:a};throw a}}}function Od(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}function up(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Za={debug:!!(globalThis&&Pm()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Im extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class cp extends Im{}async function op(e,t,a){Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),Za.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,s.name);try{return await a()}finally{Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,s.name)}}else{if(t===0)throw Za.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new cp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Za.debug)try{const l=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(l,null,"  "))}catch(l){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",l)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}up();const dp={url:_b,storageKey:Sb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:wb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Dd(e,t,a){return await a()}const Ja={};class qs{constructor(t){var a,n;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qs.nextInstanceID,qs.nextInstanceID+=1,this.instanceID>0&&rt()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},dp),t);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new rp({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Wm(s.fetch),this.lock=s.lock||Dd,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:rt()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=op:this.lock=Dd,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Pm()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Od(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Od(this.memoryStorage)),rt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(l){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",l)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async l=>{this._debug("received broadcast notification from other tab or client",l),await this._notifyAllSubscribers(l.data.event,l.data.session,!1)})}this.initialize()}get jwks(){var t,a;return(a=(t=Ja[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){Ja[this.storageKey]=Object.assign(Object.assign({},Ja[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=Ja[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ja[this.storageKey]=Object.assign(Object.assign({},Ja[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Vm}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const a=Bb(window.location.href);let n="none";if(this._isImplicitGrantCallback(a)?n="implicit":await this._isPKCECallback(a)&&(n="pkce"),rt()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:l}=await this._getSessionFromURL(a,n);if(l){if(this._debug("#_initialize()","error detecting session from URL",l),Ob(l)){const u=(t=l.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:l}}return await this._removeSession(),{error:l}}const{session:i,redirectType:r}=s;return this._debug("#_initialize()","detected session in URL",i,"redirect type",r),await this._saveSession(i),setTimeout(async()=>{r==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return B(a)?{error:a}:{error:new Zm("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,n,s;try{const l=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.captchaToken}},xform:jt}),{data:i,error:r}=l;if(r||!i)return{data:{user:null,session:null},error:r};const u=i.session,o=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:o,session:u},error:null}}catch(l){if(B(l))return{data:{user:null,session:null},error:l};throw l}}async signUp(t){var a,n,s;try{let l;if("email"in t){const{email:d,password:f,options:h}=t;let g=null,T=null;this.flowType==="pkce"&&([g,T]=await Va(this.storage,this.storageKey)),l=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:T},xform:jt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;l=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:jt})}else throw new pl("You must provide either an email or phone number and a password");const{data:i,error:r}=l;if(r||!i)return{data:{user:null,session:null},error:r};const u=i.session,o=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:o,session:u},error:null}}catch(l){if(B(l))return{data:{user:null,session:null},error:l};throw l}}async signInWithPassword(t){try{let a;if("email"in t){const{email:l,password:i,options:r}=t;a=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:l,password:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ad})}else if("phone"in t){const{phone:l,password:i,options:r}=t;a=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:l,password:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ad})}else throw new pl("You must provide either an email or phone number and a password");const{data:n,error:s}=a;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new bl}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(t){var a,n,s,l;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(n=t.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=t.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(l=t.options)===null||l===void 0?void 0:l.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;if(a==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(t){var a,n,s,l,i,r,u,o,d,f,h,g;let T,N;if("message"in t)T=t.message,N=t.signature;else{const{chain:j,wallet:y,statement:m,options:v}=t;let p;if(rt())if(typeof y=="object")p=y;else{const D=window;if("solana"in D&&typeof D.solana=="object"&&("signIn"in D.solana&&typeof D.solana.signIn=="function"||"signMessage"in D.solana&&typeof D.solana.signMessage=="function"))p=D.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(v!=null&&v.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");p=y}const A=new URL((a=v==null?void 0:v.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in p&&p.signIn){const D=await p.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},v==null?void 0:v.signInWithSolana),{version:"1",domain:A.host,uri:A.href}),m?{statement:m}:null));let b;if(Array.isArray(D)&&D[0]&&typeof D[0]=="object")b=D[0];else if(D&&typeof D=="object"&&"signedMessage"in D&&"signature"in D)b=D;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)T=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),N=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in p)||typeof p.signMessage!="function"||!("publicKey"in p)||typeof p!="object"||!p.publicKey||!("toBase58"in p.publicKey)||typeof p.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");T=[`${A.host} wants you to sign in with your Solana account:`,p.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${A.href}`,`Issued At: ${(s=(n=v==null?void 0:v.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((l=v==null?void 0:v.signInWithSolana)===null||l===void 0)&&l.notBefore?[`Not Before: ${v.signInWithSolana.notBefore}`]:[],...!((i=v==null?void 0:v.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${v.signInWithSolana.expirationTime}`]:[],...!((r=v==null?void 0:v.signInWithSolana)===null||r===void 0)&&r.chainId?[`Chain ID: ${v.signInWithSolana.chainId}`]:[],...!((u=v==null?void 0:v.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${v.signInWithSolana.nonce}`]:[],...!((o=v==null?void 0:v.signInWithSolana)===null||o===void 0)&&o.requestId?[`Request ID: ${v.signInWithSolana.requestId}`]:[],...!((f=(d=v==null?void 0:v.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...v.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const D=await p.signMessage(new TextEncoder().encode(T),"utf8");if(!D||!(D instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=D}}try{const{data:j,error:y}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:T,signature:zb(N)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=t.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:jt});if(y)throw y;return!j||!j.session||!j.user?{data:{user:null,session:null},error:new bl}:(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("SIGNED_IN",j.session)),{data:Object.assign({},j),error:y})}catch(j){if(B(j))return{data:{user:null,session:null},error:j};throw j}}async _exchangeCodeForSession(t){const a=await xa(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(a??"").split("/");try{const{data:l,error:i}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:n},xform:jt});if(await Qt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!l||!l.session||!l.user?{data:{user:null,session:null,redirectType:null},error:new bl}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign(Object.assign({},l),{redirectType:s??null}),error:i})}catch(l){if(B(l))return{data:{user:null,session:null,redirectType:null},error:l};throw l}}async signInWithIdToken(t){try{const{options:a,provider:n,token:s,access_token:l,nonce:i}=t,r=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:l,nonce:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:jt}),{data:u,error:o}=r;return o?{data:{user:null,session:null},error:o}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new bl}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:o})}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(t){var a,n,s,l,i;try{if("email"in t){const{email:r,options:u}=t;let o=null,d=null;this.flowType==="pkce"&&([o,d]=await Va(this.storage,this.storageKey));const{error:f}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:(a=u==null?void 0:u.data)!==null&&a!==void 0?a:{},create_user:(n=u==null?void 0:u.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:o,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:r,options:u}=t,{data:o,error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:r,data:(s=u==null?void 0:u.data)!==null&&s!==void 0?s:{},create_user:(l=u==null?void 0:u.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(i=u==null?void 0:u.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:d}}throw new pl("You must provide either an email or phone number.")}catch(r){if(B(r))return{data:{user:null,session:null},error:r};throw r}}async verifyOtp(t){var a,n;try{let s,l;"options"in t&&(s=(a=t.options)===null||a===void 0?void 0:a.redirectTo,l=(n=t.options)===null||n===void 0?void 0:n.captchaToken);const{data:i,error:r}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:l}}),redirectTo:s,xform:jt});if(r)throw r;if(!i)throw new Error("An error occurred on token verification.");const u=i.session,o=i.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:o,session:u},error:null}}catch(s){if(B(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(t){var a,n,s;try{let l=null,i=null;return this.flowType==="pkce"&&([l,i]=await Va(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(n=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=t==null?void 0:t.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:l,code_challenge_method:i}),headers:this.headers,xform:ap})}catch(l){if(B(l))return{data:null,error:l};throw l}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:n}=t;if(n)throw n;if(!a)throw new Vt;const{error:s}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:s}})}catch(t){if(B(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:n,type:s,options:l}=t,{error:i}=await G(this.fetch,"POST",a,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:n,type:s,options:l}=t,{data:i,error:r}=await G(this.fetch,"POST",a,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:r}}throw new pl("You must provide either an email or phone number and a type")}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await a()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=a();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await xa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const n=t.expires_at?t.expires_at*1e3-Date.now()<wr:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",t.expires_at),!n){if(this.userStorage){const i=await xa(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Nr()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,o,d)=>(!i&&o==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,o,d))})}return{data:{session:t},error:null}}const{session:s,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{session:null},error:l}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:Ft}):await this._useSession(async a=>{var n,s,l;const{data:i,error:r}=a;if(r)throw r;return!(!((n=i.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(l=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&l!==void 0?l:void 0,xform:Ft})})}catch(a){if(B(a))return Ab(a)&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async n=>{const{data:s,error:l}=n;if(l)throw l;if(!s.session)throw new Vt;const i=s.session;let r=null,u=null;this.flowType==="pkce"&&t.email!=null&&([r,u]=await Va(this.storage,this.storageKey));const{data:o,error:d}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:r,code_challenge_method:u}),jwt:i.access_token,xform:Ft});if(d)throw d;return i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(n){if(B(n))return{data:{user:null},error:n};throw n}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vt;const a=Date.now()/1e3;let n=a,s=!0,l=null;const{payload:i}=Tr(t.access_token);if(i.exp&&(n=i.exp,s=n<=a),s){const{session:r,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!r)return{data:{user:null,session:null},error:null};l=r}else{const{data:r,error:u}=await this._getUser(t.access_token);if(u)throw u;l={access_token:t.access_token,refresh_token:t.refresh_token,user:r.user,token_type:"bearer",expires_in:n-a,expires_at:n},await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)}return{data:{user:l.user,session:l},error:null}}catch(a){if(B(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var n;if(!t){const{data:i,error:r}=a;if(r)throw r;t=(n=i.session)!==null&&n!==void 0?n:void 0}if(!(t!=null&&t.refresh_token))throw new Vt;const{session:s,error:l}=await this._callRefreshToken(t.refresh_token);return l?{data:{user:null,session:null},error:l}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(B(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(t,a){try{if(!rt())throw new xl("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xl(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new _d("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xl("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new _d("No code detected.");const{data:m,error:v}=await this._exchangeCodeForSession(t.code);if(v)throw v;const p=new URL(window.location.href);return p.searchParams.delete("code"),window.history.replaceState(window.history.state,"",p.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:l,refresh_token:i,expires_in:r,expires_at:u,token_type:o}=t;if(!l||!r||!i||!o)throw new xl("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(r);let h=d+f;u&&(h=parseInt(u));const g=h-d;g*1e3<=en&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const T=h-f;d-T>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",T,h,d):d-T<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",T,h,d);const{data:N,error:j}=await this._getUser(l);if(j)throw j;const y={provider_token:n,provider_refresh_token:s,access_token:l,expires_in:f,expires_at:h,refresh_token:i,token_type:o,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(n){if(B(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await xa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var n;const{data:s,error:l}=a;if(l)return{error:l};const i=(n=s.session)===null||n===void 0?void 0:n.access_token;if(i){const{error:r}=await this.admin.signOut(i,t);if(r&&!(Eb(r)&&(r.status===404||r.status===401||r.status===403)))return{error:r}}return t!=="others"&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const a=$b(),n={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:n}}}async _emitInitialSession(t){return await this._useSession(async a=>{var n,s;try{const{data:{session:l},error:i}=a;if(i)throw i;await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",l)),this._debug("INITIAL_SESSION","callback id",t,"session",l)}catch(l){await((s=this.stateChangeEmitters.get(t))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",l),console.error(l)}})}async resetPasswordForEmail(t,a={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Va(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(l){if(B(l))return{data:null,error:l};throw l}}async getUserIdentities(){var t;try{const{data:a,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(a){if(B(a))return{data:null,error:a};throw a}}async linkIdentity(t){var a;try{const{data:n,error:s}=await this._useSession(async l=>{var i,r,u,o,d;const{data:f,error:h}=l;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",g,{headers:this.headers,jwt:(d=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return rt()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:t.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(B(n))return{data:{provider:t.provider,url:null},error:n};throw n}}async unlinkIdentity(t){try{return await this._useSession(async a=>{var n,s;const{data:l,error:i}=a;if(i)throw i;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(s=(n=l.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(a){if(B(a))return{data:null,error:a};throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const n=Date.now();return await Gb(async s=>(s>0&&await Lb(200*Math.pow(2,s-1)),this._debug(a,"refreshing attempt",s),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:jt})),(s,l)=>{const i=200*Math.pow(2,s);return l&&jr(l)&&Date.now()+i-n<en})}catch(n){if(this._debug(a,"error",n),B(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const n=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",n),rt()&&!a.skipBrowserRedirect&&window.location.assign(n),{data:{provider:t,url:n},error:null}}async _recoverAndRefresh(){var t,a;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const s=await xa(this.storage,this.storageKey);if(s&&this.userStorage){let i=await xa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:s.user},await tn(this.userStorage,this.storageKey+"-user",i)),s.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Nr()}else if(s&&!s.user&&!s.user){const i=await xa(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(s.user=i.user,await Qt(this.storage,this.storageKey+"-user"),await tn(this.storage,this.storageKey,s)):s.user=Nr()}if(this._debug(n,"session from storage",s),!this._isValidSession(s)){this._debug(n,"session is not valid"),s!==null&&await this._removeSession();return}const l=((a=s.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<wr;if(this._debug(n,`session has${l?"":" not"} expired with margin of ${wr}s`),l){if(this.autoRefreshToken&&s.refresh_token){const{error:i}=await this._callRefreshToken(s.refresh_token);i&&(console.error(i),jr(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(s.user&&s.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:r}=await this._getUser(s.access_token);!r&&(i!=null&&i.user)?(s.user=i.user,await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(n,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",s)}catch(s){this._debug(n,"error",s),console.error(s);return}finally{this._debug(n,"end")}}async _callRefreshToken(t){var a,n;if(!t)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new zi;const{data:l,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!l.session)throw new Vt;await this._saveSession(l.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",l.session);const r={session:l.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(l){if(this._debug(s,"error",l),B(l)){const i={session:null,error:l};return jr(l)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(i),i}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(l),l}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(t,a,n=!0){const s=`#_notifyAllSubscribers(${t})`;this._debug(s,"begin",a,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:t,session:a});const l=[],i=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(t,a)}catch(u){l.push(u)}});if(await Promise.all(i),l.length>0){for(let r=0;r<l.length;r+=1)console.error(l[r]);throw l[0]}}finally{this._debug(s,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const a=Object.assign({},t),n=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&a.user&&await tn(this.userStorage,this.storageKey+"-user",{user:a.user});const s=Object.assign({},a);delete s.user;const l=Nd(s);await tn(this.storage,this.storageKey,l)}else{const s=Nd(a);await tn(this.storage,this.storageKey,s)}}async _removeSession(){this._debug("#_removeSession()"),await Qt(this.storage,this.storageKey),await Qt(this.storage,this.storageKey+"-code-verifier"),await Qt(this.storage,this.storageKey+"-user"),this.userStorage&&await Qt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&rt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),en);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:n}}=a;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-t)/en);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${en}ms, refresh threshold is ${Ou} ticks`),s<=Ou&&await this._callRefreshToken(n.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof Im)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!rt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,n){const s=[`provider=${encodeURIComponent(a)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[l,i]=await Va(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(l)}`,code_challenge_method:`${encodeURIComponent(i)}`});s.push(r.toString())}if(n!=null&&n.queryParams){const l=new URLSearchParams(n.queryParams);s.push(l.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${t}?${s.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var n;const{data:s,error:l}=a;return l?{data:null,error:l}:await G(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(a){if(B(a))return{data:null,error:a};throw a}}async _enroll(t){try{return await this._useSession(async a=>{var n,s;const{data:l,error:i}=a;if(i)return{data:null,error:i};const r=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:o}=await G(this.fetch,"POST",`${this.url}/factors`,{body:r,headers:this.headers,jwt:(n=l==null?void 0:l.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(t.factorType==="totp"&&(!((s=u==null?void 0:u.totp)===null||s===void 0)&&s.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(a){if(B(a))return{data:null,error:a};throw a}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var n;const{data:s,error:l}=a;if(l)return{data:null,error:l};const{data:i,error:r}=await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return r?{data:null,error:r}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:r})})}catch(a){if(B(a))return{data:null,error:a};throw a}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var n;const{data:s,error:l}=a;return l?{data:null,error:l}:await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(a){if(B(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(t){const{data:a,error:n}=await this._challenge({factorId:t.factorId});return n?{data:null,error:n}:await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){const{data:{user:t},error:a}=await this.getUser();if(a)return{data:null,error:a};const n=(t==null?void 0:t.factors)||[],s=n.filter(i=>i.factor_type==="totp"&&i.status==="verified"),l=n.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:n,totp:s,phone:l},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var a,n;const{data:{session:s},error:l}=t;if(l)return{data:null,error:l};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Tr(s.access_token);let r=null;i.aal&&(r=i.aal);let u=r;((n=(a=s.user.factors)===null||a===void 0?void 0:a.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(u="aal2");const d=i.amr||[];return{data:{currentLevel:r,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,a={keys:[]}){let n=a.keys.find(r=>r.kid===t);if(n)return n;const s=Date.now();if(n=this.jwks.keys.find(r=>r.kid===t),n&&this.jwks_cached_at+Tb>s)return n;const{data:l,error:i}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!l.keys||l.keys.length===0||(this.jwks=l,this.jwks_cached_at=s,n=l.keys.find(r=>r.kid===t),!n)?null:n}async getClaims(t,a={}){try{let n=t;if(!n){const{data:g,error:T}=await this.getSession();if(T||!g.session)return{data:null,error:T};n=g.session.access_token}const{header:s,payload:l,signature:i,raw:{header:r,payload:u}}=Tr(n);a!=null&&a.allowExpired||Jb(l.exp);const o=!s.alg||s.alg.startsWith("HS")||!s.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(s.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!o){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:l,header:s,signature:i},error:null}}const d=Pb(s.alg),f=await crypto.subtle.importKey("jwk",o,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,Cb(`${r}.${u}`)))throw new Uu("Invalid JWT signature");return{data:{claims:l,header:s,signature:i},error:null}}catch(n){if(B(n))return{data:null,error:n};throw n}}}qs.nextInstanceID=0;const fp=qs;class hp extends fp{constructor(t){super(t)}}var mp=function(e,t,a,n){function s(l){return l instanceof a?l:new a(function(i){i(l)})}return new(a||(a=Promise))(function(l,i){function r(d){try{o(n.next(d))}catch(f){i(f)}}function u(d){try{o(n.throw(d))}catch(f){i(f)}}function o(d){d.done?l(d.value):s(d.value).then(r,u)}o((n=n.apply(e,t||[])).next())})};class gp{constructor(t,a,n){var s,l,i;if(this.supabaseUrl=t,this.supabaseKey=a,!t)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const r=pb(t),u=new URL(r);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const o=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db,realtime:hb,auth:Object.assign(Object.assign({},fb),{storageKey:o}),global:ob},f=xb(n??{},d);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(l=f.global.headers)!==null&&l!==void 0?l:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=yb(a,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new My(new URL("rest/v1",u).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new rb(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new cy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,a={},n={}){return this.rest.rpc(t,a,n)}channel(t,a={config:{}}){return this.realtime.channel(t,a)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,a;return mp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(a=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:a,detectSessionInUrl:n,storage:s,storageKey:l,flowType:i,lock:r,debug:u},o,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new hp({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),o),storageKey:l,autoRefreshToken:t,persistSession:a,detectSessionInUrl:n,storage:s,flowType:i,lock:r,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Zy(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,n)=>{this._handleTokenChanged(a,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(t,a,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Fm=(e,t,a)=>new gp(e,t,a);function vp(){if(typeof window<"u"||typeof process>"u"||process.version===void 0||process.version===null)return!1;const e=process.version.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}vp()&&console.warn("⚠️  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const e0="https://gvwfcosljvivpcofqccp.supabase.co",t0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd2d2Zjb3NsanZpdnBjb2ZxY2NwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwMjg1NzAsImV4cCI6MjA2ODYwNDU3MH0.uHwtPimIdku_mni-B_tbvkkbRWnlRni4kK0NDu3WV9U",Ue=Fm(e0,t0);Fm(e0,t0);function yp(){const[e,t]=z.useState(""),[a,n]=z.useState(""),[s,l]=z.useState("class"),[i,r]=z.useState(""),[u,o]=z.useState(""),[d,f]=z.useState(""),[h,g]=z.useState(""),[T,N]=z.useState(!1),[j,y]=z.useState(""),[m,v]=z.useState("success"),[p,A]=z.useState([]),[D,b]=z.useState(1);z.useEffect(()=>{const x=new Date().toISOString().split("T")[0];t(x)},[]),z.useEffect(()=>{e&&a&&s&&S()},[e,a,s]);const S=async()=>{try{const{data:x,error:_}=await Ue.from("study_records").select("*").eq("study_date",e).eq("subject",a).eq("content_type",s).order("attempt_number",{ascending:!0});if(_)throw _;A(x||[]),b(((x==null?void 0:x.length)||0)+1)}catch(x){console.error("履歴取得エラー:",x)}},k=async x=>{if(x.preventDefault(),!e||!a||!s||!i||!u||!d){y("すべての項目を入力してください"),v("error");return}const _=parseInt(i),R=parseInt(u);if(isNaN(_)||isNaN(R)||_<=0||R<0||R>_){y("問題数と正解数を正しく入力してください"),v("error");return}try{N(!0),y("");const q=new Date().toISOString().split("T")[0],{error:w}=await Ue.from("study_records").insert([{date:q,study_date:e,subject:a,content_type:s,attempt_number:D,questions_total:_,questions_correct:R,emotion:d,comment:h.trim()||null}]);if(w)throw w;y("✅ 学習記録を保存しました！"),v("success"),r(""),o(""),f(""),g(""),await S()}catch(q){console.error("❌ 保存エラー:",q),y("保存に失敗しました。もう一度お試しください。"),v("error")}finally{N(!1)}},O=x=>({aptitude:"適性",japanese:"国語",math:"算数",science:"理科",social:"社会"})[x]||x,U=x=>x.length===0?"":x.map(_=>`${_.questions_correct}/${_.questions_total}`).join(" → ");return c.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:"📝 学習記録"}),c.jsx("p",{className:"text-slate-600 text-lg",children:"今日のがんばりを記録しよう！"})]}),p.length>0&&c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[c.jsx("h3",{className:"font-bold text-blue-800 mb-2",children:"📚 この学習内容の履歴"}),c.jsxs("div",{className:"text-blue-700",children:[c.jsxs("div",{className:"font-medium",children:[O(a),"（",s==="class"?"授業":"宿題","） - ",new Date(e).toLocaleDateString("ja-JP"),"実施分"]}),c.jsxs("div",{className:"text-lg mt-1",children:["これまでの成績: ",U(p)]}),c.jsxs("div",{className:"text-sm text-blue-600 mt-1",children:["今回は",D,"回目の挑戦です"]})]})]}),c.jsxs("form",{onSubmit:k,className:"space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border",children:[c.jsx("label",{className:"block text-lg font-bold text-slate-700 mb-3",children:"📅 いつの学習内容ですか？"}),c.jsx("input",{type:"date",value:e,onChange:x=>t(x.target.value),max:new Date().toISOString().split("T")[0],className:"w-full text-lg p-4 border-2 border-slate-200 rounded-xl focus:border-blue-400 focus:ring-4 focus:ring-blue-100",required:!0}),c.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"今日復習した学習内容が、いつ実施されたものかを選択してください"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border",children:[c.jsx("label",{className:"block text-lg font-bold text-slate-700 mb-3",children:"📚 科目を選択"}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[{key:"aptitude",label:"適性",icon:"🧠",color:"purple"},{key:"japanese",label:"国語",icon:"📚",color:"rose"},{key:"math",label:"算数",icon:"🔢",color:"blue"},{key:"science",label:"理科",icon:"🔬",color:"green"},{key:"social",label:"社会",icon:"🌍",color:"amber"}].map(x=>c.jsxs("button",{type:"button",onClick:()=>n(x.key),className:`p-4 rounded-xl border-2 transition-all font-medium ${a===x.key?x.color==="purple"?"border-purple-400 bg-purple-50 text-purple-700":x.color==="rose"?"border-rose-400 bg-rose-50 text-rose-700":x.color==="blue"?"border-blue-400 bg-blue-50 text-blue-700":x.color==="green"?"border-green-400 bg-green-50 text-green-700":x.color==="amber"?"border-amber-400 bg-amber-50 text-amber-700":"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:[c.jsx("div",{className:"text-2xl mb-1",children:x.icon}),c.jsx("div",{className:"text-sm",children:x.label})]},x.key))})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border",children:[c.jsx("label",{className:"block text-lg font-bold text-slate-700 mb-3",children:"🎯 授業？宿題？"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("button",{type:"button",onClick:()=>l("class"),className:`p-4 rounded-xl border-2 transition-all font-medium ${s==="class"?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:[c.jsx("div",{className:"text-3xl mb-2",children:"🏫"}),c.jsx("div",{className:"font-bold",children:"授業"}),c.jsx("div",{className:"text-sm",children:"授業で習った内容"})]}),c.jsxs("button",{type:"button",onClick:()=>l("homework"),className:`p-4 rounded-xl border-2 transition-all font-medium ${s==="homework"?"border-orange-400 bg-orange-50 text-orange-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:[c.jsx("div",{className:"text-3xl mb-2",children:"📝"}),c.jsx("div",{className:"font-bold",children:"宿題"}),c.jsx("div",{className:"text-sm",children:"宿題として出された内容"})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border",children:[c.jsx("label",{className:"block text-lg font-bold text-slate-700 mb-3",children:"🎯 今回の成績"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"問題数（全体）"}),c.jsx("input",{type:"number",min:"1",max:"200",value:i,onChange:x=>r(x.target.value),className:"w-full text-lg p-3 border-2 border-slate-200 rounded-xl focus:border-blue-400 focus:ring-4 focus:ring-blue-100",placeholder:"例: 10",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"正解数"}),c.jsx("input",{type:"number",min:"0",max:i||"200",value:u,onChange:x=>o(x.target.value),className:"w-full text-lg p-3 border-2 border-slate-200 rounded-xl focus:border-blue-400 focus:ring-4 focus:ring-blue-100",placeholder:"例: 7",required:!0})]})]}),i&&u&&c.jsx("div",{className:"mt-3 text-center",children:c.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["正答率: ",Math.round(parseInt(u)/parseInt(i)*100),"%"]})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border",children:[c.jsx("label",{className:"block text-lg font-bold text-slate-700 mb-3",children:"😊 今日の気持ち"}),c.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{key:"good",label:"よくできた",icon:"😊",color:"green"},{key:"normal",label:"普通",icon:"😐",color:"blue"},{key:"hard",label:"難しかった",icon:"😞",color:"orange"}].map(x=>c.jsxs("button",{type:"button",onClick:()=>f(x.key),className:`p-4 rounded-xl border-2 transition-all font-medium ${d===x.key?x.color==="green"?"border-green-400 bg-green-50 text-green-700":x.color==="blue"?"border-blue-400 bg-blue-50 text-blue-700":x.color==="orange"?"border-orange-400 bg-orange-50 text-orange-700":"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:[c.jsx("div",{className:"text-3xl mb-2",children:x.icon}),c.jsx("div",{className:"text-sm",children:x.label})]},x.key))})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border",children:[c.jsx("label",{className:"block text-lg font-bold text-slate-700 mb-3",children:"💭 今日の振り返り（自由記入）"}),c.jsx("textarea",{value:h,onChange:x=>g(x.target.value),maxLength:300,className:"w-full min-h-24 p-4 border-2 border-slate-200 rounded-xl focus:border-blue-400 focus:ring-4 focus:ring-blue-100 text-lg resize-none",placeholder:"今日の学習でどんなことを感じましたか？（任意）"}),c.jsxs("div",{className:"text-right text-sm text-slate-500 mt-2",children:[h.length,"/300文字"]})]}),j&&c.jsx("div",{className:`p-4 rounded-xl font-medium ${m==="success"?"bg-green-100 border border-green-300 text-green-800":"bg-red-100 border border-red-300 text-red-800"}`,children:j}),c.jsx("button",{type:"submit",disabled:T,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xl font-bold py-4 px-6 rounded-2xl hover:from-blue-600 hover:to-purple-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:T?"保存中...":"📝 学習記録を保存"})]})]})}function bp(){const[e,t]=z.useState(null),[a,n]=z.useState([]),[s,l]=z.useState(!0),[i,r]=z.useState(null);z.useEffect(()=>{u();const b=setInterval(u,3e4);return()=>clearInterval(b)},[]);const u=async()=>{try{l(!0),r(null);const{data:b,error:S}=await Ue.from("study_records").select("*").order("date",{ascending:!1});if(S)throw S;const{data:k,error:O}=await Ue.from("feedbacks").select(`
          *,
          study_records (
            id,
            date,
            study_date,
            subject,
            content_type,
            attempt_number,
            questions_total,
            questions_correct,
            emotion,
            comment
          )
        `).order("created_at",{ascending:!1});if(O)throw O;const U=new Date().toISOString().split("T")[0],x=(b==null?void 0:b.filter(V=>V.date===U))||[],_=await o(x,b||[]),R=d(b||[]),q=f(b||[]),w=h(b||[]),M=g(b||[]),C=T(b||[]);t({continueDays:R,cumulativeDays:q,todayRecords:_,subjectStats:w,recentEmotions:M,totalSessions:(b==null?void 0:b.length)||0,growthMetrics:C}),n(k||[])}catch(b){const S=b instanceof Error?b.message:"データの取得に失敗しました";r(S),console.error("❌ ダッシュボードデータ取得エラー:",S)}finally{l(!1)}},o=async(b,S)=>{const k=new Map;for(const O of b){const U=`${O.study_date}-${O.subject}-${O.content_type}`,x=S.filter(R=>R.study_date===O.study_date&&R.subject===O.subject&&R.content_type===O.content_type&&R.date<=O.date).sort((R,q)=>R.attempt_number-q.attempt_number).map(R=>({attempt:R.attempt_number,correct:R.questions_correct,total:R.questions_total,accuracy:Math.round(R.questions_correct/R.questions_total*100),record_date:R.date,emotion:R.emotion})),_=S.filter(R=>R.study_date===O.study_date&&R.subject===O.subject&&R.content_type===O.content_type&&R.date===O.date).sort((R,q)=>q.attempt_number-R.attempt_number)[0]||O;k.set(U,{id:_.id,study_date:_.study_date,subject:_.subject,content_type:_.content_type,attempt_number:_.attempt_number,questions_total:_.questions_total,questions_correct:_.questions_correct,emotion:_.emotion,comment:_.comment,history:x})}return Array.from(k.values())},d=b=>{if(!b.length)return 0;const S=new Date().toISOString().split("T")[0],k=Array.from(new Set(b.map(x=>x.date))).sort().reverse();if(k.length===0)return 0;let O=0,U=new Date(S);for(;;){const x=U.toISOString().split("T")[0];if(k.includes(x))O++,U.setDate(U.getDate()-1);else break}return O},f=b=>b.length?Array.from(new Set(b.map(k=>k.date))).sort().length:0,h=b=>[{key:"aptitude",label:"適性",icon:"🧠",color:"from-purple-400 to-purple-600"},{key:"japanese",label:"国語",icon:"📚",color:"from-rose-400 to-rose-600"},{key:"math",label:"算数",icon:"🔢",color:"from-blue-400 to-blue-600"},{key:"science",label:"理科",icon:"🔬",color:"from-green-400 to-green-600"},{key:"social",label:"社会",icon:"🌍",color:"from-amber-400 to-amber-600"}].map(k=>{const O=b.filter(R=>R.subject===k.key),U=O.reduce((R,q)=>R+q.questions_total,0),x=O.reduce((R,q)=>R+q.questions_correct,0),_=U>0?Math.round(x/U*100):0;return{subject:k.key,label:k.label,totalQuestions:U,totalCorrect:x,accuracy:_,icon:k.icon,color:k.color}}).filter(k=>k.totalQuestions>0),g=b=>{const S=new Map;return b.forEach(O=>{const U=O.date;S.has(U)||S.set(U,[]),S.get(U).push(O)}),Array.from(S.keys()).sort().reverse().slice(0,5).map(O=>{const U=S.get(O)||[],x={good:0,normal:0,hard:0};U.forEach(R=>{x[R.emotion]++});const _=Object.entries(x).sort(([,R],[,q])=>q-R)[0][0];return{date:O,emotion:_}})},T=b=>{const S=new Date().toISOString().split("T")[0],k=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],O=b.filter(he=>he.date===S),U=b.filter(he=>he.date===k),x=O.length>0?O.reduce((he,ve)=>he+ve.questions_correct/ve.questions_total,0)/O.length*100:0,_=U.length>0?U.reduce((he,ve)=>he+ve.questions_correct/ve.questions_total,0)/U.length*100:0,R={percentage:Math.abs(x-_),isImprovement:x>_},q=new Date,w=new Date(q.getTime()-q.getDay()*24*60*60*1e3),M=new Date(w.getTime()-7*24*60*60*1e3),C=new Date(w.getTime()-1),V=b.filter(he=>new Date(he.date)>=w),W=b.filter(he=>{const ve=new Date(he.date);return ve>=M&&ve<=C}),Ht=V.length>0?V.reduce((he,ve)=>he+ve.questions_correct/ve.questions_total,0)/V.length*100:0,re=W.length>0?W.reduce((he,ve)=>he+ve.questions_correct/ve.questions_total,0)/W.length*100:0,Qn={current:Math.round(Ht),previous:Math.round(re),improvement:Math.round(Ht-re)},xt=d(b),Ga=new Date(q.getTime()-14*24*60*60*1e3),qc=new Date(q.getTime()-7*24*60*60*1e3),a0=["aptitude","japanese","math","science","social"],n0={aptitude:"適性",japanese:"国語",math:"算数",science:"理科",social:"社会"};let $c=null,Bc=0;return a0.forEach(he=>{const ve=b.filter(Lt=>Lt.subject===he&&new Date(Lt.date)>=qc),qi=b.filter(Lt=>Lt.subject===he&&new Date(Lt.date)>=Ga&&new Date(Lt.date)<qc);if(ve.length>0&&qi.length>0){const Lt=ve.reduce((Bi,Xn)=>Bi+Xn.questions_correct/Xn.questions_total,0)/ve.length*100,s0=qi.reduce((Bi,Xn)=>Bi+Xn.questions_correct/Xn.questions_total,0)/qi.length*100,$i=Lt-s0;$i>Bc&&(Bc=$i,$c={subject:he,label:n0[he],improvement:Math.round($i)})}}),{todayImprovement:R,weeklyAverage:Qn,consecutiveStreak:xt,mostImprovedSubject:$c}},N=b=>({good:"😊",normal:"😐",hard:"😞"})[b]||"😐",j=b=>({aptitude:"適性",japanese:"国語",math:"算数",science:"理科",social:"社会"})[b]||b,y=b=>({aptitude:"🎯",japanese:"✍️",math:"🔢",science:"🧪",social:"🌍"})[b]||"📚",m=b=>b==="class"?"授業":"宿題",v=b=>({good:"😊 よくできた",normal:"😐 普通",hard:"😞 難しかった"})[b]||b,p=b=>b.length<=1?"":b.map(S=>`(${S.correct}/${S.total})`).join(" → "),A=b=>!b||b==="1970-01-01"?"未設定":new Date(b).toLocaleDateString("ja-JP",{month:"numeric",day:"numeric"}),D=()=>{const b=new Date;return b.setDate(b.getDate()-7),a.filter(O=>new Date(O.created_at)>=b).sort((O,U)=>new Date(U.created_at).getTime()-new Date(O.created_at).getTime()).slice(0,10).map(O=>({feedback:O,record:O.study_records||null}))};return s?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-lg",children:"ダッシュボードを読み込み中..."})]}):i?c.jsx("div",{className:"p-8 text-center",children:c.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:[c.jsx("h3",{className:"font-bold",children:"エラーが発生しました"}),c.jsx("p",{children:i}),c.jsx("button",{onClick:u,className:"mt-4 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"再読み込み"})]})}):e?c.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:"📊 学習ダッシュボード"}),c.jsx("p",{className:"text-slate-600 text-lg",children:"がんばりの記録を確認しよう！"})]}),c.jsxs("div",{className:"bg-gradient-to-r from-orange-400 to-red-500 text-white rounded-2xl p-8 text-center shadow-xl",children:[c.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[c.jsx("span",{className:"text-6xl",children:"🔥"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-4xl font-black",children:"継続日数"}),c.jsx("p",{className:"text-xl opacity-90",children:"がんばり日数"})]})]}),c.jsxs("div",{className:"flex items-center justify-center gap-8 mb-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-5xl font-black mb-1",children:[e.continueDays,c.jsx("span",{className:"text-2xl",children:"/17"})]}),c.jsx("div",{className:"text-lg opacity-80",children:"連続日数"})]}),c.jsx("div",{className:"text-white/50 text-4xl",children:"|"}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-5xl font-black mb-1",children:[e.cumulativeDays,c.jsx("span",{className:"text-2xl",children:"/17"})]}),c.jsx("div",{className:"text-lg opacity-80",children:"累積日数"})]})]}),c.jsx("div",{className:"text-xl opacity-90",children:e.continueDays>=17?"🎉 完走達成！":e.continueDays>=10?"💪 もう少し！":e.continueDays>=5?"🌟 順調です！":"📈 がんばろう！"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("span",{className:"text-2xl",children:"📈"}),c.jsx("h3",{className:"font-bold text-lg",children:"今日の成果"})]}),e.growthMetrics.todayImprovement.percentage>0?c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:`text-2xl font-bold ${e.growthMetrics.todayImprovement.isImprovement?"text-green-600":"text-red-600"}`,children:[e.growthMetrics.todayImprovement.isImprovement?"+":"-",e.growthMetrics.todayImprovement.percentage.toFixed(1),"%"]}),c.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["昨日より ",e.growthMetrics.todayImprovement.isImprovement?"UP!":"DOWN",e.growthMetrics.todayImprovement.isImprovement&&e.growthMetrics.todayImprovement.percentage>=10?" 🔥":""]})]}):c.jsx("div",{className:"text-center text-slate-500 text-sm",children:"昨日のデータなし"})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("span",{className:"text-2xl",children:"📊"}),c.jsx("h3",{className:"font-bold text-lg",children:"週間平均"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[e.growthMetrics.weeklyAverage.current,"%"]}),e.growthMetrics.weeklyAverage.previous>0&&c.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["先週: ",e.growthMetrics.weeklyAverage.previous,"%",e.growthMetrics.weeklyAverage.improvement!==0&&c.jsxs("span",{className:`ml-1 ${e.growthMetrics.weeklyAverage.improvement>0?"text-green-600":"text-red-600"}`,children:["(",e.growthMetrics.weeklyAverage.improvement>0?"+":"",e.growthMetrics.weeklyAverage.improvement,"%)"]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("span",{className:"text-2xl",children:"⭐"}),c.jsx("h3",{className:"font-bold text-lg",children:"連続記録"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[e.growthMetrics.consecutiveStreak,"日連続"]}),c.jsx("div",{className:"text-sm text-slate-600 mt-1",children:e.growthMetrics.consecutiveStreak>=5?"素晴らしい！":"がんばろう！"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("span",{className:"text-2xl",children:"🚀"}),c.jsx("h3",{className:"font-bold text-lg",children:"成長科目"})]}),e.growthMetrics.mostImprovedSubject?c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-lg font-bold text-green-600",children:e.growthMetrics.mostImprovedSubject.label}),c.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["+",e.growthMetrics.mostImprovedSubject.improvement,"% UP!"]})]}):c.jsx("div",{className:"text-center text-slate-500 text-sm",children:"データ蓄積中"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border",children:[c.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"📅"}),"今日の記録"]}),e.todayRecords.length>0?c.jsx("div",{className:"space-y-4",children:e.todayRecords.map(b=>c.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-lg",children:[j(b.subject),"（",m(b.content_type),"）"]}),c.jsxs("div",{className:"text-sm text-slate-500",children:[A(b.study_date),"実施分",b.attempt_number>1&&c.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:[b.attempt_number,"回目"]})]})]}),c.jsx("span",{className:"text-sm text-slate-500",children:v(b.emotion)})]}),c.jsxs("div",{className:"text-blue-600 font-medium mb-2",children:["現在: ",b.questions_correct,"/",b.questions_total,"問正解",c.jsxs("span",{className:"ml-2 text-sm text-slate-600",children:["(",Math.round(b.questions_correct/b.questions_total*100),"%)"]})]}),b.history.length>1&&c.jsxs("div",{className:"text-sm text-slate-600 mb-2",children:[c.jsx("span",{className:"font-medium",children:"成績の変化:"}),c.jsx("div",{className:"mt-1 font-mono text-blue-700",children:p(b.history)}),c.jsx("div",{className:"text-xs text-slate-500 mt-1",children:b.history.length>1&&c.jsxs("span",{children:["改善: +",b.history[b.history.length-1].accuracy-b.history[0].accuracy,"%"]})})]}),b.comment&&c.jsx("p",{className:"text-slate-600 text-sm mt-2 bg-white p-2 rounded",children:b.comment})]},b.id))}):c.jsxs("div",{className:"text-center py-8 text-slate-500",children:[c.jsx("span",{className:"text-4xl mb-4 block",children:"📝"}),c.jsx("p",{className:"text-lg",children:"今日はまだ学習記録がありません"}),c.jsx("p",{className:"text-sm",children:"がんばって記録をつけよう！"})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border",children:[c.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"💭"}),"最近の調子"]}),e.recentEmotions.length>0?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex justify-center items-center gap-2 text-4xl",children:e.recentEmotions.map((b,S)=>c.jsx("span",{className:"transition-transform hover:scale-125",children:N(b.emotion)},S))}),c.jsx("div",{className:"text-center text-sm text-slate-500",children:e.recentEmotions.map((b,S)=>c.jsx("span",{className:"inline-block mx-1",children:new Date(b.date).toLocaleDateString("ja-JP",{month:"short",day:"numeric"})},S))})]}):c.jsxs("div",{className:"text-center py-8 text-slate-500",children:[c.jsx("span",{className:"text-4xl mb-4 block",children:"🤔"}),c.jsx("p",{children:"まだデータが少ないです"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border",children:[c.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"📈"}),"科目別成績"]}),e.subjectStats.length>0?c.jsx(c.Fragment,{children:c.jsxs("div",{className:"space-y-4 mb-8",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-4",children:"累積正答率"}),e.subjectStats.map(b=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3 w-24",children:[c.jsx("span",{className:"text-2xl",children:b.icon}),c.jsx("span",{className:"font-medium",children:b.label})]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-6 overflow-hidden",children:c.jsx("div",{className:`h-full bg-gradient-to-r ${b.color} transition-all duration-500`,style:{width:`${b.accuracy}%`}})}),c.jsxs("div",{className:"text-lg font-bold text-slate-700 w-12 text-right",children:[b.accuracy,"%"]})]}),c.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:[b.totalCorrect,"/",b.totalQuestions,"問正解"]})]})]},b.subject))]})}):c.jsxs("div",{className:"text-center py-8 text-slate-500",children:[c.jsx("span",{className:"text-4xl mb-4 block",children:"📊"}),c.jsx("p",{children:"学習記録を追加すると成績が表示されます"})]})]}),D().length>0&&c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"💌"}),"最近の応援メッセージ・スタンプ"]}),c.jsx("button",{onClick:u,disabled:s,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 disabled:opacity-50 transition-colors",children:"🔄 更新"})]}),c.jsx("div",{className:"space-y-4",children:D().map(b=>c.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[b.record&&c.jsxs("div",{className:"mb-3 p-3 bg-white rounded-lg border border-slate-200",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-lg",children:y(b.record.subject)}),c.jsx("span",{className:"font-semibold",children:j(b.record.subject)}),c.jsx("span",{className:"text-sm px-2 py-1 bg-slate-100 text-slate-600 rounded",children:m(b.record.content_type)}),b.record.attempt_number>1&&c.jsxs("span",{className:"text-sm px-2 py-1 bg-blue-100 text-blue-700 rounded",children:[b.record.attempt_number,"回目"]})]}),c.jsxs("div",{className:"text-sm text-slate-600 flex items-center gap-4",children:[c.jsxs("span",{children:["📅 ",A(b.record.study_date),"実施分"]}),c.jsxs("span",{className:"font-medium text-blue-600",children:["🎯 ",b.record.questions_correct,"/",b.record.questions_total,"問正解 (",Math.round(b.record.questions_correct/b.record.questions_total*100),"%)"]}),c.jsx("span",{children:v(b.record.emotion)})]})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${b.feedback.sender_type==="parent"?"bg-pink-100 text-pink-800":"bg-blue-100 text-blue-800"}`,children:b.feedback.sender_type==="parent"?"👨‍👩‍👧‍👦 保護者":"👨‍🏫 指導者"}),b.feedback.reaction_type&&c.jsxs("span",{className:"text-2xl",children:[b.feedback.reaction_type==="clap"&&"👏",b.feedback.reaction_type==="thumbs"&&"👍",b.feedback.reaction_type==="muscle"&&"💪"]}),c.jsx("span",{className:"text-xs text-slate-500 ml-auto",children:new Date(b.feedback.created_at).toLocaleDateString("ja-JP",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),b.feedback.message&&typeof b.feedback.message=="string"&&b.feedback.message.trim()!==""?c.jsx("p",{className:"text-slate-700",children:b.feedback.message}):b.feedback.reaction_type&&c.jsxs("p",{className:"text-slate-600 italic text-sm",children:[b.feedback.reaction_type==="clap"&&"すごい！",b.feedback.reaction_type==="thumbs"&&"いいね！",b.feedback.reaction_type==="muscle"&&"頑張って！"]})]},b.feedback.id))})]})]}):null}async function pp(e,t,a){var s;const n=`${Date.now()}_${Math.random().toString(36).substr(2,9)}`;try{console.log(`🚀 [${n}] 個別最適化メッセージ生成開始:`,{subject:e.subject,senderType:a,studyData:{subject:e.subject,questionsTotal:e.questionsTotal,questionsCorrect:e.questionsCorrect,accuracy:Math.round(e.questionsCorrect/e.questionsTotal*100),emotion:e.emotion,date:e.date},studyHistory:{continuationDays:t.continuationDays,totalDays:t.totalDays,recentRecordsCount:t.recentRecords.length}});const l=new AbortController,i=setTimeout(()=>l.abort(),15e3),r=await fetch("/api/generate-messages",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({studyData:e,studyHistory:t,senderType:a}),signal:l.signal});if(clearTimeout(i),!r.ok)throw console.error(`❌ [${n}] API応答エラー:`,r.status,r.statusText),new Error(`API request failed: ${r.status} ${r.statusText}`);const u=await r.json();return console.log(`✅ [${n}] 個別最適化メッセージ取得成功:`,(s=u.messages)==null?void 0:s.length,"messages",u.messages),u.messages}catch(l){return console.error(`❌ [${n}] 個別最適化メッセージ生成失敗:`,l),console.log(`🔄 [${n}] 個別データ反映フォールバックメッセージを使用`),xp(e,t,a)}}function xp(e,t,a){const s={aptitude:"適性",japanese:"国語",math:"算数",science:"理科",social:"社会"}[e.subject]||e.subject,l=Math.round(e.questionsCorrect/e.questionsTotal*100),i=e.questionsCorrect,r=e.questionsTotal,u=t.continuationDays,o=`${e.subject}_${e.date}_${e.questionsCorrect}_${e.questionsTotal}_${e.emotion}_${Date.now()}`,d=Math.abs(o.split("").reduce((f,h)=>f+h.charCodeAt(0),0))%100;if(a==="parent"){const f=[`${s}${l}%、今日もよく頑張ったね😊`,`${s}${l}%達成、素晴らしい努力だね😊`,`${s}で${l}%、本当によく頑張ってる😊`,`${s}${l}%、継続する力が立派だね😊`],h=[`${s}${r}問中${i}問正解、成長してるね🎯`,`${s}で${i}/${r}問正解、力がついてる🎯`,`${s}${i}問正解、確実に上達してるね🎯`,`${s}の${i}問正解、頑張りが実ってる🎯`],g=[`${u}日継続中、パパママも応援してるよ💝`,`${u}日も続けて、本当に頑張り屋さんだね💝`,`${u}日継続、その努力を誇らしく思うよ💝`,`${u}日間コツコツと、素晴らしい姿勢だね💝`];return[{message:f[d%f.length],emoji:"😊",type:"encouraging"},{message:h[(d+1)%h.length],emoji:"🎯",type:"specific_praise"},{message:g[(d+2)%g.length],emoji:"💝",type:"loving"}]}else{const f=[`${s}${l}%、着実に力がついています📈`,`${s}で${l}%達成、順調な成長です📈`,`${s}${l}%、確実にレベルアップしています📈`,`${s}の${l}%、基礎力が定着してきました📈`],h=[`${s}${r}問中${i}問正解、素晴らしいです🎯`,`${s}で${i}/${r}問正解、理解が深まっています🎯`,`${s}${i}問正解、学習効果が表れています🎯`,`${s}の${i}問正解、着実な進歩です🎯`],g=[`${u}日継続、この調子で次のステップへ💪`,`${u}日間の継続、継続力が素晴らしいです💪`,`${u}日続けて、学習習慣が定着していますね💪`,`${u}日継続中、この momentum を大切に💪`];return[{message:f[d%f.length],emoji:"📈",type:"encouraging"},{message:h[(d+1)%h.length],emoji:"🎯",type:"instructional"},{message:g[(d+2)%g.length],emoji:"💪",type:"motivational"}]}}function _p({recordId:e,studyData:t,senderType:a,onSendFeedback:n,sending:s,reactionSent:l,getStudyHistory:i}){const[r,u]=z.useState([]),[o,d]=z.useState(!1),[f,h]=z.useState(null);z.useEffect(()=>{g()},[e,a]);const g=async()=>{let j=null;try{d(!0),h(null),console.log("🚀 メッセージ生成開始 - recordId:",e,"studyData:",{subject:t.subject,questionsTotal:t.questionsTotal,questionsCorrect:t.questionsCorrect,accuracy:Math.round(t.questionsCorrect/t.questionsTotal*100)}),j=await i(e),console.log("📊 取得した学習履歴:",j);const y=await pp(t,j,a);console.log("✅ 生成されたメッセージ:",y),u(y)}catch(y){console.error("個別最適化メッセージの生成に失敗:",y),h("メッセージの生成に失敗しました");const m={recentRecords:[t],totalDays:1,continuationDays:1,subjectAccuracy:{[t.subject]:{correct:t.questionsCorrect,total:t.questionsTotal}}};console.log("🔄 直接フォールバック使用 - studyData:",t,"fallbackHistory:",m),u(T(t,m,a))}finally{d(!1)}},T=(j,y,m)=>{const p={aptitude:"適性",japanese:"国語",math:"算数",science:"理科",social:"社会"}[j.subject]||j.subject,A=Math.round(j.questionsCorrect/j.questionsTotal*100),D=j.questionsCorrect,b=j.questionsTotal,S=y.continuationDays,k=`${j.subject}_${j.date}_${j.questionsCorrect}_${j.questionsTotal}_${j.emotion}_${Date.now()}`,O=Math.abs(k.split("").reduce((U,x)=>U+x.charCodeAt(0),0))%100;if(console.log(`🎯 フォールバック生成 [${e}]:`,{recordId:e,subject:j.subject,subjectName:p,accuracy:A,correctCount:D,totalCount:b,continuationDays:S,senderType:m,uniqueSeed:k,randomIndex:O}),m==="parent"){const U=[`${p}${A}%、今日もよく頑張ったね😊`,`${p}${A}%達成、素晴らしい努力だね😊`,`${p}で${A}%、本当によく頑張ってる😊`,`${p}${A}%、継続する力が立派だね😊`],x=[`${p}${b}問中${D}問正解、成長してるね🎯`,`${p}で${D}/${b}問正解、力がついてる🎯`,`${p}${D}問正解、確実に上達してるね🎯`,`${p}の${D}問正解、頑張りが実ってる🎯`],_=[`${S}日継続中、パパママも応援してるよ💝`,`${S}日も続けて、本当に頑張り屋さんだね💝`,`${S}日継続、その努力を誇らしく思うよ💝`,`${S}日間コツコツと、素晴らしい姿勢だね💝`];return[{message:U[O%U.length],emoji:"😊",type:"encouraging"},{message:x[(O+1)%x.length],emoji:"🎯",type:"specific_praise"},{message:_[(O+2)%_.length],emoji:"💝",type:"loving"}]}else{const U=[`${p}${A}%、着実に力がついています📈`,`${p}で${A}%達成、順調な成長です📈`,`${p}${A}%、確実にレベルアップしています📈`,`${p}の${A}%、基礎力が定着してきました📈`],x=[`${p}${b}問中${D}問正解、素晴らしいです🎯`,`${p}で${D}/${b}問正解、理解が深まっています🎯`,`${p}${D}問正解、学習効果が表れています🎯`,`${p}の${D}問正解、着実な進歩です🎯`],_=[`${S}日継続、この調子で次のステップへ💪`,`${S}日間の継続、継続力が素晴らしいです💪`,`${S}日続けて、学習習慣が定着していますね💪`,`${S}日継続中、この momentum を大切に💪`];return[{message:U[O%U.length],emoji:"📈",type:"encouraging"},{message:x[(O+1)%x.length],emoji:"🎯",type:"instructional"},{message:_[(O+2)%_.length],emoji:"💪",type:"motivational"}]}},N=async j=>{await n(e,j.message,j.emoji)};return(l==null?void 0:l.recordId)===e?c.jsxs("div",{className:"bg-green-100 border border-green-300 text-green-800 px-6 py-4 rounded-xl flex items-center justify-center gap-3 animate-pulse",children:[c.jsx("span",{className:"text-3xl",children:"✨"}),c.jsx("span",{className:"font-bold text-lg",children:"応援メッセージを送信しました！"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsx("h4",{className:"text-lg font-bold mb-3",children:a==="parent"?"👨‍👩‍👧‍👦 保護者として応援する:":"👨‍🏫 指導者として応援する:"}),o&&c.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl flex items-center gap-3",children:[c.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-500"}),c.jsx("span",{className:"text-blue-700",children:"あなた専用の応援メッセージを生成中..."})]}),f&&c.jsxs("div",{className:"bg-red-50 p-4 rounded-xl text-red-700",children:[c.jsx("p",{children:f}),c.jsx("button",{onClick:g,className:"mt-2 text-sm underline hover:no-underline",children:"再試行"})]}),!o&&r.length>0&&c.jsxs("div",{className:"space-y-3",children:[r.map((j,y)=>c.jsx("button",{onClick:()=>N(j),disabled:s,className:"w-full p-4 bg-gradient-to-r from-blue-50 to-purple-50 hover:from-blue-100 hover:to-purple-100 border border-blue-200 rounded-xl text-left transition-all hover:scale-[1.02] disabled:opacity-50 disabled:cursor-not-allowed",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx("span",{className:"text-2xl",children:j.emoji}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-slate-800 font-medium text-lg",children:j.message}),c.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[c.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${Sp(j.type)}`,children:wp(j.type)}),c.jsxs("span",{className:"text-xs text-slate-500",children:[a==="parent"?"保護者":"指導者","向け"]})]})]})]})},y)),c.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg text-sm text-blue-700",children:"💡 より詳しいメッセージを送りたい場合は、下の「メッセージを送る」セクションをご利用ください"})]})]})}function Sp(e){return{encouraging:"bg-green-100 text-green-700",specific_praise:"bg-blue-100 text-blue-700",motivational:"bg-red-100 text-red-700",loving:"bg-pink-100 text-pink-700",instructional:"bg-purple-100 text-purple-700"}[e]||"bg-gray-100 text-gray-700"}function wp(e){return{encouraging:"励まし",specific_praise:"具体的称賛",motivational:"動機付け",loving:"愛情表現",instructional:"指導的"}[e]||e}function jp({userRole:e}){const[t,a]=z.useState([]),[n,s]=z.useState([]),[l,i]=z.useState(!0),[r,u]=z.useState(null),[o,d]=z.useState(""),[f,h]=z.useState(!1),[g,T]=z.useState(null);z.useEffect(()=>{N()},[]);const N=async()=>{try{i(!0);const _=new Date;_.setDate(_.getDate()-14);const R=_.toISOString().split("T")[0],{data:q,error:w}=await Ue.from("study_records").select("*").gte("date",R).order("date",{ascending:!1});if(w)throw w;const{data:M,error:C}=await Ue.from("feedbacks").select("*").order("created_at",{ascending:!1});if(C)throw C;const V=await j(q||[]);a(V),s(M||[])}catch(_){console.error("❌ データ取得エラー:",_)}finally{i(!1)}},j=async _=>{const R=[];for(const q of _){const w=_.filter(M=>M.study_date===q.study_date&&M.subject===q.subject&&M.content_type===q.content_type&&M.date<=q.date).sort((M,C)=>M.attempt_number-C.attempt_number).map(M=>({attempt:M.attempt_number,correct:M.questions_correct,total:M.questions_total,accuracy:Math.round(M.questions_correct/M.questions_total*100),record_date:M.date,emotion:M.emotion}));R.push({...q,history:w})}return R},y=async _=>{try{const R=new Date;R.setDate(R.getDate()-30);const q=R.toISOString().split("T")[0],{data:w,error:M}=await Ue.from("study_records").select("*").gte("date",q).order("date",{ascending:!1});if(M)throw M;const C=[...new Set((w==null?void 0:w.map(re=>re.date))||[])],V=m(C),W={};return w==null||w.forEach(re=>{W[re.subject]||(W[re.subject]={correct:0,total:0}),W[re.subject].correct+=re.questions_correct,W[re.subject].total+=re.questions_total}),{recentRecords:((w==null?void 0:w.slice(0,5))||[]).map(re=>({subject:re.subject,questionsTotal:re.questions_total,questionsCorrect:re.questions_correct,emotion:re.emotion,comment:re.comment||void 0,date:re.date})),totalDays:C.length,continuationDays:V,subjectAccuracy:W}}catch(R){return console.error("学習履歴データの取得に失敗:",R),{recentRecords:[],totalDays:0,continuationDays:0,subjectAccuracy:{}}}},m=_=>{if(_.length===0)return 0;const R=_.sort((w,M)=>new Date(M).getTime()-new Date(w).getTime());let q=1;for(let w=1;w<R.length;w++){const M=new Date(R[w]),C=new Date(R[w-1]);if(Math.floor((C.getTime()-M.getTime())/(1e3*60*60*24))===1)q++;else break}return q},v=async(_,R,q)=>{try{h(!0);const{error:w}=await Ue.from("feedbacks").insert([{record_id:_,sender_type:e,reaction_type:null,message:R}]);if(w)throw w;console.log("✅ 個別最適化メッセージ送信成功"),h(!1),T({recordId:_,type:"personalized"}),setTimeout(()=>{T(null);const M={id:Date.now(),record_id:_,sender_type:e,reaction_type:void 0,message:R,created_at:new Date().toISOString()};s(C=>[M,...C])},2e3)}catch(w){console.error("❌ 個別最適化メッセージ送信エラー:",w),alert("メッセージの送信に失敗しました"),h(!1),T(null)}},p=async _=>{if(!o.trim()){alert("コメントを入力してください");return}try{h(!0);const{error:R}=await Ue.from("feedbacks").insert([{record_id:_,sender_type:e,reaction_type:null,message:o.trim()}]);if(R)throw R;console.log("✅ コメント送信成功");const q={id:Date.now(),record_id:_,sender_type:e,reaction_type:void 0,message:o.trim(),created_at:new Date().toISOString()};s(w=>[q,...w]),d(""),u(null)}catch(R){console.error("❌ コメント送信エラー:",R),alert("コメントの送信に失敗しました")}finally{h(!1)}},A=_=>({aptitude:"適性",japanese:"国語",math:"算数",science:"理科",social:"社会"})[_]||_,D=_=>_==="class"?"授業":"宿題",b=_=>({good:"😊 よくできた",normal:"😐 普通",hard:"😞 難しかった"})[_]||_,S=_=>_==="parent"?"👨‍👩‍👧‍👦 保護者":"👨‍🏫 指導者",k=_=>n.filter(R=>R.record_id===_),O=_=>_.length<=1?"":_.map(R=>`(${R.correct}/${R.total})`).join(" → "),U=_=>!_||_==="1970-01-01"?"未設定":new Date(_).toLocaleDateString("ja-JP",{year:"numeric",month:"numeric",day:"numeric"}),x=_=>new Date(_).toLocaleDateString("ja-JP",{month:"numeric",day:"numeric"});return l?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-lg",children:"学習記録を読み込み中..."})]}):c.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 bg-clip-text text-transparent mb-2",children:"💌 応援・フィードバック"}),c.jsxs("p",{className:"text-slate-600 text-lg",children:[S(e),"として、がんばりを応援しよう！"]})]}),c.jsx("div",{className:"space-y-6",children:t.length>0?t.map(_=>{const R=k(_.id),q=Math.round(_.questions_correct/_.questions_total*100);return c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:[A(_.subject),"（",D(_.content_type),"）"]}),c.jsxs("div",{className:"flex items-center gap-4 text-slate-600",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"学習実施日:"})," ",U(_.study_date)]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"記録日:"})," ",x(_.date)]}),_.attempt_number>1&&c.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-sm font-medium",children:[_.attempt_number,"回目"]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-3xl font-black text-blue-600",children:[q,"%"]}),c.jsxs("div",{className:"text-sm text-slate-500",children:[_.questions_correct,"/",_.questions_total,"問正解"]})]})]}),_.history.length>1&&c.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl mb-4",children:[c.jsx("h4",{className:"font-bold text-blue-800 mb-2",children:"📈 成績の変化"}),c.jsxs("div",{className:"text-blue-700",children:[c.jsx("div",{className:"font-mono text-lg mb-2",children:O(_.history)}),c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"成長:"}),c.jsxs("span",{className:"ml-2 text-green-700 font-bold",children:["+",_.history[_.history.length-1].accuracy-_.history[0].accuracy,"%改善"]}),c.jsxs("span",{className:"ml-4 text-slate-600",children:["（",_.history.length,"回挑戦）"]})]}),c.jsx("div",{className:"text-xs text-blue-600 mt-1",children:_.history.map((w,M)=>c.jsxs("span",{className:"mr-3",children:[M+1,"回目: ",x(w.record_date)]},M))})]})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl mb-4",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[c.jsx("span",{className:"text-lg font-medium",children:"今回の気持ち:"}),c.jsx("span",{className:"text-xl",children:b(_.emotion)})]}),_.comment&&c.jsxs("div",{children:[c.jsx("span",{className:"text-lg font-medium",children:"コメント:"}),c.jsxs("p",{className:"text-slate-700 mt-1",children:["「",_.comment,"」"]})]})]})]}),c.jsx("div",{className:"mb-6",children:c.jsx(_p,{recordId:_.id,studyData:{subject:_.subject,questionsTotal:_.questions_total,questionsCorrect:_.questions_correct,emotion:_.emotion,comment:_.comment||void 0,date:_.date},senderType:e,onSendFeedback:v,sending:f,reactionSent:g,getStudyHistory:y})}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-lg font-bold mb-3",children:"メッセージを送る:"}),(r==null?void 0:r.id)===_.id?c.jsxs("div",{className:"space-y-3",children:[c.jsx("textarea",{value:o,onChange:w=>d(w.target.value),maxLength:500,className:"w-full min-h-24 p-4 border-2 border-slate-200 rounded-xl focus:border-purple-400 focus:ring-4 focus:ring-purple-100 text-lg resize-none",placeholder:"応援のメッセージを書いてください..."}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"text-sm text-slate-500",children:[o.length,"/500文字"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>{u(null),d("")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"キャンセル"}),c.jsx("button",{onClick:()=>p(_.id),disabled:f||!o.trim(),className:"px-6 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"送信中...":"送信"})]})]})]}):c.jsx("button",{onClick:()=>u(_),className:"w-full p-4 border-2 border-dashed border-slate-300 rounded-xl text-slate-500 hover:border-purple-400 hover:text-purple-600 transition-colors",children:"💬 メッセージを書く"})]}),R.length>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-bold mb-3",children:"これまでの応援:"}),c.jsx("div",{className:"space-y-2",children:R.sort((w,M)=>new Date(M.created_at).getTime()-new Date(w.created_at).getTime()).map(w=>c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${w.sender_type==="parent"?"bg-pink-100 text-pink-700":"bg-blue-100 text-blue-700"}`,children:S(w.sender_type)}),w.reaction_type&&c.jsxs("span",{className:"text-lg",children:[w.reaction_type==="clap"&&"👏 すごい！",w.reaction_type==="thumbs"&&"👍 いいね！",w.reaction_type==="muscle"&&"💪 頑張って！"]}),c.jsx("span",{className:"text-xs text-slate-500 ml-auto",children:new Date(w.created_at).toLocaleDateString("ja-JP")})]}),w.message&&typeof w.message=="string"&&w.message.trim()!==""&&c.jsx("p",{className:"text-slate-700 text-sm mt-1",children:w.message})]},w.id))})]})]},_.id)}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx("span",{className:"text-6xl mb-4 block",children:"📝"}),c.jsx("h3",{className:"text-2xl font-bold text-slate-600 mb-2",children:"学習記録がまだありません"}),c.jsx("p",{className:"text-slate-500",children:"学習記録が投稿されると、ここに表示されます"})]})})]})}function Tp(){const[e,t]=z.useState("study"),[a,n]=z.useState([]),[s,l]=z.useState(!0),[i,r]=z.useState(null),[u,o]=z.useState("all"),[d,f]=z.useState("date"),[h,g]=z.useState("desc");z.useEffect(()=>{T()},[]);const T=async()=>{try{l(!0),r(null);const{data:U,error:x}=await Ue.from("study_records").select("*").order("study_date",{ascending:!1}).order("date",{ascending:!1});if(x)throw x;const{data:_,error:R}=await Ue.from("feedbacks").select("*").order("created_at",{ascending:!1});if(R)throw R;const q=(U||[]).map(w=>({record:w,feedbacks:(_||[]).filter(M=>M.record_id===w.id)}));n(q)}catch(U){console.error("履歴データの読み込みでエラーが発生しました:",U),r("履歴データの読み込みに失敗しました。")}finally{l(!1)}},N=U=>({aptitude:"適性検査",japanese:"国語",math:"算数",science:"理科",social:"社会"})[U]||U,j=U=>({aptitude:"🎯",japanese:"✍️",math:"🔢",science:"🧪",social:"🌍"})[U]||"📚",y=U=>U==="class"?"授業":"宿題",m=U=>({good:"😊 よくできた",normal:"😐 ふつう",hard:"😵 むずかしかった"})[U]||U,v=U=>{const x=new Date(U);return`${x.getMonth()+1}/${x.getDate()}`},p=U=>new Date(U).toLocaleDateString("ja-JP",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),A=()=>{let U=a;return u!=="all"&&(U=a.filter(_=>_.record.subject===u)),[...U].sort((_,R)=>{let q=0;switch(d){case"date":q=new Date(_.record.study_date).getTime()-new Date(R.record.study_date).getTime();break;case"accuracy":const w=_.record.questions_correct/_.record.questions_total*100,M=R.record.questions_correct/R.record.questions_total*100;q=w-M;break;case"emotion":const C={hard:0,normal:1,good:2};q=C[_.record.emotion]-C[R.record.emotion];break}return h==="asc"?q:-q})},D=U=>{d===U?g(h==="asc"?"desc":"asc"):(f(U),g("desc"))},b=U=>d!==U?"↕️":h==="asc"?"↑":"↓",S=()=>{const U=A();return c.jsx("div",{className:"space-y-4",children:U.map(x=>c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl",children:j(x.record.subject)}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-lg",children:[N(x.record.subject),"（",y(x.record.content_type),"）"]}),c.jsxs("div",{className:"text-sm text-slate-500",children:["📅 ",v(x.record.study_date),"実施分",x.record.attempt_number>1&&c.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:[x.record.attempt_number,"回目"]})]})]})]}),c.jsxs("div",{className:"text-right text-sm text-slate-500",children:["記録日: ",p(x.record.date)]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[c.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"正答率"}),c.jsxs("div",{className:"text-xl font-bold text-blue-700",children:[Math.round(x.record.questions_correct/x.record.questions_total*100),"%"]})]}),c.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[c.jsx("div",{className:"text-sm text-green-600 font-medium",children:"正解数"}),c.jsxs("div",{className:"text-xl font-bold text-green-700",children:[x.record.questions_correct,"/",x.record.questions_total]})]}),c.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[c.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"感想"}),c.jsx("div",{className:"text-lg text-purple-700",children:m(x.record.emotion)})]}),c.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[c.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"応援数"}),c.jsxs("div",{className:"text-xl font-bold text-orange-700",children:[x.feedbacks.length,"件"]})]})]}),x.record.comment&&c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg mb-4",children:[c.jsx("div",{className:"text-sm text-slate-600 font-medium mb-1",children:"コメント"}),c.jsx("p",{className:"text-slate-700",children:x.record.comment})]}),x.feedbacks.length>0&&c.jsxs("div",{className:"border-t pt-4",children:[c.jsxs("div",{className:"text-sm text-slate-600 font-medium mb-2",children:["応援メッセージ・スタンプ (",x.feedbacks.length,"件)"]}),c.jsx("div",{className:"space-y-2",children:x.feedbacks.map(_=>c.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${_.sender_type==="parent"?"bg-pink-100 text-pink-800":"bg-blue-100 text-blue-800"}`,children:_.sender_type==="parent"?"👨‍👩‍👧‍👦":"👨‍🏫"}),_.reaction_type&&c.jsxs("span",{className:"text-lg",children:[_.reaction_type==="clap"&&"👏",_.reaction_type==="thumbs"&&"👍",_.reaction_type==="muscle"&&"💪"]}),c.jsx("span",{className:"flex-1 text-slate-700",children:_.message||(_.reaction_type==="clap"?"すごい！":_.reaction_type==="thumbs"?"いいね！":_.reaction_type==="muscle"?"頑張って！":"")}),c.jsx("span",{className:"text-xs text-slate-500",children:p(_.created_at)})]},_.id))})]})]},x.record.id))})},k=()=>{const U=a.flatMap(x=>x.feedbacks.map(_=>({feedback:_,record:x.record}))).sort((x,_)=>new Date(_.feedback.created_at).getTime()-new Date(x.feedback.created_at).getTime());return c.jsx("div",{className:"space-y-4",children:U.map(({feedback:x,record:_})=>c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow border",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("span",{className:`px-3 py-1 rounded text-sm font-medium ${x.sender_type==="parent"?"bg-pink-100 text-pink-800":"bg-blue-100 text-blue-800"}`,children:x.sender_type==="parent"?"👨‍👩‍👧‍👦 保護者":"👨‍🏫 指導者"}),x.reaction_type&&c.jsxs("span",{className:"text-2xl",children:[x.reaction_type==="clap"&&"👏",x.reaction_type==="thumbs"&&"👍",x.reaction_type==="muscle"&&"💪"]}),c.jsx("span",{className:"text-sm text-slate-500 ml-auto",children:p(x.created_at)})]}),c.jsxs("div",{className:"mb-3 p-3 bg-slate-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"text-lg",children:j(_.subject)}),c.jsx("span",{className:"font-semibold",children:N(_.subject)}),c.jsx("span",{className:"text-sm px-2 py-1 bg-slate-200 text-slate-600 rounded",children:y(_.content_type)})]}),c.jsxs("div",{className:"text-sm text-slate-600",children:["📅 ",v(_.study_date),"実施分 | 🎯 ",_.questions_correct,"/",_.questions_total,"問正解 (",Math.round(_.questions_correct/_.questions_total*100),"%)"]})]}),x.message&&typeof x.message=="string"&&x.message.trim()!==""?c.jsx("p",{className:"text-slate-700 text-lg",children:x.message}):x.reaction_type&&c.jsxs("p",{className:"text-slate-600 italic",children:[x.reaction_type==="clap"&&"すごい！",x.reaction_type==="thumbs"&&"いいね！",x.reaction_type==="muscle"&&"頑張って！"]})]},x.id))})},O=()=>{const U=[...a.map(x=>({type:"study",data:x,date:x.record.date})),...a.flatMap(x=>x.feedbacks.map(_=>({type:"feedback",data:{feedback:_,record:x.record},date:_.created_at})))].sort((x,_)=>new Date(_.date).getTime()-new Date(x.date).getTime());return c.jsx("div",{className:"space-y-4",children:U.map((x,_)=>c.jsx("div",{className:"bg-white p-6 rounded-xl shadow border",children:x.type==="study"?c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-sm font-medium",children:"📝 学習記録"}),c.jsx("span",{className:"text-sm text-slate-500",children:p(x.data.record.date)})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xl",children:j(x.data.record.subject)}),c.jsx("span",{className:"font-semibold",children:N(x.data.record.subject)}),c.jsx("span",{className:"text-sm px-2 py-1 bg-slate-100 text-slate-600 rounded",children:y(x.data.record.content_type)}),c.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:[x.data.record.questions_correct,"/",x.data.record.questions_total,"問正解 (",Math.round(x.data.record.questions_correct/x.data.record.questions_total*100),"%)"]})]})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-sm font-medium",children:"💌 応援"}),c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${x.data.feedback.sender_type==="parent"?"bg-pink-100 text-pink-800":"bg-blue-100 text-blue-800"}`,children:x.data.feedback.sender_type==="parent"?"👨‍👩‍👧‍👦":"👨‍🏫"}),x.data.feedback.reaction_type&&c.jsxs("span",{className:"text-lg",children:[x.data.feedback.reaction_type==="clap"&&"👏",x.data.feedback.reaction_type==="thumbs"&&"👍",x.data.feedback.reaction_type==="muscle"&&"💪"]}),c.jsx("span",{className:"text-sm text-slate-500",children:p(x.data.feedback.created_at)})]}),c.jsxs("div",{className:"text-slate-700",children:[N(x.data.record.subject),"への応援: ",x.data.feedback.message||(x.data.feedback.reaction_type==="clap"?"すごい！":x.data.feedback.reaction_type==="thumbs"?"いいね！":x.data.feedback.reaction_type==="muscle"?"頑張って！":"")]})]})},`${x.type}-${_}`))})};return s?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin text-4xl",children:"⏳"}),c.jsx("p",{className:"mt-4 text-slate-600",children:"履歴を読み込み中..."})]}):i?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"text-4xl mb-4",children:"❌"}),c.jsx("p",{className:"text-red-600",children:i}),c.jsx("button",{onClick:T,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"再試行"})]}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"📚 学習履歴"}),c.jsx("p",{className:"text-center text-slate-600",children:"これまでの学習記録と応援メッセージを確認できます"})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:c.jsxs("div",{className:"flex border-b",children:[c.jsx("button",{onClick:()=>t("study"),className:`flex-1 py-4 px-6 text-center font-medium transition-colors ${e==="study"?"bg-blue-500 text-white rounded-t-xl":"text-slate-600 hover:text-blue-500"}`,children:"📝 学習履歴"}),c.jsx("button",{onClick:()=>t("feedback"),className:`flex-1 py-4 px-6 text-center font-medium transition-colors ${e==="feedback"?"bg-blue-500 text-white rounded-t-xl":"text-slate-600 hover:text-blue-500"}`,children:"💌 応援履歴"}),c.jsx("button",{onClick:()=>t("combined"),className:`flex-1 py-4 px-6 text-center font-medium transition-colors ${e==="combined"?"bg-blue-500 text-white rounded-t-xl":"text-slate-600 hover:text-blue-500"}`,children:"📊 まとめて表示"})]})}),e==="study"&&c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx("span",{children:"🔍"}),"絞り込み・並び替え"]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"科目で絞り込み"}),c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2",children:[c.jsx("button",{onClick:()=>o("all"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors min-h-[44px] ${u==="all"?"bg-blue-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"すべて"}),c.jsxs("button",{onClick:()=>o("aptitude"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${u==="aptitude"?"bg-purple-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"🎯"})," 適性"]}),c.jsxs("button",{onClick:()=>o("japanese"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${u==="japanese"?"bg-rose-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"✍️"})," 国語"]}),c.jsxs("button",{onClick:()=>o("math"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${u==="math"?"bg-blue-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"🔢"})," 算数"]}),c.jsxs("button",{onClick:()=>o("science"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${u==="science"?"bg-green-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"🧪"})," 理科"]}),c.jsxs("button",{onClick:()=>o("social"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${u==="social"?"bg-amber-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"🌍"})," 社会"]})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"並び替え"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[c.jsxs("button",{onClick:()=>D("date"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${d==="date"?"bg-blue-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"📅"})," 実施日 ",c.jsx("span",{className:"ml-1",children:b("date")})]}),c.jsxs("button",{onClick:()=>D("accuracy"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${d==="accuracy"?"bg-green-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"🎯"})," 正答率 ",c.jsx("span",{className:"ml-1",children:b("accuracy")})]}),c.jsxs("button",{onClick:()=>D("emotion"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${d==="emotion"?"bg-purple-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"😊"})," 感想 ",c.jsx("span",{className:"ml-1",children:b("emotion")})]})]})]}),c.jsx("div",{className:"pt-4 border-t border-slate-200",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-slate-600",children:[c.jsxs("span",{className:"font-medium",children:["表示中: ",c.jsx("span",{className:"text-blue-600",children:u==="all"?"すべての科目":N(u)})]}),c.jsx("span",{className:"hidden sm:inline",children:"•"}),c.jsxs("span",{children:["並び順: ",c.jsx("span",{className:"font-medium",children:d==="date"?"実施日":d==="accuracy"?"正答率":"感想"}),c.jsx("span",{className:"text-slate-500",children:h==="desc"?" (高い順)":" (低い順)"})]}),c.jsx("span",{className:"hidden sm:inline",children:"•"}),c.jsxs("span",{className:"font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded",children:[A().length,"件"]})]})})]}),c.jsxs("div",{className:"mb-8",children:[e==="study"&&S(),e==="feedback"&&k(),e==="combined"&&O()]}),a.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-6xl mb-4",children:"📚"}),c.jsx("h2",{className:"text-2xl font-bold text-slate-600 mb-2",children:"履歴がありません"}),c.jsx("p",{className:"text-slate-500",children:"学習記録をつけると、ここに履歴が表示されます"})]})]})})}function Np({userRole:e}){const[t,a]=z.useState([]),[n,s]=z.useState(!0),[l,i]=z.useState(null),[r,u]=z.useState(!1),[o,d]=z.useState(""),[f,h]=z.useState(""),[g,T]=z.useState(""),[N,j]=z.useState(null),[y,m]=z.useState("");z.useEffect(()=>{v();const S=new Date().toISOString().split("T")[0];d(S)},[]);const v=async()=>{try{s(!0),i(null);const{data:S,error:k}=await Ue.from("reflections").select("*").order("date",{ascending:!1});if(k)throw k;a(S||[])}catch(S){console.error("振り返りデータの読み込みでエラーが発生しました:",S),i("振り返りデータの読み込みに失敗しました。")}finally{s(!1)}},p=async S=>{if(S.preventDefault(),!o||!f.trim()){i("日付と振り返り内容は必須です。");return}try{u(!0),i(null);const k=t.find(O=>O.date===o);if(k){const{error:O}=await Ue.from("reflections").update({reflection_content:f.trim(),improvement_points:g.trim()||null}).eq("id",k.id);if(O)throw O}else{const{error:O}=await Ue.from("reflections").insert({date:o,reflection_content:f.trim(),improvement_points:g.trim()||null});if(O)throw O}h(""),T(""),await v()}catch(k){console.error("振り返りの保存でエラーが発生しました:",k),i("振り返りの保存に失敗しました。")}finally{u(!1)}},A=async S=>{if(!y.trim()){i("コメントを入力してください。");return}try{u(!0),i(null);const{error:k}=await Ue.from("reflections").update({teacher_comment:y.trim()}).eq("id",S);if(k)throw k;m(""),j(null),await v()}catch(k){console.error("先生コメントの保存でエラーが発生しました:",k),i("先生コメントの保存に失敗しました。")}finally{u(!1)}},D=S=>new Date(S).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",weekday:"short"}),b=S=>new Date(S).toLocaleDateString("ja-JP",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"});return n?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin text-4xl",children:"⏳"}),c.jsx("p",{className:"mt-4 text-slate-600",children:"振り返りデータを読み込み中..."})]}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"🤔 振り返り"}),c.jsx("p",{className:"text-center text-slate-600",children:e==="student"?"学習を振り返って、成長につなげよう":"生徒の振り返りにコメントして、成長をサポートしよう"})]}),l&&c.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-red-700",children:l})}),e==="student"&&c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[c.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"✍️"}),"振り返りを記入する"]}),c.jsxs("form",{onSubmit:p,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["振り返り日付 ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"date",value:o,onChange:S=>d(S.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),t.find(S=>S.date===o)&&c.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"⚠️ この日付の振り返りは既に存在します。保存すると上書きされます。"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["今日の振り返り ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{value:f,onChange:S=>h(S.target.value),placeholder:"今日の学習はどうでしたか？うまくいったこと、うまくいかなかったことを書いてみましょう。",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-32 resize-none",required:!0}),c.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[f.length,"/500文字"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"明日からの改善点"}),c.jsx("textarea",{value:g,onChange:S=>T(S.target.value),placeholder:"明日からどんなことを改善したいですか？具体的な目標を書いてみましょう。",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-24 resize-none"}),c.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[g.length,"/300文字"]})]}),c.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"保存中...":"振り返りを保存"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[c.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"📖"}),"これまでの振り返り"]}),t.length>0?c.jsx("div",{className:"space-y-6",children:t.map(S=>c.jsxs("div",{className:"border border-slate-200 rounded-lg p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:D(S.date)}),c.jsxs("span",{className:"text-sm text-slate-500",children:["記録: ",b(S.created_at)]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📝 振り返り内容"}),c.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:S.reflection_content})]}),S.improvement_points&&c.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"🎯 改善点"}),c.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:S.improvement_points})]}),S.teacher_comment?c.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"👨‍🏫 先生からのコメント"}),c.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:S.teacher_comment})]}):e==="teacher"&&c.jsx("div",{className:"bg-slate-50 p-4 rounded-lg",children:(N==null?void 0:N.id)===S.id?c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"👨‍🏫 先生からのコメントを追加"}),c.jsx("textarea",{value:y,onChange:k=>m(k.target.value),placeholder:"生徒の振り返りに対してコメントを書いてください。",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-24 resize-none"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>A(S.id),disabled:r,className:"px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"保存中...":"コメント保存"}),c.jsx("button",{onClick:()=>{j(null),m("")},className:"px-4 py-2 bg-slate-300 text-slate-700 rounded-lg font-medium hover:bg-slate-400 transition-colors",children:"キャンセル"})]})]}):c.jsx("button",{onClick:()=>j(S),className:"text-blue-600 hover:text-blue-800 font-medium",children:"💬 コメントを追加"})})]})]},S.id))}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-6xl mb-4",children:"📝"}),c.jsx("h2",{className:"text-2xl font-bold text-slate-600 mb-2",children:"振り返りがありません"}),c.jsx("p",{className:"text-slate-500",children:e==="student"?"上のフォームから振り返りを記入してみましょう":"生徒が振り返りを記入すると、ここに表示されます"})]})]})]})})}function Ep({currentRole:e,onRoleChange:t}){const a=[{key:"student",label:"生徒",icon:"👧",description:"学習記録をつける",color:"from-blue-400 to-blue-600",bgColor:"bg-blue-50 border-blue-200"},{key:"parent",label:"保護者",icon:"👨‍👩‍👧‍👦",description:"子どもの学習を応援",color:"from-pink-400 to-pink-600",bgColor:"bg-pink-50 border-pink-200"},{key:"teacher",label:"指導者",icon:"👨‍🏫",description:"生徒の学習を指導",color:"from-green-400 to-green-600",bgColor:"bg-green-50 border-green-200"}],n=()=>a.find(s=>s.key===e)||a[0];return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"text-center",children:c.jsxs("div",{className:`inline-flex items-center gap-3 px-6 py-3 rounded-xl border-2 ${n().bgColor}`,children:[c.jsx("span",{className:"text-2xl",children:n().icon}),c.jsxs("div",{className:"text-left",children:[c.jsxs("div",{className:"font-bold text-lg",children:["現在: ",n().label,"モード"]}),c.jsx("div",{className:"text-sm text-slate-600",children:n().description})]})]})}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:a.map(s=>c.jsxs("button",{onClick:()=>t(s.key),className:`p-6 rounded-2xl border-2 transition-all duration-200 text-center ${e===s.key?`${s.bgColor} border-current shadow-lg scale-105`:"bg-white border-slate-200 hover:border-slate-300 hover:shadow-md hover:scale-102"}`,children:[c.jsx("div",{className:"text-4xl mb-3",children:s.icon}),c.jsxs("div",{className:"font-bold text-lg mb-1",children:[s.label,"として見る"]}),c.jsx("div",{className:"text-sm text-slate-600",children:s.description})]},s.key))}),c.jsx("div",{className:"text-center text-sm text-slate-500",children:c.jsx("p",{children:"役割を選択すると、それぞれに適した画面が表示されます"})})]})}function Ap(){const[e,t]=z.useState("dashboard"),[a,n]=z.useState("student");return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[c.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200/50 sticky top-0 z-10",children:c.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:c.jsxs("div",{className:"flex justify-center gap-2 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-4 mr-4",children:[c.jsx("span",{className:"text-sm font-medium text-slate-600",children:"現在:"}),c.jsxs("div",{className:`px-3 py-1 rounded-lg text-sm font-medium ${a==="student"?"bg-blue-100 text-blue-800":a==="parent"?"bg-pink-100 text-pink-800":"bg-green-100 text-green-800"}`,children:[a==="student"?"👧 生徒":a==="parent"?"👨‍👩‍👧‍👦 保護者":"👨‍🏫 指導者","モード"]})]}),a==="student"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>t("dashboard"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="dashboard"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"📊 ダッシュボード"}),c.jsx("button",{onClick:()=>t("form"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="form"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"📝 学習記録"}),c.jsx("button",{onClick:()=>t("history"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="history"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"📚 学習履歴"}),c.jsx("button",{onClick:()=>t("reflection"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="reflection"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"🤔 振り返り"})]}),(a==="parent"||a==="teacher")&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>t("dashboard"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="dashboard"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"📊 進捗確認"}),c.jsx("button",{onClick:()=>t("feedback"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="feedback"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"💌 フィードバック"}),c.jsx("button",{onClick:()=>t("history"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="history"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"📚 学習履歴"}),a==="teacher"&&c.jsx("button",{onClick:()=>t("reflection"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="reflection"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"🤔 振り返り"})]}),c.jsx("button",{onClick:()=>t("userSwitch"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="userSwitch"?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"👥 役割切り替え"})]})})}),e==="dashboard"&&c.jsx(bp,{}),e==="form"&&c.jsx(yp,{}),e==="feedback"&&c.jsx(jp,{userRole:a==="parent"?"parent":"teacher"}),e==="history"&&c.jsx(Tp,{}),e==="reflection"&&c.jsx(Np,{userRole:a==="teacher"?"teacher":"student"}),e==="userSwitch"&&c.jsx("div",{className:"p-8 max-w-4xl mx-auto",children:c.jsx(Ep,{currentRole:a,onRoleChange:s=>{n(s),t("dashboard")}})})]})}ny.createRoot(document.getElementById("root")).render(c.jsx(w0.StrictMode,{children:c.jsx(Ap,{})}));
