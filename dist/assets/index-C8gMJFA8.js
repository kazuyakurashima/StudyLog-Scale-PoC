(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const i of s.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function a(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(n){if(n.ep)return;n.ep=!0;const s=a(n);fetch(n.href,s)}})();var it=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Dd(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function rm(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var a=function l(){return this instanceof l?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};a.prototype=t.prototype}else a={};return Object.defineProperty(a,"__esModule",{value:!0}),Object.keys(e).forEach(function(l){var n=Object.getOwnPropertyDescriptor(e,l);Object.defineProperty(a,l,n.get?n:{enumerable:!0,get:function(){return e[l]}})}),a}var Rd={exports:{}},fi={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um=Symbol.for("react.transitional.element"),cm=Symbol.for("react.fragment");function Ud(e,t,a){var l=null;if(a!==void 0&&(l=""+a),t.key!==void 0&&(l=""+t.key),"key"in t){a={};for(var n in t)n!=="key"&&(a[n]=t[n])}else a=t;return t=a.ref,{$$typeof:um,type:e,key:l,ref:t!==void 0?t:null,props:a}}fi.Fragment=cm;fi.jsx=Ud;fi.jsxs=Ud;Rd.exports=fi;var c=Rd.exports,Md={exports:{}},L={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Uu=Symbol.for("react.transitional.element"),om=Symbol.for("react.portal"),dm=Symbol.for("react.fragment"),fm=Symbol.for("react.strict_mode"),hm=Symbol.for("react.profiler"),mm=Symbol.for("react.consumer"),gm=Symbol.for("react.context"),vm=Symbol.for("react.forward_ref"),ym=Symbol.for("react.suspense"),bm=Symbol.for("react.memo"),kd=Symbol.for("react.lazy"),Hc=Symbol.iterator;function pm(e){return e===null||typeof e!="object"?null:(e=Hc&&e[Hc]||e["@@iterator"],typeof e=="function"?e:null)}var Cd={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},zd=Object.assign,qd={};function Cl(e,t,a){this.props=e,this.context=t,this.refs=qd,this.updater=a||Cd}Cl.prototype.isReactComponent={};Cl.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Cl.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function Bd(){}Bd.prototype=Cl.prototype;function Mu(e,t,a){this.props=e,this.context=t,this.refs=qd,this.updater=a||Cd}var ku=Mu.prototype=new Bd;ku.constructor=Mu;zd(ku,Cl.prototype);ku.isPureReactComponent=!0;var Lc=Array.isArray,se={H:null,A:null,T:null,S:null,V:null},Hd=Object.prototype.hasOwnProperty;function Cu(e,t,a,l,n,s){return a=s.ref,{$$typeof:Uu,type:e,key:t,ref:a!==void 0?a:null,props:s}}function xm(e,t){return Cu(e.type,t,void 0,void 0,void 0,e.props)}function zu(e){return typeof e=="object"&&e!==null&&e.$$typeof===Uu}function _m(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(a){return t[a]})}var $c=/\/+/g;function Li(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_m(""+e.key):t.toString(36)}function Gc(){}function Sm(e){switch(e.status){case"fulfilled":return e.value;case"rejected":throw e.reason;default:switch(typeof e.status=="string"?e.then(Gc,Gc):(e.status="pending",e.then(function(t){e.status==="pending"&&(e.status="fulfilled",e.value=t)},function(t){e.status==="pending"&&(e.status="rejected",e.reason=t)})),e.status){case"fulfilled":return e.value;case"rejected":throw e.reason}}throw e}function Wa(e,t,a,l,n){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(s){case"bigint":case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case Uu:case om:i=!0;break;case kd:return i=e._init,Wa(i(e._payload),t,a,l,n)}}if(i)return n=n(e),i=l===""?"."+Li(e,0):l,Lc(n)?(a="",i!=null&&(a=i.replace($c,"$&/")+"/"),Wa(n,t,a,"",function(o){return o})):n!=null&&(zu(n)&&(n=xm(n,a+(n.key==null||e&&e.key===n.key?"":(""+n.key).replace($c,"$&/")+"/")+i)),t.push(n)),1;i=0;var r=l===""?".":l+":";if(Lc(e))for(var u=0;u<e.length;u++)l=e[u],s=r+Li(l,u),i+=Wa(l,t,a,s,n);else if(u=pm(e),typeof u=="function")for(e=u.call(e),u=0;!(l=e.next()).done;)l=l.value,s=r+Li(l,u++),i+=Wa(l,t,a,s,n);else if(s==="object"){if(typeof e.then=="function")return Wa(Sm(e),t,a,l,n);throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.")}return i}function ls(e,t,a){if(e==null)return e;var l=[],n=0;return Wa(e,l,"","",function(s){return t.call(a,s,n++)}),l}function wm(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(a){(e._status===0||e._status===-1)&&(e._status=1,e._result=a)},function(a){(e._status===0||e._status===-1)&&(e._status=2,e._result=a)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Yc=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function jm(){}L.Children={map:ls,forEach:function(e,t,a){ls(e,function(){t.apply(this,arguments)},a)},count:function(e){var t=0;return ls(e,function(){t++}),t},toArray:function(e){return ls(e,function(t){return t})||[]},only:function(e){if(!zu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};L.Component=Cl;L.Fragment=dm;L.Profiler=hm;L.PureComponent=Mu;L.StrictMode=fm;L.Suspense=ym;L.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se;L.__COMPILER_RUNTIME={__proto__:null,c:function(e){return se.H.useMemoCache(e)}};L.cache=function(e){return function(){return e.apply(null,arguments)}};L.cloneElement=function(e,t,a){if(e==null)throw Error("The argument must be a React element, but you passed "+e+".");var l=zd({},e.props),n=e.key,s=void 0;if(t!=null)for(i in t.ref!==void 0&&(s=void 0),t.key!==void 0&&(n=""+t.key),t)!Hd.call(t,i)||i==="key"||i==="__self"||i==="__source"||i==="ref"&&t.ref===void 0||(l[i]=t[i]);var i=arguments.length-2;if(i===1)l.children=a;else if(1<i){for(var r=Array(i),u=0;u<i;u++)r[u]=arguments[u+2];l.children=r}return Cu(e.type,n,void 0,void 0,s,l)};L.createContext=function(e){return e={$$typeof:gm,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null},e.Provider=e,e.Consumer={$$typeof:mm,_context:e},e};L.createElement=function(e,t,a){var l,n={},s=null;if(t!=null)for(l in t.key!==void 0&&(s=""+t.key),t)Hd.call(t,l)&&l!=="key"&&l!=="__self"&&l!=="__source"&&(n[l]=t[l]);var i=arguments.length-2;if(i===1)n.children=a;else if(1<i){for(var r=Array(i),u=0;u<i;u++)r[u]=arguments[u+2];n.children=r}if(e&&e.defaultProps)for(l in i=e.defaultProps,i)n[l]===void 0&&(n[l]=i[l]);return Cu(e,s,void 0,void 0,null,n)};L.createRef=function(){return{current:null}};L.forwardRef=function(e){return{$$typeof:vm,render:e}};L.isValidElement=zu;L.lazy=function(e){return{$$typeof:kd,_payload:{_status:-1,_result:e},_init:wm}};L.memo=function(e,t){return{$$typeof:bm,type:e,compare:t===void 0?null:t}};L.startTransition=function(e){var t=se.T,a={};se.T=a;try{var l=e(),n=se.S;n!==null&&n(a,l),typeof l=="object"&&l!==null&&typeof l.then=="function"&&l.then(jm,Yc)}catch(s){Yc(s)}finally{se.T=t}};L.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()};L.use=function(e){return se.H.use(e)};L.useActionState=function(e,t,a){return se.H.useActionState(e,t,a)};L.useCallback=function(e,t){return se.H.useCallback(e,t)};L.useContext=function(e){return se.H.useContext(e)};L.useDebugValue=function(){};L.useDeferredValue=function(e,t){return se.H.useDeferredValue(e,t)};L.useEffect=function(e,t,a){var l=se.H;if(typeof a=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return l.useEffect(e,t)};L.useId=function(){return se.H.useId()};L.useImperativeHandle=function(e,t,a){return se.H.useImperativeHandle(e,t,a)};L.useInsertionEffect=function(e,t){return se.H.useInsertionEffect(e,t)};L.useLayoutEffect=function(e,t){return se.H.useLayoutEffect(e,t)};L.useMemo=function(e,t){return se.H.useMemo(e,t)};L.useOptimistic=function(e,t){return se.H.useOptimistic(e,t)};L.useReducer=function(e,t,a){return se.H.useReducer(e,t,a)};L.useRef=function(e){return se.H.useRef(e)};L.useState=function(e){return se.H.useState(e)};L.useSyncExternalStore=function(e,t,a){return se.H.useSyncExternalStore(e,t,a)};L.useTransition=function(){return se.H.useTransition()};L.version="19.1.0";Md.exports=L;var z=Md.exports;const Nm=Dd(z);var Ld={exports:{}},hi={},$d={exports:{}},Gd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,U){var k=j.length;j.push(U);e:for(;0<k;){var V=k-1>>>1,le=j[V];if(0<n(le,U))j[V]=U,j[k]=le,k=V;else break e}}function a(j){return j.length===0?null:j[0]}function l(j){if(j.length===0)return null;var U=j[0],k=j.pop();if(k!==U){j[0]=k;e:for(var V=0,le=j.length,ct=le>>>1;V<ct;){var Ie=2*(V+1)-1,Ge=j[Ie],Me=Ie+1,pa=j[Me];if(0>n(Ge,k))Me<le&&0>n(pa,Ge)?(j[V]=pa,j[Me]=k,V=Me):(j[V]=Ge,j[Ie]=k,V=Ie);else if(Me<le&&0>n(pa,k))j[V]=pa,j[Me]=k,V=Me;else break e}}return U}function n(j,U){var k=j.sortIndex-U.sortIndex;return k!==0?k:j.id-U.id}if(e.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var i=Date,r=i.now();e.unstable_now=function(){return i.now()-r}}var u=[],o=[],d=1,f=null,h=3,m=!1,w=!1,N=!1,O=!1,y=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,g=typeof setImmediate<"u"?setImmediate:null;function x(j){for(var U=a(o);U!==null;){if(U.callback===null)l(o);else if(U.startTime<=j)l(o),U.sortIndex=U.expirationTime,t(u,U);else break;U=a(o)}}function E(j){if(N=!1,x(j),!w)if(a(u)!==null)w=!0,R||(R=!0,b());else{var U=a(o);U!==null&&C(E,U.startTime-j)}}var R=!1,D=-1,A=5,B=-1;function p(){return O?!0:!(e.unstable_now()-B<A)}function _(){if(O=!1,R){var j=e.unstable_now();B=j;var U=!0;try{e:{w=!1,N&&(N=!1,v(D),D=-1),m=!0;var k=h;try{t:{for(x(j),f=a(u);f!==null&&!(f.expirationTime>j&&p());){var V=f.callback;if(typeof V=="function"){f.callback=null,h=f.priorityLevel;var le=V(f.expirationTime<=j);if(j=e.unstable_now(),typeof le=="function"){f.callback=le,x(j),U=!0;break t}f===a(u)&&l(u),x(j)}else l(u);f=a(u)}if(f!==null)U=!0;else{var ct=a(o);ct!==null&&C(E,ct.startTime-j),U=!1}}break e}finally{f=null,h=k,m=!1}U=void 0}}finally{U?b():R=!1}}}var b;if(typeof g=="function")b=function(){g(_)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,M=S.port2;S.port1.onmessage=_,b=function(){M.postMessage(null)}}else b=function(){y(_,0)};function C(j,U){D=y(function(){j(e.unstable_now())},U)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_next=function(j){switch(h){case 1:case 2:case 3:var U=3;break;default:U=h}var k=h;h=U;try{return j()}finally{h=k}},e.unstable_requestPaint=function(){O=!0},e.unstable_runWithPriority=function(j,U){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var k=h;h=j;try{return U()}finally{h=k}},e.unstable_scheduleCallback=function(j,U,k){var V=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?V+k:V):k=V,j){case 1:var le=-1;break;case 2:le=250;break;case 5:le=1073741823;break;case 4:le=1e4;break;default:le=5e3}return le=k+le,j={id:d++,callback:U,priorityLevel:j,startTime:k,expirationTime:le,sortIndex:-1},k>V?(j.sortIndex=k,t(o,j),a(u)===null&&j===a(o)&&(N?(v(D),D=-1):N=!0,C(E,k-V))):(j.sortIndex=le,t(u,j),w||m||(w=!0,R||(R=!0,b()))),j},e.unstable_shouldYield=p,e.unstable_wrapCallback=function(j){var U=h;return function(){var k=h;h=U;try{return j.apply(this,arguments)}finally{h=k}}}})(Gd);$d.exports=Gd;var Tm=$d.exports,Yd={exports:{}},Ue={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Em=z;function Qd(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Gt(){}var Re={d:{f:Gt,r:function(){throw Error(Qd(522))},D:Gt,C:Gt,L:Gt,m:Gt,X:Gt,S:Gt,M:Gt},p:0,findDOMNode:null},Am=Symbol.for("react.portal");function Om(e,t,a){var l=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Am,key:l==null?null:""+l,children:e,containerInfo:t,implementation:a}}var sn=Em.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function mi(e,t){if(e==="font")return"";if(typeof t=="string")return t==="use-credentials"?t:""}Ue.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=Re;Ue.createPortal=function(e,t){var a=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)throw Error(Qd(299));return Om(e,t,null,a)};Ue.flushSync=function(e){var t=sn.T,a=Re.p;try{if(sn.T=null,Re.p=2,e)return e()}finally{sn.T=t,Re.p=a,Re.d.f()}};Ue.preconnect=function(e,t){typeof e=="string"&&(t?(t=t.crossOrigin,t=typeof t=="string"?t==="use-credentials"?t:"":void 0):t=null,Re.d.C(e,t))};Ue.prefetchDNS=function(e){typeof e=="string"&&Re.d.D(e)};Ue.preinit=function(e,t){if(typeof e=="string"&&t&&typeof t.as=="string"){var a=t.as,l=mi(a,t.crossOrigin),n=typeof t.integrity=="string"?t.integrity:void 0,s=typeof t.fetchPriority=="string"?t.fetchPriority:void 0;a==="style"?Re.d.S(e,typeof t.precedence=="string"?t.precedence:void 0,{crossOrigin:l,integrity:n,fetchPriority:s}):a==="script"&&Re.d.X(e,{crossOrigin:l,integrity:n,fetchPriority:s,nonce:typeof t.nonce=="string"?t.nonce:void 0})}};Ue.preinitModule=function(e,t){if(typeof e=="string")if(typeof t=="object"&&t!==null){if(t.as==null||t.as==="script"){var a=mi(t.as,t.crossOrigin);Re.d.M(e,{crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0})}}else t==null&&Re.d.M(e)};Ue.preload=function(e,t){if(typeof e=="string"&&typeof t=="object"&&t!==null&&typeof t.as=="string"){var a=t.as,l=mi(a,t.crossOrigin);Re.d.L(e,a,{crossOrigin:l,integrity:typeof t.integrity=="string"?t.integrity:void 0,nonce:typeof t.nonce=="string"?t.nonce:void 0,type:typeof t.type=="string"?t.type:void 0,fetchPriority:typeof t.fetchPriority=="string"?t.fetchPriority:void 0,referrerPolicy:typeof t.referrerPolicy=="string"?t.referrerPolicy:void 0,imageSrcSet:typeof t.imageSrcSet=="string"?t.imageSrcSet:void 0,imageSizes:typeof t.imageSizes=="string"?t.imageSizes:void 0,media:typeof t.media=="string"?t.media:void 0})}};Ue.preloadModule=function(e,t){if(typeof e=="string")if(t){var a=mi(t.as,t.crossOrigin);Re.d.m(e,{as:typeof t.as=="string"&&t.as!=="script"?t.as:void 0,crossOrigin:a,integrity:typeof t.integrity=="string"?t.integrity:void 0})}else Re.d.m(e)};Ue.requestFormReset=function(e){Re.d.r(e)};Ue.unstable_batchedUpdates=function(e,t){return e(t)};Ue.useFormState=function(e,t,a){return sn.H.useFormState(e,t,a)};Ue.useFormStatus=function(){return sn.H.useHostTransitionStatus()};Ue.version="19.1.0";function Xd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Xd)}catch(e){console.error(e)}}Xd(),Yd.exports=Ue;var Dm=Yd.exports;/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var be=Tm,Vd=z,Rm=Dm;function T(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function Kd(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Bn(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function Zd(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Qc(e){if(Bn(e)!==e)throw Error(T(188))}function Um(e){var t=e.alternate;if(!t){if(t=Bn(e),t===null)throw Error(T(188));return t!==e?null:e}for(var a=e,l=t;;){var n=a.return;if(n===null)break;var s=n.alternate;if(s===null){if(l=n.return,l!==null){a=l;continue}break}if(n.child===s.child){for(s=n.child;s;){if(s===a)return Qc(n),e;if(s===l)return Qc(n),t;s=s.sibling}throw Error(T(188))}if(a.return!==l.return)a=n,l=s;else{for(var i=!1,r=n.child;r;){if(r===a){i=!0,a=n,l=s;break}if(r===l){i=!0,l=n,a=s;break}r=r.sibling}if(!i){for(r=s.child;r;){if(r===a){i=!0,a=s,l=n;break}if(r===l){i=!0,l=s,a=n;break}r=r.sibling}if(!i)throw Error(T(189))}}if(a.alternate!==l)throw Error(T(190))}if(a.tag!==3)throw Error(T(188));return a.stateNode.current===a?e:t}function Jd(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=Jd(e),t!==null)return t;e=e.sibling}return null}var ae=Object.assign,Mm=Symbol.for("react.element"),ns=Symbol.for("react.transitional.element"),en=Symbol.for("react.portal"),ll=Symbol.for("react.fragment"),Pd=Symbol.for("react.strict_mode"),Ar=Symbol.for("react.profiler"),km=Symbol.for("react.provider"),Wd=Symbol.for("react.consumer"),Ot=Symbol.for("react.context"),qu=Symbol.for("react.forward_ref"),Or=Symbol.for("react.suspense"),Dr=Symbol.for("react.suspense_list"),Bu=Symbol.for("react.memo"),Kt=Symbol.for("react.lazy"),Rr=Symbol.for("react.activity"),Cm=Symbol.for("react.memo_cache_sentinel"),Xc=Symbol.iterator;function Xl(e){return e===null||typeof e!="object"?null:(e=Xc&&e[Xc]||e["@@iterator"],typeof e=="function"?e:null)}var zm=Symbol.for("react.client.reference");function Ur(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===zm?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ll:return"Fragment";case Ar:return"Profiler";case Pd:return"StrictMode";case Or:return"Suspense";case Dr:return"SuspenseList";case Rr:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case en:return"Portal";case Ot:return(e.displayName||"Context")+".Provider";case Wd:return(e._context.displayName||"Context")+".Consumer";case qu:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Bu:return t=e.displayName||null,t!==null?t:Ur(e.type)||"Memo";case Kt:t=e._payload,e=e._init;try{return Ur(e(t))}catch{}}return null}var tn=Array.isArray,q=Vd.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Z=Rm.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Aa={pending:!1,data:null,method:null,action:null},Mr=[],nl=-1;function _t(e){return{current:e}}function we(e){0>nl||(e.current=Mr[nl],Mr[nl]=null,nl--)}function ie(e,t){nl++,Mr[nl]=e.current,e.current=t}var bt=_t(null),wn=_t(null),sa=_t(null),ks=_t(null);function Cs(e,t){switch(ie(sa,t),ie(wn,e),ie(bt,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?Wo(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=Wo(t),e=g0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}we(bt),ie(bt,e)}function wl(){we(bt),we(wn),we(sa)}function kr(e){e.memoizedState!==null&&ie(ks,e);var t=bt.current,a=g0(t,e.type);t!==a&&(ie(wn,e),ie(bt,a))}function zs(e){wn.current===e&&(we(bt),we(wn)),ks.current===e&&(we(ks),Mn._currentValue=Aa)}var Cr=Object.prototype.hasOwnProperty,Hu=be.unstable_scheduleCallback,$i=be.unstable_cancelCallback,qm=be.unstable_shouldYield,Bm=be.unstable_requestPaint,pt=be.unstable_now,Hm=be.unstable_getCurrentPriorityLevel,Id=be.unstable_ImmediatePriority,Fd=be.unstable_UserBlockingPriority,qs=be.unstable_NormalPriority,Lm=be.unstable_LowPriority,ef=be.unstable_IdlePriority,$m=be.log,Gm=be.unstable_setDisableYieldValue,Hn=null,Ke=null;function ta(e){if(typeof $m=="function"&&Gm(e),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(Hn,e)}catch{}}var Ze=Math.clz32?Math.clz32:Xm,Ym=Math.log,Qm=Math.LN2;function Xm(e){return e>>>=0,e===0?32:31-(Ym(e)/Qm|0)|0}var ss=256,is=4194304;function wa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function gi(e,t,a){var l=e.pendingLanes;if(l===0)return 0;var n=0,s=e.suspendedLanes,i=e.pingedLanes;e=e.warmLanes;var r=l&134217727;return r!==0?(l=r&~s,l!==0?n=wa(l):(i&=r,i!==0?n=wa(i):a||(a=r&~e,a!==0&&(n=wa(a))))):(r=l&~s,r!==0?n=wa(r):i!==0?n=wa(i):a||(a=l&~e,a!==0&&(n=wa(a)))),n===0?0:t!==0&&t!==n&&!(t&s)&&(s=n&-n,a=t&-t,s>=a||s===32&&(a&4194048)!==0)?t:n}function Ln(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Vm(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function tf(){var e=ss;return ss<<=1,!(ss&4194048)&&(ss=256),e}function af(){var e=is;return is<<=1,!(is&62914560)&&(is=4194304),e}function Gi(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function $n(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Km(e,t,a,l,n,s){var i=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var r=e.entanglements,u=e.expirationTimes,o=e.hiddenUpdates;for(a=i&~a;0<a;){var d=31-Ze(a),f=1<<d;r[d]=0,u[d]=-1;var h=o[d];if(h!==null)for(o[d]=null,d=0;d<h.length;d++){var m=h[d];m!==null&&(m.lane&=-536870913)}a&=~f}l!==0&&lf(e,l,0),s!==0&&n===0&&e.tag!==0&&(e.suspendedLanes|=s&~(i&~t))}function lf(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var l=31-Ze(t);e.entangledLanes|=t,e.entanglements[l]=e.entanglements[l]|1073741824|a&4194090}function nf(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var l=31-Ze(a),n=1<<l;n&t|e[l]&t&&(e[l]|=t),a&=~n}}function Lu(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function $u(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function sf(){var e=Z.p;return e!==0?e:(e=window.event,e===void 0?32:N0(e.type))}function Zm(e,t){var a=Z.p;try{return Z.p=e,t()}finally{Z.p=a}}var va=Math.random().toString(36).slice(2),Ae="__reactFiber$"+va,Le="__reactProps$"+va,zl="__reactContainer$"+va,zr="__reactEvents$"+va,Jm="__reactListeners$"+va,Pm="__reactHandles$"+va,Vc="__reactResources$"+va,Gn="__reactMarker$"+va;function Gu(e){delete e[Ae],delete e[Le],delete e[zr],delete e[Jm],delete e[Pm]}function sl(e){var t=e[Ae];if(t)return t;for(var a=e.parentNode;a;){if(t=a[zl]||a[Ae]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=ed(e);e!==null;){if(a=e[Ae])return a;e=ed(e)}return t}e=a,a=e.parentNode}return null}function ql(e){if(e=e[Ae]||e[zl]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function an(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(T(33))}function gl(e){var t=e[Vc];return t||(t=e[Vc]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function _e(e){e[Gn]=!0}var rf=new Set,uf={};function Ha(e,t){jl(e,t),jl(e+"Capture",t)}function jl(e,t){for(uf[e]=t,e=0;e<t.length;e++)rf.add(t[e])}var Wm=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Kc={},Zc={};function Im(e){return Cr.call(Zc,e)?!0:Cr.call(Kc,e)?!1:Wm.test(e)?Zc[e]=!0:(Kc[e]=!0,!1)}function _s(e,t,a){if(Im(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var l=t.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function rs(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function wt(e,t,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+l)}}var Yi,Jc;function Ia(e){if(Yi===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Yi=t&&t[1]||"",Jc=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Yi+e+Jc}var Qi=!1;function Xi(e,t){if(!e||Qi)return"";Qi=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(t){var f=function(){throw Error()};if(Object.defineProperty(f.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(f,[])}catch(m){var h=m}Reflect.construct(e,[],f)}else{try{f.call()}catch(m){h=m}e.call(f.prototype)}}else{try{throw Error()}catch(m){h=m}(f=e())&&typeof f.catch=="function"&&f.catch(function(){})}}catch(m){if(m&&h&&typeof m.stack=="string")return[m.stack,h.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var n=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");n&&n.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var s=l.DetermineComponentFrameRoot(),i=s[0],r=s[1];if(i&&r){var u=i.split(`
`),o=r.split(`
`);for(n=l=0;l<u.length&&!u[l].includes("DetermineComponentFrameRoot");)l++;for(;n<o.length&&!o[n].includes("DetermineComponentFrameRoot");)n++;if(l===u.length||n===o.length)for(l=u.length-1,n=o.length-1;1<=l&&0<=n&&u[l]!==o[n];)n--;for(;1<=l&&0<=n;l--,n--)if(u[l]!==o[n]){if(l!==1||n!==1)do if(l--,n--,0>n||u[l]!==o[n]){var d=`
`+u[l].replace(" at new "," at ");return e.displayName&&d.includes("<anonymous>")&&(d=d.replace("<anonymous>",e.displayName)),d}while(1<=l&&0<=n);break}}}finally{Qi=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?Ia(a):""}function Fm(e){switch(e.tag){case 26:case 27:case 5:return Ia(e.type);case 16:return Ia("Lazy");case 13:return Ia("Suspense");case 19:return Ia("SuspenseList");case 0:case 15:return Xi(e.type,!1);case 11:return Xi(e.type.render,!1);case 1:return Xi(e.type,!0);case 31:return Ia("Activity");default:return""}}function Pc(e){try{var t="";do t+=Fm(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function et(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function cf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function eg(e){var t=cf(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),l=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var n=a.get,s=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return n.call(this)},set:function(i){l=""+i,s.call(this,i)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(i){l=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Bs(e){e._valueTracker||(e._valueTracker=eg(e))}function of(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),l="";return e&&(l=cf(e)?e.checked?"true":"false":e.value),e=l,e!==a?(t.setValue(e),!0):!1}function Hs(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var tg=/[\n"\\]/g;function lt(e){return e.replace(tg,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function qr(e,t,a,l,n,s,i,r){e.name="",i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"?e.type=i:e.removeAttribute("type"),t!=null?i==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+et(t)):e.value!==""+et(t)&&(e.value=""+et(t)):i!=="submit"&&i!=="reset"||e.removeAttribute("value"),t!=null?Br(e,i,et(t)):a!=null?Br(e,i,et(a)):l!=null&&e.removeAttribute("value"),n==null&&s!=null&&(e.defaultChecked=!!s),n!=null&&(e.checked=n&&typeof n!="function"&&typeof n!="symbol"),r!=null&&typeof r!="function"&&typeof r!="symbol"&&typeof r!="boolean"?e.name=""+et(r):e.removeAttribute("name")}function df(e,t,a,l,n,s,i,r){if(s!=null&&typeof s!="function"&&typeof s!="symbol"&&typeof s!="boolean"&&(e.type=s),t!=null||a!=null){if(!(s!=="submit"&&s!=="reset"||t!=null))return;a=a!=null?""+et(a):"",t=t!=null?""+et(t):a,r||t===e.value||(e.value=t),e.defaultValue=t}l=l??n,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=r?e.checked:!!l,e.defaultChecked=!!l,i!=null&&typeof i!="function"&&typeof i!="symbol"&&typeof i!="boolean"&&(e.name=i)}function Br(e,t,a){t==="number"&&Hs(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function vl(e,t,a,l){if(e=e.options,t){t={};for(var n=0;n<a.length;n++)t["$"+a[n]]=!0;for(a=0;a<e.length;a++)n=t.hasOwnProperty("$"+e[a].value),e[a].selected!==n&&(e[a].selected=n),n&&l&&(e[a].defaultSelected=!0)}else{for(a=""+et(a),t=null,n=0;n<e.length;n++){if(e[n].value===a){e[n].selected=!0,l&&(e[n].defaultSelected=!0);return}t!==null||e[n].disabled||(t=e[n])}t!==null&&(t.selected=!0)}}function ff(e,t,a){if(t!=null&&(t=""+et(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+et(a):""}function hf(e,t,a,l){if(t==null){if(l!=null){if(a!=null)throw Error(T(92));if(tn(l)){if(1<l.length)throw Error(T(93));l=l[0]}a=l}a==null&&(a=""),t=a}a=et(t),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l)}function Nl(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var ag=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Wc(e,t,a){var l=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":l?e.setProperty(t,a):typeof a!="number"||a===0||ag.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function mf(e,t,a){if(t!=null&&typeof t!="object")throw Error(T(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||t!=null&&t.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var n in t)l=t[n],t.hasOwnProperty(n)&&a[n]!==l&&Wc(e,n,l)}else for(var s in t)t.hasOwnProperty(s)&&Wc(e,s,t[s])}function Yu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lg=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),ng=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Ss(e){return ng.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var Hr=null;function Qu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var il=null,yl=null;function Ic(e){var t=ql(e);if(t&&(e=t.stateNode)){var a=e[Le]||null;e:switch(e=t.stateNode,t.type){case"input":if(qr(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+lt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var l=a[t];if(l!==e&&l.form===e.form){var n=l[Le]||null;if(!n)throw Error(T(90));qr(l,n.value,n.defaultValue,n.defaultValue,n.checked,n.defaultChecked,n.type,n.name)}}for(t=0;t<a.length;t++)l=a[t],l.form===e.form&&of(l)}break e;case"textarea":ff(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&vl(e,!!a.multiple,t,!1)}}}var Vi=!1;function gf(e,t,a){if(Vi)return e(t,a);Vi=!0;try{var l=e(t);return l}finally{if(Vi=!1,(il!==null||yl!==null)&&(Ni(),il&&(t=il,e=yl,yl=il=null,Ic(t),e)))for(t=0;t<e.length;t++)Ic(e[t])}}function jn(e,t){var a=e.stateNode;if(a===null)return null;var l=a[Le]||null;if(l===null)return null;a=l[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(T(231,t,typeof a));return a}var zt=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lr=!1;if(zt)try{var Vl={};Object.defineProperty(Vl,"passive",{get:function(){Lr=!0}}),window.addEventListener("test",Vl,Vl),window.removeEventListener("test",Vl,Vl)}catch{Lr=!1}var aa=null,Xu=null,ws=null;function vf(){if(ws)return ws;var e,t=Xu,a=t.length,l,n="value"in aa?aa.value:aa.textContent,s=n.length;for(e=0;e<a&&t[e]===n[e];e++);var i=a-e;for(l=1;l<=i&&t[a-l]===n[s-l];l++);return ws=n.slice(e,1<l?1-l:void 0)}function js(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function us(){return!0}function Fc(){return!1}function $e(e){function t(a,l,n,s,i){this._reactName=a,this._targetInst=n,this.type=l,this.nativeEvent=s,this.target=i,this.currentTarget=null;for(var r in e)e.hasOwnProperty(r)&&(a=e[r],this[r]=a?a(s):s[r]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?us:Fc,this.isPropagationStopped=Fc,this}return ae(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=us)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=us)},persist:function(){},isPersistent:us}),t}var La={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},vi=$e(La),Yn=ae({},La,{view:0,detail:0}),sg=$e(Yn),Ki,Zi,Kl,yi=ae({},Yn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Kl&&(Kl&&e.type==="mousemove"?(Ki=e.screenX-Kl.screenX,Zi=e.screenY-Kl.screenY):Zi=Ki=0,Kl=e),Ki)},movementY:function(e){return"movementY"in e?e.movementY:Zi}}),eo=$e(yi),ig=ae({},yi,{dataTransfer:0}),rg=$e(ig),ug=ae({},Yn,{relatedTarget:0}),Ji=$e(ug),cg=ae({},La,{animationName:0,elapsedTime:0,pseudoElement:0}),og=$e(cg),dg=ae({},La,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),fg=$e(dg),hg=ae({},La,{data:0}),to=$e(hg),mg={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},gg={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},vg={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yg(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=vg[e])?!!t[e]:!1}function Vu(){return yg}var bg=ae({},Yn,{key:function(e){if(e.key){var t=mg[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=js(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?gg[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vu,charCode:function(e){return e.type==="keypress"?js(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?js(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),pg=$e(bg),xg=ae({},yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ao=$e(xg),_g=ae({},Yn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vu}),Sg=$e(_g),wg=ae({},La,{propertyName:0,elapsedTime:0,pseudoElement:0}),jg=$e(wg),Ng=ae({},yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Tg=$e(Ng),Eg=ae({},La,{newState:0,oldState:0}),Ag=$e(Eg),Og=[9,13,27,32],Ku=zt&&"CompositionEvent"in window,rn=null;zt&&"documentMode"in document&&(rn=document.documentMode);var Dg=zt&&"TextEvent"in window&&!rn,yf=zt&&(!Ku||rn&&8<rn&&11>=rn),lo=" ",no=!1;function bf(e,t){switch(e){case"keyup":return Og.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function pf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var rl=!1;function Rg(e,t){switch(e){case"compositionend":return pf(t);case"keypress":return t.which!==32?null:(no=!0,lo);case"textInput":return e=t.data,e===lo&&no?null:e;default:return null}}function Ug(e,t){if(rl)return e==="compositionend"||!Ku&&bf(e,t)?(e=vf(),ws=Xu=aa=null,rl=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return yf&&t.locale!=="ko"?null:t.data;default:return null}}var Mg={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function so(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Mg[e.type]:t==="textarea"}function xf(e,t,a,l){il?yl?yl.push(l):yl=[l]:il=l,t=li(t,"onChange"),0<t.length&&(a=new vi("onChange","change",null,a,l),e.push({event:a,listeners:t}))}var un=null,Nn=null;function kg(e){f0(e,0)}function bi(e){var t=an(e);if(of(t))return e}function io(e,t){if(e==="change")return t}var _f=!1;if(zt){var Pi;if(zt){var Wi="oninput"in document;if(!Wi){var ro=document.createElement("div");ro.setAttribute("oninput","return;"),Wi=typeof ro.oninput=="function"}Pi=Wi}else Pi=!1;_f=Pi&&(!document.documentMode||9<document.documentMode)}function uo(){un&&(un.detachEvent("onpropertychange",Sf),Nn=un=null)}function Sf(e){if(e.propertyName==="value"&&bi(Nn)){var t=[];xf(t,Nn,e,Qu(e)),gf(kg,t)}}function Cg(e,t,a){e==="focusin"?(uo(),un=t,Nn=a,un.attachEvent("onpropertychange",Sf)):e==="focusout"&&uo()}function zg(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return bi(Nn)}function qg(e,t){if(e==="click")return bi(t)}function Bg(e,t){if(e==="input"||e==="change")return bi(t)}function Hg(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var We=typeof Object.is=="function"?Object.is:Hg;function Tn(e,t){if(We(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),l=Object.keys(t);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var n=a[l];if(!Cr.call(t,n)||!We(e[n],t[n]))return!1}return!0}function co(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function oo(e,t){var a=co(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=t&&l>=t)return{node:a,offset:t-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=co(a)}}function wf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?wf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function jf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Hs(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Hs(e.document)}return t}function Zu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Lg=zt&&"documentMode"in document&&11>=document.documentMode,ul=null,$r=null,cn=null,Gr=!1;function fo(e,t,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Gr||ul==null||ul!==Hs(l)||(l=ul,"selectionStart"in l&&Zu(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),cn&&Tn(cn,l)||(cn=l,l=li($r,"onSelect"),0<l.length&&(t=new vi("onSelect","select",null,t,a),e.push({event:t,listeners:l}),t.target=ul)))}function xa(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var cl={animationend:xa("Animation","AnimationEnd"),animationiteration:xa("Animation","AnimationIteration"),animationstart:xa("Animation","AnimationStart"),transitionrun:xa("Transition","TransitionRun"),transitionstart:xa("Transition","TransitionStart"),transitioncancel:xa("Transition","TransitionCancel"),transitionend:xa("Transition","TransitionEnd")},Ii={},Nf={};zt&&(Nf=document.createElement("div").style,"AnimationEvent"in window||(delete cl.animationend.animation,delete cl.animationiteration.animation,delete cl.animationstart.animation),"TransitionEvent"in window||delete cl.transitionend.transition);function $a(e){if(Ii[e])return Ii[e];if(!cl[e])return e;var t=cl[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Nf)return Ii[e]=t[a];return e}var Tf=$a("animationend"),Ef=$a("animationiteration"),Af=$a("animationstart"),$g=$a("transitionrun"),Gg=$a("transitionstart"),Yg=$a("transitioncancel"),Of=$a("transitionend"),Df=new Map,Yr="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yr.push("scrollEnd");function mt(e,t){Df.set(e,t),Ha(t,[e])}var ho=new WeakMap;function nt(e,t){if(typeof e=="object"&&e!==null){var a=ho.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Pc(t)},ho.set(e,t),t)}return{value:e,source:t,stack:Pc(t)}}var Fe=[],ol=0,Ju=0;function pi(){for(var e=ol,t=Ju=ol=0;t<e;){var a=Fe[t];Fe[t++]=null;var l=Fe[t];Fe[t++]=null;var n=Fe[t];Fe[t++]=null;var s=Fe[t];if(Fe[t++]=null,l!==null&&n!==null){var i=l.pending;i===null?n.next=n:(n.next=i.next,i.next=n),l.pending=n}s!==0&&Rf(a,n,s)}}function xi(e,t,a,l){Fe[ol++]=e,Fe[ol++]=t,Fe[ol++]=a,Fe[ol++]=l,Ju|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function Pu(e,t,a,l){return xi(e,t,a,l),Ls(e)}function Bl(e,t){return xi(e,null,null,t),Ls(e)}function Rf(e,t,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var n=!1,s=e.return;s!==null;)s.childLanes|=a,l=s.alternate,l!==null&&(l.childLanes|=a),s.tag===22&&(e=s.stateNode,e===null||e._visibility&1||(n=!0)),e=s,s=s.return;return e.tag===3?(s=e.stateNode,n&&t!==null&&(n=31-Ze(a),e=s.hiddenUpdates,l=e[n],l===null?e[n]=[t]:l.push(t),t.lane=a|536870912),s):null}function Ls(e){if(50<pn)throw pn=0,ou=null,Error(T(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var dl={};function Qg(e,t,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ve(e,t,a,l){return new Qg(e,t,a,l)}function Wu(e){return e=e.prototype,!(!e||!e.isReactComponent)}function kt(e,t){var a=e.alternate;return a===null?(a=Ve(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Uf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function Ns(e,t,a,l,n,s){var i=0;if(l=e,typeof e=="function")Wu(e)&&(i=1);else if(typeof e=="string")i=Vv(e,a,bt.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Rr:return e=Ve(31,a,t,n),e.elementType=Rr,e.lanes=s,e;case ll:return Oa(a.children,n,s,t);case Pd:i=8,n|=24;break;case Ar:return e=Ve(12,a,t,n|2),e.elementType=Ar,e.lanes=s,e;case Or:return e=Ve(13,a,t,n),e.elementType=Or,e.lanes=s,e;case Dr:return e=Ve(19,a,t,n),e.elementType=Dr,e.lanes=s,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case km:case Ot:i=10;break e;case Wd:i=9;break e;case qu:i=11;break e;case Bu:i=14;break e;case Kt:i=16,l=null;break e}i=29,a=Error(T(130,e===null?"null":typeof e,"")),l=null}return t=Ve(i,a,t,n),t.elementType=e,t.type=l,t.lanes=s,t}function Oa(e,t,a,l){return e=Ve(7,e,l,t),e.lanes=a,e}function Fi(e,t,a){return e=Ve(6,e,null,t),e.lanes=a,e}function er(e,t,a){return t=Ve(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var fl=[],hl=0,$s=null,Gs=0,tt=[],at=0,Da=null,Dt=1,Rt="";function ja(e,t){fl[hl++]=Gs,fl[hl++]=$s,$s=e,Gs=t}function Mf(e,t,a){tt[at++]=Dt,tt[at++]=Rt,tt[at++]=Da,Da=e;var l=Dt;e=Rt;var n=32-Ze(l)-1;l&=~(1<<n),a+=1;var s=32-Ze(t)+n;if(30<s){var i=n-n%5;s=(l&(1<<i)-1).toString(32),l>>=i,n-=i,Dt=1<<32-Ze(t)+n|a<<n|l,Rt=s+e}else Dt=1<<s|a<<n|l,Rt=e}function Iu(e){e.return!==null&&(ja(e,1),Mf(e,1,0))}function Fu(e){for(;e===$s;)$s=fl[--hl],fl[hl]=null,Gs=fl[--hl],fl[hl]=null;for(;e===Da;)Da=tt[--at],tt[at]=null,Rt=tt[--at],tt[at]=null,Dt=tt[--at],tt[at]=null}var De=null,ue=null,K=!1,Ra=null,vt=!1,Qr=Error(T(519));function Ca(e){var t=Error(T(418,""));throw En(nt(t,e)),Qr}function mo(e){var t=e.stateNode,a=e.type,l=e.memoizedProps;switch(t[Ae]=e,t[Le]=l,a){case"dialog":Y("cancel",t),Y("close",t);break;case"iframe":case"object":case"embed":Y("load",t);break;case"video":case"audio":for(a=0;a<Dn.length;a++)Y(Dn[a],t);break;case"source":Y("error",t);break;case"img":case"image":case"link":Y("error",t),Y("load",t);break;case"details":Y("toggle",t);break;case"input":Y("invalid",t),df(t,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Bs(t);break;case"select":Y("invalid",t);break;case"textarea":Y("invalid",t),hf(t,l.value,l.defaultValue,l.children),Bs(t)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||l.suppressHydrationWarning===!0||m0(t.textContent,a)?(l.popover!=null&&(Y("beforetoggle",t),Y("toggle",t)),l.onScroll!=null&&Y("scroll",t),l.onScrollEnd!=null&&Y("scrollend",t),l.onClick!=null&&(t.onclick=Ai),t=!0):t=!1,t||Ca(e)}function go(e){for(De=e.return;De;)switch(De.tag){case 5:case 13:vt=!1;return;case 27:case 3:vt=!0;return;default:De=De.return}}function Zl(e){if(e!==De)return!1;if(!K)return go(e),K=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||vu(e.type,e.memoizedProps)),a=!a),a&&ue&&Ca(e),go(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(T(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){ue=ht(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}ue=null}}else t===27?(t=ue,ya(e.type)?(e=pu,pu=null,ue=e):ue=t):ue=De?ht(e.stateNode.nextSibling):null;return!0}function Qn(){ue=De=null,K=!1}function vo(){var e=Ra;return e!==null&&(qe===null?qe=e:qe.push.apply(qe,e),Ra=null),e}function En(e){Ra===null?Ra=[e]:Ra.push(e)}var Xr=_t(null),Ga=null,Ut=null;function Pt(e,t,a){ie(Xr,t._currentValue),t._currentValue=a}function Ct(e){e._currentValue=Xr.current,we(Xr)}function Vr(e,t,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,l!==null&&(l.childLanes|=t)):l!==null&&(l.childLanes&t)!==t&&(l.childLanes|=t),e===a)break;e=e.return}}function Kr(e,t,a,l){var n=e.child;for(n!==null&&(n.return=e);n!==null;){var s=n.dependencies;if(s!==null){var i=n.child;s=s.firstContext;e:for(;s!==null;){var r=s;s=n;for(var u=0;u<t.length;u++)if(r.context===t[u]){s.lanes|=a,r=s.alternate,r!==null&&(r.lanes|=a),Vr(s.return,a,e),l||(i=null);break e}s=r.next}}else if(n.tag===18){if(i=n.return,i===null)throw Error(T(341));i.lanes|=a,s=i.alternate,s!==null&&(s.lanes|=a),Vr(i,a,e),i=null}else i=n.child;if(i!==null)i.return=n;else for(i=n;i!==null;){if(i===e){i=null;break}if(n=i.sibling,n!==null){n.return=i.return,i=n;break}i=i.return}n=i}}function Xn(e,t,a,l){e=null;for(var n=t,s=!1;n!==null;){if(!s){if(n.flags&524288)s=!0;else if(n.flags&262144)break}if(n.tag===10){var i=n.alternate;if(i===null)throw Error(T(387));if(i=i.memoizedProps,i!==null){var r=n.type;We(n.pendingProps.value,i.value)||(e!==null?e.push(r):e=[r])}}else if(n===ks.current){if(i=n.alternate,i===null)throw Error(T(387));i.memoizedState.memoizedState!==n.memoizedState.memoizedState&&(e!==null?e.push(Mn):e=[Mn])}n=n.return}e!==null&&Kr(t,e,a,l),t.flags|=262144}function Ys(e){for(e=e.firstContext;e!==null;){if(!We(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function za(e){Ga=e,Ut=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Oe(e){return kf(Ga,e)}function cs(e,t){return Ga===null&&za(e),kf(e,t)}function kf(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},Ut===null){if(e===null)throw Error(T(308));Ut=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else Ut=Ut.next=t;return a}var Xg=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Vg=be.unstable_scheduleCallback,Kg=be.unstable_NormalPriority,ve={$$typeof:Ot,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ec(){return{controller:new Xg,data:new Map,refCount:0}}function Vn(e){e.refCount--,e.refCount===0&&Vg(Kg,function(){e.controller.abort()})}var on=null,Zr=0,Tl=0,bl=null;function Zg(e,t){if(on===null){var a=on=[];Zr=0,Tl=wc(),bl={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Zr++,t.then(yo,yo),t}function yo(){if(--Zr===0&&on!==null){bl!==null&&(bl.status="fulfilled");var e=on;on=null,Tl=0,bl=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Jg(e,t){var a=[],l={status:"pending",value:null,reason:null,then:function(n){a.push(n)}};return e.then(function(){l.status="fulfilled",l.value=t;for(var n=0;n<a.length;n++)(0,a[n])(t)},function(n){for(l.status="rejected",l.reason=n,n=0;n<a.length;n++)(0,a[n])(void 0)}),l}var bo=q.S;q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Zg(e,t),bo!==null&&bo(e,t)};var Ua=_t(null);function tc(){var e=Ua.current;return e!==null?e:te.pooledCache}function Ts(e,t){t===null?ie(Ua,Ua.current):ie(Ua,t.pool)}function Cf(){var e=tc();return e===null?null:{parent:ve._currentValue,pool:e}}var Kn=Error(T(460)),zf=Error(T(474)),_i=Error(T(542)),Jr={then:function(){}};function po(e){return e=e.status,e==="fulfilled"||e==="rejected"}function os(){}function qf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(os,os),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_o(e),e;default:if(typeof t.status=="string")t.then(os,os);else{if(e=te,e!==null&&100<e.shellSuspendCounter)throw Error(T(482));e=t,e.status="pending",e.then(function(l){if(t.status==="pending"){var n=t;n.status="fulfilled",n.value=l}},function(l){if(t.status==="pending"){var n=t;n.status="rejected",n.reason=l}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,_o(e),e}throw dn=t,Kn}}var dn=null;function xo(){if(dn===null)throw Error(T(459));var e=dn;return dn=null,e}function _o(e){if(e===Kn||e===_i)throw Error(T(483))}var Zt=!1;function ac(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Pr(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ia(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ra(e,t,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,P&2){var n=l.pending;return n===null?t.next=t:(t.next=n.next,n.next=t),l.pending=t,t=Ls(e),Rf(e,null,a),t}return xi(e,l,t,a),Ls(e)}function fn(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,nf(e,a)}}function tr(e,t){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var n=null,s=null;if(a=a.firstBaseUpdate,a!==null){do{var i={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};s===null?n=s=i:s=s.next=i,a=a.next}while(a!==null);s===null?n=s=t:s=s.next=t}else n=s=t;a={baseState:l.baseState,firstBaseUpdate:n,lastBaseUpdate:s,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var Wr=!1;function hn(){if(Wr){var e=bl;if(e!==null)throw e}}function mn(e,t,a,l){Wr=!1;var n=e.updateQueue;Zt=!1;var s=n.firstBaseUpdate,i=n.lastBaseUpdate,r=n.shared.pending;if(r!==null){n.shared.pending=null;var u=r,o=u.next;u.next=null,i===null?s=o:i.next=o,i=u;var d=e.alternate;d!==null&&(d=d.updateQueue,r=d.lastBaseUpdate,r!==i&&(r===null?d.firstBaseUpdate=o:r.next=o,d.lastBaseUpdate=u))}if(s!==null){var f=n.baseState;i=0,d=o=u=null,r=s;do{var h=r.lane&-536870913,m=h!==r.lane;if(m?(X&h)===h:(l&h)===h){h!==0&&h===Tl&&(Wr=!0),d!==null&&(d=d.next={lane:0,tag:r.tag,payload:r.payload,callback:null,next:null});e:{var w=e,N=r;h=t;var O=a;switch(N.tag){case 1:if(w=N.payload,typeof w=="function"){f=w.call(O,f,h);break e}f=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=N.payload,h=typeof w=="function"?w.call(O,f,h):w,h==null)break e;f=ae({},f,h);break e;case 2:Zt=!0}}h=r.callback,h!==null&&(e.flags|=64,m&&(e.flags|=8192),m=n.callbacks,m===null?n.callbacks=[h]:m.push(h))}else m={lane:h,tag:r.tag,payload:r.payload,callback:r.callback,next:null},d===null?(o=d=m,u=f):d=d.next=m,i|=h;if(r=r.next,r===null){if(r=n.shared.pending,r===null)break;m=r,r=m.next,m.next=null,n.lastBaseUpdate=m,n.shared.pending=null}}while(!0);d===null&&(u=f),n.baseState=u,n.firstBaseUpdate=o,n.lastBaseUpdate=d,s===null&&(n.shared.lanes=0),ga|=i,e.lanes=i,e.memoizedState=f}}function Bf(e,t){if(typeof e!="function")throw Error(T(191,e));e.call(t)}function Hf(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)Bf(a[e],t)}var El=_t(null),Qs=_t(0);function So(e,t){e=Ht,ie(Qs,e),ie(El,t),Ht=e|t.baseLanes}function Ir(){ie(Qs,Ht),ie(El,El.current)}function lc(){Ht=Qs.current,we(El),we(Qs)}var ha=0,$=null,I=null,he=null,Xs=!1,pl=!1,qa=!1,Vs=0,An=0,xl=null,Pg=0;function oe(){throw Error(T(321))}function nc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!We(e[a],t[a]))return!1;return!0}function sc(e,t,a,l,n,s){return ha=s,$=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?vh:yh,qa=!1,s=a(l,n),qa=!1,pl&&(s=$f(t,a,l,n)),Lf(e),s}function Lf(e){q.H=Ks;var t=I!==null&&I.next!==null;if(ha=0,he=I=$=null,Xs=!1,An=0,xl=null,t)throw Error(T(300));e===null||Se||(e=e.dependencies,e!==null&&Ys(e)&&(Se=!0))}function $f(e,t,a,l){$=e;var n=0;do{if(pl&&(xl=null),An=0,pl=!1,25<=n)throw Error(T(301));if(n+=1,he=I=null,e.updateQueue!=null){var s=e.updateQueue;s.lastEffect=null,s.events=null,s.stores=null,s.memoCache!=null&&(s.memoCache.index=0)}q.H=lv,s=t(a,l)}while(pl);return s}function Wg(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?Zn(t):t,e=e.useState()[0],(I!==null?I.memoizedState:null)!==e&&($.flags|=1024),t}function ic(){var e=Vs!==0;return Vs=0,e}function rc(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function uc(e){if(Xs){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Xs=!1}ha=0,he=I=$=null,pl=!1,An=Vs=0,xl=null}function Ce(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return he===null?$.memoizedState=he=e:he=he.next=e,he}function me(){if(I===null){var e=$.alternate;e=e!==null?e.memoizedState:null}else e=I.next;var t=he===null?$.memoizedState:he.next;if(t!==null)he=t,I=e;else{if(e===null)throw $.alternate===null?Error(T(467)):Error(T(310));I=e,e={memoizedState:I.memoizedState,baseState:I.baseState,baseQueue:I.baseQueue,queue:I.queue,next:null},he===null?$.memoizedState=he=e:he=he.next=e}return he}function cc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Zn(e){var t=An;return An+=1,xl===null&&(xl=[]),e=qf(xl,e,t),t=$,(he===null?t.memoizedState:he.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?vh:yh),e}function Si(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Zn(e);if(e.$$typeof===Ot)return Oe(e)}throw Error(T(438,String(e)))}function oc(e){var t=null,a=$.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var l=$.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(t={data:l.data.map(function(n){return n.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=cc(),$.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),l=0;l<e;l++)a[l]=Cm;return t.index++,a}function qt(e,t){return typeof t=="function"?t(e):t}function Es(e){var t=me();return dc(t,I,e)}function dc(e,t,a){var l=e.queue;if(l===null)throw Error(T(311));l.lastRenderedReducer=a;var n=e.baseQueue,s=l.pending;if(s!==null){if(n!==null){var i=n.next;n.next=s.next,s.next=i}t.baseQueue=n=s,l.pending=null}if(s=e.baseState,n===null)e.memoizedState=s;else{t=n.next;var r=i=null,u=null,o=t,d=!1;do{var f=o.lane&-536870913;if(f!==o.lane?(X&f)===f:(ha&f)===f){var h=o.revertLane;if(h===0)u!==null&&(u=u.next={lane:0,revertLane:0,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null}),f===Tl&&(d=!0);else if((ha&h)===h){o=o.next,h===Tl&&(d=!0);continue}else f={lane:0,revertLane:o.revertLane,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null},u===null?(r=u=f,i=s):u=u.next=f,$.lanes|=h,ga|=h;f=o.action,qa&&a(s,f),s=o.hasEagerState?o.eagerState:a(s,f)}else h={lane:f,revertLane:o.revertLane,action:o.action,hasEagerState:o.hasEagerState,eagerState:o.eagerState,next:null},u===null?(r=u=h,i=s):u=u.next=h,$.lanes|=f,ga|=f;o=o.next}while(o!==null&&o!==t);if(u===null?i=s:u.next=r,!We(s,e.memoizedState)&&(Se=!0,d&&(a=bl,a!==null)))throw a;e.memoizedState=s,e.baseState=i,e.baseQueue=u,l.lastRenderedState=s}return n===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function ar(e){var t=me(),a=t.queue;if(a===null)throw Error(T(311));a.lastRenderedReducer=e;var l=a.dispatch,n=a.pending,s=t.memoizedState;if(n!==null){a.pending=null;var i=n=n.next;do s=e(s,i.action),i=i.next;while(i!==n);We(s,t.memoizedState)||(Se=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),a.lastRenderedState=s}return[s,l]}function Gf(e,t,a){var l=$,n=me(),s=K;if(s){if(a===void 0)throw Error(T(407));a=a()}else a=t();var i=!We((I||n).memoizedState,a);i&&(n.memoizedState=a,Se=!0),n=n.queue;var r=Xf.bind(null,l,n,e);if(Jn(2048,8,r,[e]),n.getSnapshot!==t||i||he!==null&&he.memoizedState.tag&1){if(l.flags|=2048,Al(9,wi(),Qf.bind(null,l,n,a,t),null),te===null)throw Error(T(349));s||ha&124||Yf(l,t,a)}return a}function Yf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=$.updateQueue,t===null?(t=cc(),$.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Qf(e,t,a,l){t.value=a,t.getSnapshot=l,Vf(t)&&Kf(e)}function Xf(e,t,a){return a(function(){Vf(t)&&Kf(e)})}function Vf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!We(e,a)}catch{return!0}}function Kf(e){var t=Bl(e,2);t!==null&&Pe(t,e,2)}function Fr(e){var t=Ce();if(typeof e=="function"){var a=e;if(e=a(),qa){ta(!0);try{a()}finally{ta(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:qt,lastRenderedState:e},t}function Zf(e,t,a,l){return e.baseState=a,dc(e,I,typeof l=="function"?l:qt)}function Ig(e,t,a,l,n){if(ji(e))throw Error(T(485));if(e=t.action,e!==null){var s={payload:n,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(i){s.listeners.push(i)}};q.T!==null?a(!0):s.isTransition=!1,l(s),a=t.pending,a===null?(s.next=t.pending=s,Jf(t,s)):(s.next=a.next,t.pending=a.next=s)}}function Jf(e,t){var a=t.action,l=t.payload,n=e.state;if(t.isTransition){var s=q.T,i={};q.T=i;try{var r=a(n,l),u=q.S;u!==null&&u(i,r),wo(e,t,r)}catch(o){eu(e,t,o)}finally{q.T=s}}else try{s=a(n,l),wo(e,t,s)}catch(o){eu(e,t,o)}}function wo(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){jo(e,t,l)},function(l){return eu(e,t,l)}):jo(e,t,a)}function jo(e,t,a){t.status="fulfilled",t.value=a,Pf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Jf(e,a)))}function eu(e,t,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do t.status="rejected",t.reason=a,Pf(t),t=t.next;while(t!==l)}e.action=null}function Pf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Wf(e,t){return t}function No(e,t){if(K){var a=te.formState;if(a!==null){e:{var l=$;if(K){if(ue){t:{for(var n=ue,s=vt;n.nodeType!==8;){if(!s){n=null;break t}if(n=ht(n.nextSibling),n===null){n=null;break t}}s=n.data,n=s==="F!"||s==="F"?n:null}if(n){ue=ht(n.nextSibling),l=n.data==="F!";break e}}Ca(l)}l=!1}l&&(t=a[0])}}return a=Ce(),a.memoizedState=a.baseState=t,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wf,lastRenderedState:t},a.queue=l,a=hh.bind(null,$,l),l.dispatch=a,l=Fr(!1),s=gc.bind(null,$,!1,l.queue),l=Ce(),n={state:t,dispatch:null,action:e,pending:null},l.queue=n,a=Ig.bind(null,$,n,s,a),n.dispatch=a,l.memoizedState=e,[t,a,!1]}function To(e){var t=me();return If(t,I,e)}function If(e,t,a){if(t=dc(e,t,Wf)[0],e=Es(qt)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var l=Zn(t)}catch(i){throw i===Kn?_i:i}else l=t;t=me();var n=t.queue,s=n.dispatch;return a!==t.memoizedState&&($.flags|=2048,Al(9,wi(),Fg.bind(null,n,a),null)),[l,s,e]}function Fg(e,t){e.action=t}function Eo(e){var t=me(),a=I;if(a!==null)return If(t,a,e);me(),t=t.memoizedState,a=me();var l=a.queue.dispatch;return a.memoizedState=e,[t,l,!1]}function Al(e,t,a,l){return e={tag:e,create:a,deps:l,inst:t,next:null},t=$.updateQueue,t===null&&(t=cc(),$.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,t.lastEffect=e),e}function wi(){return{destroy:void 0,resource:void 0}}function Ff(){return me().memoizedState}function As(e,t,a,l){var n=Ce();l=l===void 0?null:l,$.flags|=e,n.memoizedState=Al(1|t,wi(),a,l)}function Jn(e,t,a,l){var n=me();l=l===void 0?null:l;var s=n.memoizedState.inst;I!==null&&l!==null&&nc(l,I.memoizedState.deps)?n.memoizedState=Al(t,s,a,l):($.flags|=e,n.memoizedState=Al(1|t,s,a,l))}function Ao(e,t){As(8390656,8,e,t)}function eh(e,t){Jn(2048,8,e,t)}function th(e,t){return Jn(4,2,e,t)}function ah(e,t){return Jn(4,4,e,t)}function lh(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function nh(e,t,a){a=a!=null?a.concat([e]):null,Jn(4,4,lh.bind(null,t,e),a)}function fc(){}function sh(e,t){var a=me();t=t===void 0?null:t;var l=a.memoizedState;return t!==null&&nc(t,l[1])?l[0]:(a.memoizedState=[e,t],e)}function ih(e,t){var a=me();t=t===void 0?null:t;var l=a.memoizedState;if(t!==null&&nc(t,l[1]))return l[0];if(l=e(),qa){ta(!0);try{e()}finally{ta(!1)}}return a.memoizedState=[l,t],l}function hc(e,t,a){return a===void 0||ha&1073741824?e.memoizedState=t:(e.memoizedState=a,e=Ph(),$.lanes|=e,ga|=e,a)}function rh(e,t,a,l){return We(a,t)?a:El.current!==null?(e=hc(e,a,l),We(e,t)||(Se=!0),e):ha&42?(e=Ph(),$.lanes|=e,ga|=e,t):(Se=!0,e.memoizedState=a)}function uh(e,t,a,l,n){var s=Z.p;Z.p=s!==0&&8>s?s:8;var i=q.T,r={};q.T=r,gc(e,!1,t,a);try{var u=n(),o=q.S;if(o!==null&&o(r,u),u!==null&&typeof u=="object"&&typeof u.then=="function"){var d=Jg(u,l);gn(e,t,d,Je(e))}else gn(e,t,l,Je(e))}catch(f){gn(e,t,{then:function(){},status:"rejected",reason:f},Je())}finally{Z.p=s,q.T=i}}function ev(){}function tu(e,t,a,l){if(e.tag!==5)throw Error(T(476));var n=ch(e).queue;uh(e,n,t,Aa,a===null?ev:function(){return oh(e),a(l)})}function ch(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:Aa,baseState:Aa,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qt,lastRenderedState:Aa},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:qt,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function oh(e){var t=ch(e).next.queue;gn(e,t,{},Je())}function mc(){return Oe(Mn)}function dh(){return me().memoizedState}function fh(){return me().memoizedState}function tv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=Je();e=ia(a);var l=ra(t,e,a);l!==null&&(Pe(l,t,a),fn(l,t,a)),t={cache:ec()},e.payload=t;return}t=t.return}}function av(e,t,a){var l=Je();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},ji(e)?mh(t,a):(a=Pu(e,t,a,l),a!==null&&(Pe(a,e,l),gh(a,t,l)))}function hh(e,t,a){var l=Je();gn(e,t,a,l)}function gn(e,t,a,l){var n={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(ji(e))mh(t,n);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var i=t.lastRenderedState,r=s(i,a);if(n.hasEagerState=!0,n.eagerState=r,We(r,i))return xi(e,t,n,0),te===null&&pi(),!1}catch{}finally{}if(a=Pu(e,t,n,l),a!==null)return Pe(a,e,l),gh(a,t,l),!0}return!1}function gc(e,t,a,l){if(l={lane:2,revertLane:wc(),action:l,hasEagerState:!1,eagerState:null,next:null},ji(e)){if(t)throw Error(T(479))}else t=Pu(e,a,l,2),t!==null&&Pe(t,e,2)}function ji(e){var t=e.alternate;return e===$||t!==null&&t===$}function mh(e,t){pl=Xs=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function gh(e,t,a){if(a&4194048){var l=t.lanes;l&=e.pendingLanes,a|=l,t.lanes=a,nf(e,a)}}var Ks={readContext:Oe,use:Si,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe,useHostTransitionStatus:oe,useFormState:oe,useActionState:oe,useOptimistic:oe,useMemoCache:oe,useCacheRefresh:oe},vh={readContext:Oe,use:Si,useCallback:function(e,t){return Ce().memoizedState=[e,t===void 0?null:t],e},useContext:Oe,useEffect:Ao,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,As(4194308,4,lh.bind(null,t,e),a)},useLayoutEffect:function(e,t){return As(4194308,4,e,t)},useInsertionEffect:function(e,t){As(4,2,e,t)},useMemo:function(e,t){var a=Ce();t=t===void 0?null:t;var l=e();if(qa){ta(!0);try{e()}finally{ta(!1)}}return a.memoizedState=[l,t],l},useReducer:function(e,t,a){var l=Ce();if(a!==void 0){var n=a(t);if(qa){ta(!0);try{a(t)}finally{ta(!1)}}}else n=t;return l.memoizedState=l.baseState=n,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},l.queue=e,e=e.dispatch=av.bind(null,$,e),[l.memoizedState,e]},useRef:function(e){var t=Ce();return e={current:e},t.memoizedState=e},useState:function(e){e=Fr(e);var t=e.queue,a=hh.bind(null,$,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:fc,useDeferredValue:function(e,t){var a=Ce();return hc(a,e,t)},useTransition:function(){var e=Fr(!1);return e=uh.bind(null,$,e.queue,!0,!1),Ce().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var l=$,n=Ce();if(K){if(a===void 0)throw Error(T(407));a=a()}else{if(a=t(),te===null)throw Error(T(349));X&124||Yf(l,t,a)}n.memoizedState=a;var s={value:a,getSnapshot:t};return n.queue=s,Ao(Xf.bind(null,l,s,e),[e]),l.flags|=2048,Al(9,wi(),Qf.bind(null,l,s,a,t),null),a},useId:function(){var e=Ce(),t=te.identifierPrefix;if(K){var a=Rt,l=Dt;a=(l&~(1<<32-Ze(l)-1)).toString(32)+a,t="«"+t+"R"+a,a=Vs++,0<a&&(t+="H"+a.toString(32)),t+="»"}else a=Pg++,t="«"+t+"r"+a.toString(32)+"»";return e.memoizedState=t},useHostTransitionStatus:mc,useFormState:No,useActionState:No,useOptimistic:function(e){var t=Ce();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=gc.bind(null,$,!0,a),a.dispatch=t,[e,t]},useMemoCache:oc,useCacheRefresh:function(){return Ce().memoizedState=tv.bind(null,$)}},yh={readContext:Oe,use:Si,useCallback:sh,useContext:Oe,useEffect:eh,useImperativeHandle:nh,useInsertionEffect:th,useLayoutEffect:ah,useMemo:ih,useReducer:Es,useRef:Ff,useState:function(){return Es(qt)},useDebugValue:fc,useDeferredValue:function(e,t){var a=me();return rh(a,I.memoizedState,e,t)},useTransition:function(){var e=Es(qt)[0],t=me().memoizedState;return[typeof e=="boolean"?e:Zn(e),t]},useSyncExternalStore:Gf,useId:dh,useHostTransitionStatus:mc,useFormState:To,useActionState:To,useOptimistic:function(e,t){var a=me();return Zf(a,I,e,t)},useMemoCache:oc,useCacheRefresh:fh},lv={readContext:Oe,use:Si,useCallback:sh,useContext:Oe,useEffect:eh,useImperativeHandle:nh,useInsertionEffect:th,useLayoutEffect:ah,useMemo:ih,useReducer:ar,useRef:Ff,useState:function(){return ar(qt)},useDebugValue:fc,useDeferredValue:function(e,t){var a=me();return I===null?hc(a,e,t):rh(a,I.memoizedState,e,t)},useTransition:function(){var e=ar(qt)[0],t=me().memoizedState;return[typeof e=="boolean"?e:Zn(e),t]},useSyncExternalStore:Gf,useId:dh,useHostTransitionStatus:mc,useFormState:Eo,useActionState:Eo,useOptimistic:function(e,t){var a=me();return I!==null?Zf(a,I,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:oc,useCacheRefresh:fh},_l=null,On=0;function ds(e){var t=On;return On+=1,_l===null&&(_l=[]),qf(_l,e,t)}function Jl(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function fs(e,t){throw t.$$typeof===Mm?Error(T(525)):(e=Object.prototype.toString.call(t),Error(T(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function Oo(e){var t=e._init;return t(e._payload)}function bh(e){function t(y,v){if(e){var g=y.deletions;g===null?(y.deletions=[v],y.flags|=16):g.push(v)}}function a(y,v){if(!e)return null;for(;v!==null;)t(y,v),v=v.sibling;return null}function l(y){for(var v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function n(y,v){return y=kt(y,v),y.index=0,y.sibling=null,y}function s(y,v,g){return y.index=g,e?(g=y.alternate,g!==null?(g=g.index,g<v?(y.flags|=67108866,v):g):(y.flags|=67108866,v)):(y.flags|=1048576,v)}function i(y){return e&&y.alternate===null&&(y.flags|=67108866),y}function r(y,v,g,x){return v===null||v.tag!==6?(v=Fi(g,y.mode,x),v.return=y,v):(v=n(v,g),v.return=y,v)}function u(y,v,g,x){var E=g.type;return E===ll?d(y,v,g.props.children,x,g.key):v!==null&&(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Kt&&Oo(E)===v.type)?(v=n(v,g.props),Jl(v,g),v.return=y,v):(v=Ns(g.type,g.key,g.props,null,y.mode,x),Jl(v,g),v.return=y,v)}function o(y,v,g,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==g.containerInfo||v.stateNode.implementation!==g.implementation?(v=er(g,y.mode,x),v.return=y,v):(v=n(v,g.children||[]),v.return=y,v)}function d(y,v,g,x,E){return v===null||v.tag!==7?(v=Oa(g,y.mode,x,E),v.return=y,v):(v=n(v,g),v.return=y,v)}function f(y,v,g){if(typeof v=="string"&&v!==""||typeof v=="number"||typeof v=="bigint")return v=Fi(""+v,y.mode,g),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ns:return g=Ns(v.type,v.key,v.props,null,y.mode,g),Jl(g,v),g.return=y,g;case en:return v=er(v,y.mode,g),v.return=y,v;case Kt:var x=v._init;return v=x(v._payload),f(y,v,g)}if(tn(v)||Xl(v))return v=Oa(v,y.mode,g,null),v.return=y,v;if(typeof v.then=="function")return f(y,ds(v),g);if(v.$$typeof===Ot)return f(y,cs(y,v),g);fs(y,v)}return null}function h(y,v,g,x){var E=v!==null?v.key:null;if(typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint")return E!==null?null:r(y,v,""+g,x);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case ns:return g.key===E?u(y,v,g,x):null;case en:return g.key===E?o(y,v,g,x):null;case Kt:return E=g._init,g=E(g._payload),h(y,v,g,x)}if(tn(g)||Xl(g))return E!==null?null:d(y,v,g,x,null);if(typeof g.then=="function")return h(y,v,ds(g),x);if(g.$$typeof===Ot)return h(y,v,cs(y,g),x);fs(y,g)}return null}function m(y,v,g,x,E){if(typeof x=="string"&&x!==""||typeof x=="number"||typeof x=="bigint")return y=y.get(g)||null,r(v,y,""+x,E);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ns:return y=y.get(x.key===null?g:x.key)||null,u(v,y,x,E);case en:return y=y.get(x.key===null?g:x.key)||null,o(v,y,x,E);case Kt:var R=x._init;return x=R(x._payload),m(y,v,g,x,E)}if(tn(x)||Xl(x))return y=y.get(g)||null,d(v,y,x,E,null);if(typeof x.then=="function")return m(y,v,g,ds(x),E);if(x.$$typeof===Ot)return m(y,v,g,cs(v,x),E);fs(v,x)}return null}function w(y,v,g,x){for(var E=null,R=null,D=v,A=v=0,B=null;D!==null&&A<g.length;A++){D.index>A?(B=D,D=null):B=D.sibling;var p=h(y,D,g[A],x);if(p===null){D===null&&(D=B);break}e&&D&&p.alternate===null&&t(y,D),v=s(p,v,A),R===null?E=p:R.sibling=p,R=p,D=B}if(A===g.length)return a(y,D),K&&ja(y,A),E;if(D===null){for(;A<g.length;A++)D=f(y,g[A],x),D!==null&&(v=s(D,v,A),R===null?E=D:R.sibling=D,R=D);return K&&ja(y,A),E}for(D=l(D);A<g.length;A++)B=m(D,y,A,g[A],x),B!==null&&(e&&B.alternate!==null&&D.delete(B.key===null?A:B.key),v=s(B,v,A),R===null?E=B:R.sibling=B,R=B);return e&&D.forEach(function(_){return t(y,_)}),K&&ja(y,A),E}function N(y,v,g,x){if(g==null)throw Error(T(151));for(var E=null,R=null,D=v,A=v=0,B=null,p=g.next();D!==null&&!p.done;A++,p=g.next()){D.index>A?(B=D,D=null):B=D.sibling;var _=h(y,D,p.value,x);if(_===null){D===null&&(D=B);break}e&&D&&_.alternate===null&&t(y,D),v=s(_,v,A),R===null?E=_:R.sibling=_,R=_,D=B}if(p.done)return a(y,D),K&&ja(y,A),E;if(D===null){for(;!p.done;A++,p=g.next())p=f(y,p.value,x),p!==null&&(v=s(p,v,A),R===null?E=p:R.sibling=p,R=p);return K&&ja(y,A),E}for(D=l(D);!p.done;A++,p=g.next())p=m(D,y,A,p.value,x),p!==null&&(e&&p.alternate!==null&&D.delete(p.key===null?A:p.key),v=s(p,v,A),R===null?E=p:R.sibling=p,R=p);return e&&D.forEach(function(b){return t(y,b)}),K&&ja(y,A),E}function O(y,v,g,x){if(typeof g=="object"&&g!==null&&g.type===ll&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case ns:e:{for(var E=g.key;v!==null;){if(v.key===E){if(E=g.type,E===ll){if(v.tag===7){a(y,v.sibling),x=n(v,g.props.children),x.return=y,y=x;break e}}else if(v.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Kt&&Oo(E)===v.type){a(y,v.sibling),x=n(v,g.props),Jl(x,g),x.return=y,y=x;break e}a(y,v);break}else t(y,v);v=v.sibling}g.type===ll?(x=Oa(g.props.children,y.mode,x,g.key),x.return=y,y=x):(x=Ns(g.type,g.key,g.props,null,y.mode,x),Jl(x,g),x.return=y,y=x)}return i(y);case en:e:{for(E=g.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===g.containerInfo&&v.stateNode.implementation===g.implementation){a(y,v.sibling),x=n(v,g.children||[]),x.return=y,y=x;break e}else{a(y,v);break}else t(y,v);v=v.sibling}x=er(g,y.mode,x),x.return=y,y=x}return i(y);case Kt:return E=g._init,g=E(g._payload),O(y,v,g,x)}if(tn(g))return w(y,v,g,x);if(Xl(g)){if(E=Xl(g),typeof E!="function")throw Error(T(150));return g=E.call(g),N(y,v,g,x)}if(typeof g.then=="function")return O(y,v,ds(g),x);if(g.$$typeof===Ot)return O(y,v,cs(y,g),x);fs(y,g)}return typeof g=="string"&&g!==""||typeof g=="number"||typeof g=="bigint"?(g=""+g,v!==null&&v.tag===6?(a(y,v.sibling),x=n(v,g),x.return=y,y=x):(a(y,v),x=Fi(g,y.mode,x),x.return=y,y=x),i(y)):a(y,v)}return function(y,v,g,x){try{On=0;var E=O(y,v,g,x);return _l=null,E}catch(D){if(D===Kn||D===_i)throw D;var R=Ve(29,D,null,y.mode);return R.lanes=x,R.return=y,R}finally{}}}var Ol=bh(!0),ph=bh(!1),rt=_t(null),xt=null;function Wt(e){var t=e.alternate;ie(ye,ye.current&1),ie(rt,e),xt===null&&(t===null||El.current!==null||t.memoizedState!==null)&&(xt=e)}function xh(e){if(e.tag===22){if(ie(ye,ye.current),ie(rt,e),xt===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(xt=e)}}else It()}function It(){ie(ye,ye.current),ie(rt,rt.current)}function Mt(e){we(rt),xt===e&&(xt=null),we(ye)}var ye=_t(0);function Zs(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||bu(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function lr(e,t,a,l){t=e.memoizedState,a=a(l,t),a=a==null?t:ae({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var au={enqueueSetState:function(e,t,a){e=e._reactInternals;var l=Je(),n=ia(l);n.payload=t,a!=null&&(n.callback=a),t=ra(e,n,l),t!==null&&(Pe(t,e,l),fn(t,e,l))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var l=Je(),n=ia(l);n.tag=1,n.payload=t,a!=null&&(n.callback=a),t=ra(e,n,l),t!==null&&(Pe(t,e,l),fn(t,e,l))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=Je(),l=ia(a);l.tag=2,t!=null&&(l.callback=t),t=ra(e,l,a),t!==null&&(Pe(t,e,a),fn(t,e,a))}};function Do(e,t,a,l,n,s,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,s,i):t.prototype&&t.prototype.isPureReactComponent?!Tn(a,l)||!Tn(n,s):!0}function Ro(e,t,a,l){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,l),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,l),t.state!==e&&au.enqueueReplaceState(t,t.state,null)}function Ba(e,t){var a=t;if("ref"in t){a={};for(var l in t)l!=="ref"&&(a[l]=t[l])}if(e=e.defaultProps){a===t&&(a=ae({},a));for(var n in e)a[n]===void 0&&(a[n]=e[n])}return a}var Js=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function _h(e){Js(e)}function Sh(e){console.error(e)}function wh(e){Js(e)}function Ps(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(l){setTimeout(function(){throw l})}}function Uo(e,t,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(n){setTimeout(function(){throw n})}}function lu(e,t,a){return a=ia(a),a.tag=3,a.payload={element:null},a.callback=function(){Ps(e,t)},a}function jh(e){return e=ia(e),e.tag=3,e}function Nh(e,t,a,l){var n=a.type.getDerivedStateFromError;if(typeof n=="function"){var s=l.value;e.payload=function(){return n(s)},e.callback=function(){Uo(t,a,l)}}var i=a.stateNode;i!==null&&typeof i.componentDidCatch=="function"&&(e.callback=function(){Uo(t,a,l),typeof n!="function"&&(ua===null?ua=new Set([this]):ua.add(this));var r=l.stack;this.componentDidCatch(l.value,{componentStack:r!==null?r:""})})}function nv(e,t,a,l,n){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(t=a.alternate,t!==null&&Xn(t,a,n,!0),a=rt.current,a!==null){switch(a.tag){case 13:return xt===null?du():a.alternate===null&&ce===0&&(ce=3),a.flags&=-257,a.flags|=65536,a.lanes=n,l===Jr?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([l]):t.add(l),mr(e,l,n)),!1;case 22:return a.flags|=65536,l===Jr?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([l]):a.add(l)),mr(e,l,n)),!1}throw Error(T(435,a.tag))}return mr(e,l,n),du(),!1}if(K)return t=rt.current,t!==null?(!(t.flags&65536)&&(t.flags|=256),t.flags|=65536,t.lanes=n,l!==Qr&&(e=Error(T(422),{cause:l}),En(nt(e,a)))):(l!==Qr&&(t=Error(T(423),{cause:l}),En(nt(t,a))),e=e.current.alternate,e.flags|=65536,n&=-n,e.lanes|=n,l=nt(l,a),n=lu(e.stateNode,l,n),tr(e,n),ce!==4&&(ce=2)),!1;var s=Error(T(520),{cause:l});if(s=nt(s,a),bn===null?bn=[s]:bn.push(s),ce!==4&&(ce=2),t===null)return!0;l=nt(l,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=n&-n,a.lanes|=e,e=lu(a.stateNode,l,e),tr(a,e),!1;case 1:if(t=a.type,s=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||s!==null&&typeof s.componentDidCatch=="function"&&(ua===null||!ua.has(s))))return a.flags|=65536,n&=-n,a.lanes|=n,n=jh(n),Nh(n,e,a,l),tr(a,n),!1}a=a.return}while(a!==null);return!1}var Th=Error(T(461)),Se=!1;function je(e,t,a,l){t.child=e===null?ph(t,null,a,l):Ol(t,e.child,a,l)}function Mo(e,t,a,l,n){a=a.render;var s=t.ref;if("ref"in l){var i={};for(var r in l)r!=="ref"&&(i[r]=l[r])}else i=l;return za(t),l=sc(e,t,a,i,s,n),r=ic(),e!==null&&!Se?(rc(e,t,n),Bt(e,t,n)):(K&&r&&Iu(t),t.flags|=1,je(e,t,l,n),t.child)}function ko(e,t,a,l,n){if(e===null){var s=a.type;return typeof s=="function"&&!Wu(s)&&s.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=s,Eh(e,t,s,l,n)):(e=Ns(a.type,null,l,t,t.mode,n),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!vc(e,n)){var i=s.memoizedProps;if(a=a.compare,a=a!==null?a:Tn,a(i,l)&&e.ref===t.ref)return Bt(e,t,n)}return t.flags|=1,e=kt(s,l),e.ref=t.ref,e.return=t,t.child=e}function Eh(e,t,a,l,n){if(e!==null){var s=e.memoizedProps;if(Tn(s,l)&&e.ref===t.ref)if(Se=!1,t.pendingProps=l=s,vc(e,n))e.flags&131072&&(Se=!0);else return t.lanes=e.lanes,Bt(e,t,n)}return nu(e,t,a,l,n)}function Ah(e,t,a){var l=t.pendingProps,n=l.children,s=e!==null?e.memoizedState:null;if(l.mode==="hidden"){if(t.flags&128){if(l=s!==null?s.baseLanes|a:a,e!==null){for(n=t.child=e.child,s=0;n!==null;)s=s|n.lanes|n.childLanes,n=n.sibling;t.childLanes=s&~l}else t.childLanes=0,t.child=null;return Co(e,t,l,a)}if(a&536870912)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&Ts(t,s!==null?s.cachePool:null),s!==null?So(t,s):Ir(),xh(t);else return t.lanes=t.childLanes=536870912,Co(e,t,s!==null?s.baseLanes|a:a,a)}else s!==null?(Ts(t,s.cachePool),So(t,s),It(),t.memoizedState=null):(e!==null&&Ts(t,null),Ir(),It());return je(e,t,n,a),t.child}function Co(e,t,a,l){var n=tc();return n=n===null?null:{parent:ve._currentValue,pool:n},t.memoizedState={baseLanes:a,cachePool:n},e!==null&&Ts(t,null),Ir(),xh(t),e!==null&&Xn(e,t,l,!0),null}function Os(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(T(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function nu(e,t,a,l,n){return za(t),a=sc(e,t,a,l,void 0,n),l=ic(),e!==null&&!Se?(rc(e,t,n),Bt(e,t,n)):(K&&l&&Iu(t),t.flags|=1,je(e,t,a,n),t.child)}function zo(e,t,a,l,n,s){return za(t),t.updateQueue=null,a=$f(t,l,a,n),Lf(e),l=ic(),e!==null&&!Se?(rc(e,t,s),Bt(e,t,s)):(K&&l&&Iu(t),t.flags|=1,je(e,t,a,s),t.child)}function qo(e,t,a,l,n){if(za(t),t.stateNode===null){var s=dl,i=a.contextType;typeof i=="object"&&i!==null&&(s=Oe(i)),s=new a(l,s),t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=au,t.stateNode=s,s._reactInternals=t,s=t.stateNode,s.props=l,s.state=t.memoizedState,s.refs={},ac(t),i=a.contextType,s.context=typeof i=="object"&&i!==null?Oe(i):dl,s.state=t.memoizedState,i=a.getDerivedStateFromProps,typeof i=="function"&&(lr(t,a,i,l),s.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(i=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),i!==s.state&&au.enqueueReplaceState(s,s.state,null),mn(t,l,s,n),hn(),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!0}else if(e===null){s=t.stateNode;var r=t.memoizedProps,u=Ba(a,r);s.props=u;var o=s.context,d=a.contextType;i=dl,typeof d=="object"&&d!==null&&(i=Oe(d));var f=a.getDerivedStateFromProps;d=typeof f=="function"||typeof s.getSnapshotBeforeUpdate=="function",r=t.pendingProps!==r,d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(r||o!==i)&&Ro(t,s,l,i),Zt=!1;var h=t.memoizedState;s.state=h,mn(t,l,s,n),hn(),o=t.memoizedState,r||h!==o||Zt?(typeof f=="function"&&(lr(t,a,f,l),o=t.memoizedState),(u=Zt||Do(t,a,u,l,h,o,i))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=l,t.memoizedState=o),s.props=l,s.state=o,s.context=i,l=u):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),l=!1)}else{s=t.stateNode,Pr(e,t),i=t.memoizedProps,d=Ba(a,i),s.props=d,f=t.pendingProps,h=s.context,o=a.contextType,u=dl,typeof o=="object"&&o!==null&&(u=Oe(o)),r=a.getDerivedStateFromProps,(o=typeof r=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(i!==f||h!==u)&&Ro(t,s,l,u),Zt=!1,h=t.memoizedState,s.state=h,mn(t,l,s,n),hn();var m=t.memoizedState;i!==f||h!==m||Zt||e!==null&&e.dependencies!==null&&Ys(e.dependencies)?(typeof r=="function"&&(lr(t,a,r,l),m=t.memoizedState),(d=Zt||Do(t,a,d,l,h,m,u)||e!==null&&e.dependencies!==null&&Ys(e.dependencies))?(o||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(l,m,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(l,m,u)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=l,t.memoizedState=m),s.props=l,s.state=m,s.context=u,l=d):(typeof s.componentDidUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),l=!1)}return s=l,Os(e,t),l=(t.flags&128)!==0,s||l?(s=t.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:s.render(),t.flags|=1,e!==null&&l?(t.child=Ol(t,e.child,null,n),t.child=Ol(t,null,a,n)):je(e,t,a,n),t.memoizedState=s.state,e=t.child):e=Bt(e,t,n),e}function Bo(e,t,a,l){return Qn(),t.flags|=256,je(e,t,a,l),t.child}var nr={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function sr(e){return{baseLanes:e,cachePool:Cf()}}function ir(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=st),e}function Oh(e,t,a){var l=t.pendingProps,n=!1,s=(t.flags&128)!==0,i;if((i=s)||(i=e!==null&&e.memoizedState===null?!1:(ye.current&2)!==0),i&&(n=!0,t.flags&=-129),i=(t.flags&32)!==0,t.flags&=-33,e===null){if(K){if(n?Wt(t):It(),K){var r=ue,u;if(u=r){e:{for(u=r,r=vt;u.nodeType!==8;){if(!r){r=null;break e}if(u=ht(u.nextSibling),u===null){r=null;break e}}r=u}r!==null?(t.memoizedState={dehydrated:r,treeContext:Da!==null?{id:Dt,overflow:Rt}:null,retryLane:536870912,hydrationErrors:null},u=Ve(18,null,null,0),u.stateNode=r,u.return=t,t.child=u,De=t,ue=null,u=!0):u=!1}u||Ca(t)}if(r=t.memoizedState,r!==null&&(r=r.dehydrated,r!==null))return bu(r)?t.lanes=32:t.lanes=536870912,null;Mt(t)}return r=l.children,l=l.fallback,n?(It(),n=t.mode,r=Ws({mode:"hidden",children:r},n),l=Oa(l,n,a,null),r.return=t,l.return=t,r.sibling=l,t.child=r,n=t.child,n.memoizedState=sr(a),n.childLanes=ir(e,i,a),t.memoizedState=nr,l):(Wt(t),su(t,r))}if(u=e.memoizedState,u!==null&&(r=u.dehydrated,r!==null)){if(s)t.flags&256?(Wt(t),t.flags&=-257,t=rr(e,t,a)):t.memoizedState!==null?(It(),t.child=e.child,t.flags|=128,t=null):(It(),n=l.fallback,r=t.mode,l=Ws({mode:"visible",children:l.children},r),n=Oa(n,r,a,null),n.flags|=2,l.return=t,n.return=t,l.sibling=n,t.child=l,Ol(t,e.child,null,a),l=t.child,l.memoizedState=sr(a),l.childLanes=ir(e,i,a),t.memoizedState=nr,t=n);else if(Wt(t),bu(r)){if(i=r.nextSibling&&r.nextSibling.dataset,i)var o=i.dgst;i=o,l=Error(T(419)),l.stack="",l.digest=i,En({value:l,source:null,stack:null}),t=rr(e,t,a)}else if(Se||Xn(e,t,a,!1),i=(a&e.childLanes)!==0,Se||i){if(i=te,i!==null&&(l=a&-a,l=l&42?1:Lu(l),l=l&(i.suspendedLanes|a)?0:l,l!==0&&l!==u.retryLane))throw u.retryLane=l,Bl(e,l),Pe(i,e,l),Th;r.data==="$?"||du(),t=rr(e,t,a)}else r.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=u.treeContext,ue=ht(r.nextSibling),De=t,K=!0,Ra=null,vt=!1,e!==null&&(tt[at++]=Dt,tt[at++]=Rt,tt[at++]=Da,Dt=e.id,Rt=e.overflow,Da=t),t=su(t,l.children),t.flags|=4096);return t}return n?(It(),n=l.fallback,r=t.mode,u=e.child,o=u.sibling,l=kt(u,{mode:"hidden",children:l.children}),l.subtreeFlags=u.subtreeFlags&65011712,o!==null?n=kt(o,n):(n=Oa(n,r,a,null),n.flags|=2),n.return=t,l.return=t,l.sibling=n,t.child=l,l=n,n=t.child,r=e.child.memoizedState,r===null?r=sr(a):(u=r.cachePool,u!==null?(o=ve._currentValue,u=u.parent!==o?{parent:o,pool:o}:u):u=Cf(),r={baseLanes:r.baseLanes|a,cachePool:u}),n.memoizedState=r,n.childLanes=ir(e,i,a),t.memoizedState=nr,l):(Wt(t),a=e.child,e=a.sibling,a=kt(a,{mode:"visible",children:l.children}),a.return=t,a.sibling=null,e!==null&&(i=t.deletions,i===null?(t.deletions=[e],t.flags|=16):i.push(e)),t.child=a,t.memoizedState=null,a)}function su(e,t){return t=Ws({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Ws(e,t){return e=Ve(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function rr(e,t,a){return Ol(t,e.child,null,a),e=su(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Ho(e,t,a){e.lanes|=t;var l=e.alternate;l!==null&&(l.lanes|=t),Vr(e.return,t,a)}function ur(e,t,a,l,n){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:n}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=l,s.tail=a,s.tailMode=n)}function Dh(e,t,a){var l=t.pendingProps,n=l.revealOrder,s=l.tail;if(je(e,t,l.children,a),l=ye.current,l&2)l=l&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ho(e,a,t);else if(e.tag===19)Ho(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}l&=1}switch(ie(ye,l),n){case"forwards":for(a=t.child,n=null;a!==null;)e=a.alternate,e!==null&&Zs(e)===null&&(n=a),a=a.sibling;a=n,a===null?(n=t.child,t.child=null):(n=a.sibling,a.sibling=null),ur(t,!1,n,a,s);break;case"backwards":for(a=null,n=t.child,t.child=null;n!==null;){if(e=n.alternate,e!==null&&Zs(e)===null){t.child=n;break}e=n.sibling,n.sibling=a,a=n,n=e}ur(t,!0,a,null,s);break;case"together":ur(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Bt(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ga|=t.lanes,!(a&t.childLanes))if(e!==null){if(Xn(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(T(153));if(t.child!==null){for(e=t.child,a=kt(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=kt(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function vc(e,t){return e.lanes&t?!0:(e=e.dependencies,!!(e!==null&&Ys(e)))}function sv(e,t,a){switch(t.tag){case 3:Cs(t,t.stateNode.containerInfo),Pt(t,ve,e.memoizedState.cache),Qn();break;case 27:case 5:kr(t);break;case 4:Cs(t,t.stateNode.containerInfo);break;case 10:Pt(t,t.type,t.memoizedProps.value);break;case 13:var l=t.memoizedState;if(l!==null)return l.dehydrated!==null?(Wt(t),t.flags|=128,null):a&t.child.childLanes?Oh(e,t,a):(Wt(t),e=Bt(e,t,a),e!==null?e.sibling:null);Wt(t);break;case 19:var n=(e.flags&128)!==0;if(l=(a&t.childLanes)!==0,l||(Xn(e,t,a,!1),l=(a&t.childLanes)!==0),n){if(l)return Dh(e,t,a);t.flags|=128}if(n=t.memoizedState,n!==null&&(n.rendering=null,n.tail=null,n.lastEffect=null),ie(ye,ye.current),l)break;return null;case 22:case 23:return t.lanes=0,Ah(e,t,a);case 24:Pt(t,ve,e.memoizedState.cache)}return Bt(e,t,a)}function Rh(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Se=!0;else{if(!vc(e,a)&&!(t.flags&128))return Se=!1,sv(e,t,a);Se=!!(e.flags&131072)}else Se=!1,K&&t.flags&1048576&&Mf(t,Gs,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var l=t.elementType,n=l._init;if(l=n(l._payload),t.type=l,typeof l=="function")Wu(l)?(e=Ba(l,e),t.tag=1,t=qo(null,t,l,e,a)):(t.tag=0,t=nu(null,t,l,e,a));else{if(l!=null){if(n=l.$$typeof,n===qu){t.tag=11,t=Mo(null,t,l,e,a);break e}else if(n===Bu){t.tag=14,t=ko(null,t,l,e,a);break e}}throw t=Ur(l)||l,Error(T(306,t,""))}}return t;case 0:return nu(e,t,t.type,t.pendingProps,a);case 1:return l=t.type,n=Ba(l,t.pendingProps),qo(e,t,l,n,a);case 3:e:{if(Cs(t,t.stateNode.containerInfo),e===null)throw Error(T(387));l=t.pendingProps;var s=t.memoizedState;n=s.element,Pr(e,t),mn(t,l,null,a);var i=t.memoizedState;if(l=i.cache,Pt(t,ve,l),l!==s.cache&&Kr(t,[ve],a,!0),hn(),l=i.element,s.isDehydrated)if(s={element:l,isDehydrated:!1,cache:i.cache},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){t=Bo(e,t,l,a);break e}else if(l!==n){n=nt(Error(T(424)),t),En(n),t=Bo(e,t,l,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(ue=ht(e.firstChild),De=t,K=!0,Ra=null,vt=!0,a=ph(t,null,l,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Qn(),l===n){t=Bt(e,t,a);break e}je(e,t,l,a)}t=t.child}return t;case 26:return Os(e,t),e===null?(a=ad(t.type,null,t.pendingProps,null))?t.memoizedState=a:K||(a=t.type,e=t.pendingProps,l=ni(sa.current).createElement(a),l[Ae]=t,l[Le]=e,Te(l,a,e),_e(l),t.stateNode=l):t.memoizedState=ad(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return kr(t),e===null&&K&&(l=t.stateNode=y0(t.type,t.pendingProps,sa.current),De=t,vt=!0,n=ue,ya(t.type)?(pu=n,ue=ht(l.firstChild)):ue=n),je(e,t,t.pendingProps.children,a),Os(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&K&&((n=l=ue)&&(l=Mv(l,t.type,t.pendingProps,vt),l!==null?(t.stateNode=l,De=t,ue=ht(l.firstChild),vt=!1,n=!0):n=!1),n||Ca(t)),kr(t),n=t.type,s=t.pendingProps,i=e!==null?e.memoizedProps:null,l=s.children,vu(n,s)?l=null:i!==null&&vu(n,i)&&(t.flags|=32),t.memoizedState!==null&&(n=sc(e,t,Wg,null,null,a),Mn._currentValue=n),Os(e,t),je(e,t,l,a),t.child;case 6:return e===null&&K&&((e=a=ue)&&(a=kv(a,t.pendingProps,vt),a!==null?(t.stateNode=a,De=t,ue=null,e=!0):e=!1),e||Ca(t)),null;case 13:return Oh(e,t,a);case 4:return Cs(t,t.stateNode.containerInfo),l=t.pendingProps,e===null?t.child=Ol(t,null,l,a):je(e,t,l,a),t.child;case 11:return Mo(e,t,t.type,t.pendingProps,a);case 7:return je(e,t,t.pendingProps,a),t.child;case 8:return je(e,t,t.pendingProps.children,a),t.child;case 12:return je(e,t,t.pendingProps.children,a),t.child;case 10:return l=t.pendingProps,Pt(t,t.type,l.value),je(e,t,l.children,a),t.child;case 9:return n=t.type._context,l=t.pendingProps.children,za(t),n=Oe(n),l=l(n),t.flags|=1,je(e,t,l,a),t.child;case 14:return ko(e,t,t.type,t.pendingProps,a);case 15:return Eh(e,t,t.type,t.pendingProps,a);case 19:return Dh(e,t,a);case 31:return l=t.pendingProps,a=t.mode,l={mode:l.mode,children:l.children},e===null?(a=Ws(l,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=kt(e.child,l),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return Ah(e,t,a);case 24:return za(t),l=Oe(ve),e===null?(n=tc(),n===null&&(n=te,s=ec(),n.pooledCache=s,s.refCount++,s!==null&&(n.pooledCacheLanes|=a),n=s),t.memoizedState={parent:l,cache:n},ac(t),Pt(t,ve,n)):(e.lanes&a&&(Pr(e,t),mn(t,null,null,a),hn()),n=e.memoizedState,s=t.memoizedState,n.parent!==l?(n={parent:l,cache:l},t.memoizedState=n,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=n),Pt(t,ve,l)):(l=s.cache,Pt(t,ve,l),l!==n.cache&&Kr(t,[ve],a,!0))),je(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(T(156,t.tag))}function jt(e){e.flags|=4}function Lo(e,t){if(t.type!=="stylesheet"||t.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!x0(t)){if(t=rt.current,t!==null&&((X&4194048)===X?xt!==null:(X&62914560)!==X&&!(X&536870912)||t!==xt))throw dn=Jr,zf;e.flags|=8192}}function hs(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?af():536870912,e.lanes|=t,Dl|=t)}function Pl(e,t){if(!K)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function re(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(t)for(var n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags&65011712,l|=n.flags&65011712,n.return=e,n=n.sibling;else for(n=e.child;n!==null;)a|=n.lanes|n.childLanes,l|=n.subtreeFlags,l|=n.flags,n.return=e,n=n.sibling;return e.subtreeFlags|=l,e.childLanes=a,t}function iv(e,t,a){var l=t.pendingProps;switch(Fu(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return re(t),null;case 1:return re(t),null;case 3:return a=t.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),t.memoizedState.cache!==l&&(t.flags|=2048),Ct(ve),wl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Zl(t)?jt(t):e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vo())),re(t),null;case 26:return a=t.memoizedState,e===null?(jt(t),a!==null?(re(t),Lo(t,a)):(re(t),t.flags&=-16777217)):a?a!==e.memoizedState?(jt(t),re(t),Lo(t,a)):(re(t),t.flags&=-16777217):(e.memoizedProps!==l&&jt(t),re(t),t.flags&=-16777217),null;case 27:zs(t),a=sa.current;var n=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==l&&jt(t);else{if(!l){if(t.stateNode===null)throw Error(T(166));return re(t),null}e=bt.current,Zl(t)?mo(t):(e=y0(n,l,a),t.stateNode=e,jt(t))}return re(t),null;case 5:if(zs(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==l&&jt(t);else{if(!l){if(t.stateNode===null)throw Error(T(166));return re(t),null}if(e=bt.current,Zl(t))mo(t);else{switch(n=ni(sa.current),e){case 1:e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=n.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=n.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=n.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof l.is=="string"?n.createElement("select",{is:l.is}):n.createElement("select"),l.multiple?e.multiple=!0:l.size&&(e.size=l.size);break;default:e=typeof l.is=="string"?n.createElement(a,{is:l.is}):n.createElement(a)}}e[Ae]=t,e[Le]=l;e:for(n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.tag!==27&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break e;for(;n.sibling===null;){if(n.return===null||n.return===t)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}t.stateNode=e;e:switch(Te(e,a,l),a){case"button":case"input":case"select":case"textarea":e=!!l.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&jt(t)}}return re(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==l&&jt(t);else{if(typeof l!="string"&&t.stateNode===null)throw Error(T(166));if(e=sa.current,Zl(t)){if(e=t.stateNode,a=t.memoizedProps,l=null,n=De,n!==null)switch(n.tag){case 27:case 5:l=n.memoizedProps}e[Ae]=t,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||m0(e.nodeValue,a)),e||Ca(t)}else e=ni(e).createTextNode(l),e[Ae]=t,t.stateNode=e}return re(t),null;case 13:if(l=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(n=Zl(t),l!==null&&l.dehydrated!==null){if(e===null){if(!n)throw Error(T(318));if(n=t.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(T(317));n[Ae]=t}else Qn(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;re(t),n=!1}else n=vo(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=n),n=!0;if(!n)return t.flags&256?(Mt(t),t):(Mt(t),null)}if(Mt(t),t.flags&128)return t.lanes=a,t;if(a=l!==null,e=e!==null&&e.memoizedState!==null,a){l=t.child,n=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(n=l.alternate.memoizedState.cachePool.pool);var s=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(s=l.memoizedState.cachePool.pool),s!==n&&(l.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),hs(t,t.updateQueue),re(t),null;case 4:return wl(),e===null&&jc(t.stateNode.containerInfo),re(t),null;case 10:return Ct(t.type),re(t),null;case 19:if(we(ye),n=t.memoizedState,n===null)return re(t),null;if(l=(t.flags&128)!==0,s=n.rendering,s===null)if(l)Pl(n,!1);else{if(ce!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=Zs(e),s!==null){for(t.flags|=128,Pl(n,!1),e=s.updateQueue,t.updateQueue=e,hs(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Uf(a,e),a=a.sibling;return ie(ye,ye.current&1|2),t.child}e=e.sibling}n.tail!==null&&pt()>Fs&&(t.flags|=128,l=!0,Pl(n,!1),t.lanes=4194304)}else{if(!l)if(e=Zs(s),e!==null){if(t.flags|=128,l=!0,e=e.updateQueue,t.updateQueue=e,hs(t,e),Pl(n,!0),n.tail===null&&n.tailMode==="hidden"&&!s.alternate&&!K)return re(t),null}else 2*pt()-n.renderingStartTime>Fs&&a!==536870912&&(t.flags|=128,l=!0,Pl(n,!1),t.lanes=4194304);n.isBackwards?(s.sibling=t.child,t.child=s):(e=n.last,e!==null?e.sibling=s:t.child=s,n.last=s)}return n.tail!==null?(t=n.tail,n.rendering=t,n.tail=t.sibling,n.renderingStartTime=pt(),t.sibling=null,e=ye.current,ie(ye,l?e&1|2:e&1),t):(re(t),null);case 22:case 23:return Mt(t),lc(),l=t.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(t.flags|=8192):l&&(t.flags|=8192),l?a&536870912&&!(t.flags&128)&&(re(t),t.subtreeFlags&6&&(t.flags|=8192)):re(t),a=t.updateQueue,a!==null&&hs(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(l=t.memoizedState.cachePool.pool),l!==a&&(t.flags|=2048),e!==null&&we(Ua),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),Ct(ve),re(t),null;case 25:return null;case 30:return null}throw Error(T(156,t.tag))}function rv(e,t){switch(Fu(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ct(ve),wl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return zs(t),null;case 13:if(Mt(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(T(340));Qn()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return we(ye),null;case 4:return wl(),null;case 10:return Ct(t.type),null;case 22:case 23:return Mt(t),lc(),e!==null&&we(Ua),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return Ct(ve),null;case 25:return null;default:return null}}function Uh(e,t){switch(Fu(t),t.tag){case 3:Ct(ve),wl();break;case 26:case 27:case 5:zs(t);break;case 4:wl();break;case 13:Mt(t);break;case 19:we(ye);break;case 10:Ct(t.type);break;case 22:case 23:Mt(t),lc(),e!==null&&we(Ua);break;case 24:Ct(ve)}}function Pn(e,t){try{var a=t.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var n=l.next;a=n;do{if((a.tag&e)===e){l=void 0;var s=a.create,i=a.inst;l=s(),i.destroy=l}a=a.next}while(a!==n)}}catch(r){F(t,t.return,r)}}function ma(e,t,a){try{var l=t.updateQueue,n=l!==null?l.lastEffect:null;if(n!==null){var s=n.next;l=s;do{if((l.tag&e)===e){var i=l.inst,r=i.destroy;if(r!==void 0){i.destroy=void 0,n=t;var u=a,o=r;try{o()}catch(d){F(n,u,d)}}}l=l.next}while(l!==s)}}catch(d){F(t,t.return,d)}}function Mh(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{Hf(t,a)}catch(l){F(e,e.return,l)}}}function kh(e,t,a){a.props=Ba(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){F(e,t,l)}}function vn(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(n){F(e,t,n)}}function yt(e,t){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(n){F(e,t,n)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(n){F(e,t,n)}else a.current=null}function Ch(e){var t=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(n){F(e,e.return,n)}}function cr(e,t,a){try{var l=e.stateNode;Av(l,e.type,a,t),l[Le]=t}catch(n){F(e,e.return,n)}}function zh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&ya(e.type)||e.tag===4}function or(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&ya(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function iu(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Ai));else if(l!==4&&(l===27&&ya(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(iu(e,t,a),e=e.sibling;e!==null;)iu(e,t,a),e=e.sibling}function Is(e,t,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(l!==4&&(l===27&&ya(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Is(e,t,a),e=e.sibling;e!==null;)Is(e,t,a),e=e.sibling}function qh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,n=t.attributes;n.length;)t.removeAttributeNode(n[0]);Te(t,l,a),t[Ae]=e,t[Le]=a}catch(s){F(e,e.return,s)}}var At=!1,de=!1,dr=!1,$o=typeof WeakSet=="function"?WeakSet:Set,xe=null;function uv(e,t){if(e=e.containerInfo,mu=ui,e=jf(e),Zu(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var n=l.anchorOffset,s=l.focusNode;l=l.focusOffset;try{a.nodeType,s.nodeType}catch{a=null;break e}var i=0,r=-1,u=-1,o=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==a||n!==0&&f.nodeType!==3||(r=i+n),f!==s||l!==0&&f.nodeType!==3||(u=i+l),f.nodeType===3&&(i+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===a&&++o===n&&(r=i),h===s&&++d===l&&(u=i),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}a=r===-1||u===-1?null:{start:r,end:u}}else a=null}a=a||{start:0,end:0}}else a=null;for(gu={focusedElem:e,selectionRange:a},ui=!1,xe=t;xe!==null;)if(t=xe,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,xe=e;else for(;xe!==null;){switch(t=xe,s=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&s!==null){e=void 0,a=t,n=s.memoizedProps,s=s.memoizedState,l=a.stateNode;try{var w=Ba(a.type,n,a.elementType===a.type);e=l.getSnapshotBeforeUpdate(w,s),l.__reactInternalSnapshotBeforeUpdate=e}catch(N){F(a,a.return,N)}}break;case 3:if(e&1024){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)yu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":yu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(T(163))}if(e=t.sibling,e!==null){e.return=t.return,xe=e;break}xe=t.return}}function Bh(e,t,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Yt(e,a),l&4&&Pn(5,a);break;case 1:if(Yt(e,a),l&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(i){F(a,a.return,i)}else{var n=Ba(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(n,t,e.__reactInternalSnapshotBeforeUpdate)}catch(i){F(a,a.return,i)}}l&64&&Mh(a),l&512&&vn(a,a.return);break;case 3:if(Yt(e,a),l&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{Hf(e,t)}catch(i){F(a,a.return,i)}}break;case 27:t===null&&l&4&&qh(a);case 26:case 5:Yt(e,a),t===null&&l&4&&Ch(a),l&512&&vn(a,a.return);break;case 12:Yt(e,a);break;case 13:Yt(e,a),l&4&&$h(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yv.bind(null,a),Cv(e,a))));break;case 22:if(l=a.memoizedState!==null||At,!l){t=t!==null&&t.memoizedState!==null||de,n=At;var s=de;At=l,(de=t)&&!s?Xt(e,a,(a.subtreeFlags&8772)!==0):Yt(e,a),At=n,de=s}break;case 30:break;default:Yt(e,a)}}function Hh(e){var t=e.alternate;t!==null&&(e.alternate=null,Hh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&Gu(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var ne=null,ze=!1;function Nt(e,t,a){for(a=a.child;a!==null;)Lh(e,t,a),a=a.sibling}function Lh(e,t,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(Hn,a)}catch{}switch(a.tag){case 26:de||yt(a,t),Nt(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:de||yt(a,t);var l=ne,n=ze;ya(a.type)&&(ne=a.stateNode,ze=!1),Nt(e,t,a),xn(a.stateNode),ne=l,ze=n;break;case 5:de||yt(a,t);case 6:if(l=ne,n=ze,ne=null,Nt(e,t,a),ne=l,ze=n,ne!==null)if(ze)try{(ne.nodeType===9?ne.body:ne.nodeName==="HTML"?ne.ownerDocument.body:ne).removeChild(a.stateNode)}catch(s){F(a,t,s)}else try{ne.removeChild(a.stateNode)}catch(s){F(a,t,s)}break;case 18:ne!==null&&(ze?(e=ne,Fo(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),zn(e)):Fo(ne,a.stateNode));break;case 4:l=ne,n=ze,ne=a.stateNode.containerInfo,ze=!0,Nt(e,t,a),ne=l,ze=n;break;case 0:case 11:case 14:case 15:de||ma(2,a,t),de||ma(4,a,t),Nt(e,t,a);break;case 1:de||(yt(a,t),l=a.stateNode,typeof l.componentWillUnmount=="function"&&kh(a,t,l)),Nt(e,t,a);break;case 21:Nt(e,t,a);break;case 22:de=(l=de)||a.memoizedState!==null,Nt(e,t,a),de=l;break;default:Nt(e,t,a)}}function $h(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{zn(e)}catch(a){F(t,t.return,a)}}function cv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new $o),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new $o),t;default:throw Error(T(435,e.tag))}}function fr(e,t){var a=cv(e);t.forEach(function(l){var n=bv.bind(null,e,l);a.has(l)||(a.add(l),l.then(n,n))})}function Ye(e,t){var a=t.deletions;if(a!==null)for(var l=0;l<a.length;l++){var n=a[l],s=e,i=t,r=i;e:for(;r!==null;){switch(r.tag){case 27:if(ya(r.type)){ne=r.stateNode,ze=!1;break e}break;case 5:ne=r.stateNode,ze=!1;break e;case 3:case 4:ne=r.stateNode.containerInfo,ze=!0;break e}r=r.return}if(ne===null)throw Error(T(160));Lh(s,i,n),ne=null,ze=!1,s=n.alternate,s!==null&&(s.return=null),n.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Gh(t,e),t=t.sibling}var dt=null;function Gh(e,t){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ye(t,e),Qe(e),l&4&&(ma(3,e,e.return),Pn(3,e),ma(5,e,e.return));break;case 1:Ye(t,e),Qe(e),l&512&&(de||a===null||yt(a,a.return)),l&64&&At&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var n=dt;if(Ye(t,e),Qe(e),l&512&&(de||a===null||yt(a,a.return)),l&4){var s=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,n=n.ownerDocument||n;t:switch(l){case"title":s=n.getElementsByTagName("title")[0],(!s||s[Gn]||s[Ae]||s.namespaceURI==="http://www.w3.org/2000/svg"||s.hasAttribute("itemprop"))&&(s=n.createElement(l),n.head.insertBefore(s,n.querySelector("head > title"))),Te(s,l,a),s[Ae]=e,_e(s),l=s;break e;case"link":var i=nd("link","href",n).get(l+(a.href||""));if(i){for(var r=0;r<i.length;r++)if(s=i[r],s.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&s.getAttribute("rel")===(a.rel==null?null:a.rel)&&s.getAttribute("title")===(a.title==null?null:a.title)&&s.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){i.splice(r,1);break t}}s=n.createElement(l),Te(s,l,a),n.head.appendChild(s);break;case"meta":if(i=nd("meta","content",n).get(l+(a.content||""))){for(r=0;r<i.length;r++)if(s=i[r],s.getAttribute("content")===(a.content==null?null:""+a.content)&&s.getAttribute("name")===(a.name==null?null:a.name)&&s.getAttribute("property")===(a.property==null?null:a.property)&&s.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&s.getAttribute("charset")===(a.charSet==null?null:a.charSet)){i.splice(r,1);break t}}s=n.createElement(l),Te(s,l,a),n.head.appendChild(s);break;default:throw Error(T(468,l))}s[Ae]=e,_e(s),l=s}e.stateNode=l}else sd(n,e.type,e.stateNode);else e.stateNode=ld(n,l,e.memoizedProps);else s!==l?(s===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):s.count--,l===null?sd(n,e.type,e.stateNode):ld(n,l,e.memoizedProps)):l===null&&e.stateNode!==null&&cr(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ye(t,e),Qe(e),l&512&&(de||a===null||yt(a,a.return)),a!==null&&l&4&&cr(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ye(t,e),Qe(e),l&512&&(de||a===null||yt(a,a.return)),e.flags&32){n=e.stateNode;try{Nl(n,"")}catch(m){F(e,e.return,m)}}l&4&&e.stateNode!=null&&(n=e.memoizedProps,cr(e,n,a!==null?a.memoizedProps:n)),l&1024&&(dr=!0);break;case 6:if(Ye(t,e),Qe(e),l&4){if(e.stateNode===null)throw Error(T(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(m){F(e,e.return,m)}}break;case 3:if(Us=null,n=dt,dt=si(t.containerInfo),Ye(t,e),dt=n,Qe(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{zn(t.containerInfo)}catch(m){F(e,e.return,m)}dr&&(dr=!1,Yh(e));break;case 4:l=dt,dt=si(e.stateNode.containerInfo),Ye(t,e),Qe(e),dt=l;break;case 12:Ye(t,e),Qe(e);break;case 13:Ye(t,e),Qe(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(_c=pt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fr(e,l)));break;case 22:n=e.memoizedState!==null;var u=a!==null&&a.memoizedState!==null,o=At,d=de;if(At=o||n,de=d||u,Ye(t,e),de=d,At=o,Qe(e),l&8192)e:for(t=e.stateNode,t._visibility=n?t._visibility&-2:t._visibility|1,n&&(a===null||u||At||de||Na(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){u=a=t;try{if(s=u.stateNode,n)i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none";else{r=u.stateNode;var f=u.memoizedProps.style,h=f!=null&&f.hasOwnProperty("display")?f.display:null;r.style.display=h==null||typeof h=="boolean"?"":(""+h).trim()}}catch(m){F(u,u.return,m)}}}else if(t.tag===6){if(a===null){u=t;try{u.stateNode.nodeValue=n?"":u.memoizedProps}catch(m){F(u,u.return,m)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,fr(e,a))));break;case 19:Ye(t,e),Qe(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,fr(e,l)));break;case 30:break;case 21:break;default:Ye(t,e),Qe(e)}}function Qe(e){var t=e.flags;if(t&2){try{for(var a,l=e.return;l!==null;){if(zh(l)){a=l;break}l=l.return}if(a==null)throw Error(T(160));switch(a.tag){case 27:var n=a.stateNode,s=or(e);Is(e,s,n);break;case 5:var i=a.stateNode;a.flags&32&&(Nl(i,""),a.flags&=-33);var r=or(e);Is(e,r,i);break;case 3:case 4:var u=a.stateNode.containerInfo,o=or(e);iu(e,o,u);break;default:throw Error(T(161))}}catch(d){F(e,e.return,d)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Yh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Yh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function Yt(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Bh(e,t.alternate,t),t=t.sibling}function Na(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:ma(4,t,t.return),Na(t);break;case 1:yt(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&kh(t,t.return,a),Na(t);break;case 27:xn(t.stateNode);case 26:case 5:yt(t,t.return),Na(t);break;case 22:t.memoizedState===null&&Na(t);break;case 30:Na(t);break;default:Na(t)}e=e.sibling}}function Xt(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var l=t.alternate,n=e,s=t,i=s.flags;switch(s.tag){case 0:case 11:case 15:Xt(n,s,a),Pn(4,s);break;case 1:if(Xt(n,s,a),l=s,n=l.stateNode,typeof n.componentDidMount=="function")try{n.componentDidMount()}catch(o){F(l,l.return,o)}if(l=s,n=l.updateQueue,n!==null){var r=l.stateNode;try{var u=n.shared.hiddenCallbacks;if(u!==null)for(n.shared.hiddenCallbacks=null,n=0;n<u.length;n++)Bf(u[n],r)}catch(o){F(l,l.return,o)}}a&&i&64&&Mh(s),vn(s,s.return);break;case 27:qh(s);case 26:case 5:Xt(n,s,a),a&&l===null&&i&4&&Ch(s),vn(s,s.return);break;case 12:Xt(n,s,a);break;case 13:Xt(n,s,a),a&&i&4&&$h(n,s);break;case 22:s.memoizedState===null&&Xt(n,s,a),vn(s,s.return);break;case 30:break;default:Xt(n,s,a)}t=t.sibling}}function yc(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Vn(a))}function bc(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vn(e))}function gt(e,t,a,l){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Qh(e,t,a,l),t=t.sibling}function Qh(e,t,a,l){var n=t.flags;switch(t.tag){case 0:case 11:case 15:gt(e,t,a,l),n&2048&&Pn(9,t);break;case 1:gt(e,t,a,l);break;case 3:gt(e,t,a,l),n&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&Vn(e)));break;case 12:if(n&2048){gt(e,t,a,l),e=t.stateNode;try{var s=t.memoizedProps,i=s.id,r=s.onPostCommit;typeof r=="function"&&r(i,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(u){F(t,t.return,u)}}else gt(e,t,a,l);break;case 13:gt(e,t,a,l);break;case 23:break;case 22:s=t.stateNode,i=t.alternate,t.memoizedState!==null?s._visibility&2?gt(e,t,a,l):yn(e,t):s._visibility&2?gt(e,t,a,l):(s._visibility|=2,Fa(e,t,a,l,(t.subtreeFlags&10256)!==0)),n&2048&&yc(i,t);break;case 24:gt(e,t,a,l),n&2048&&bc(t.alternate,t);break;default:gt(e,t,a,l)}}function Fa(e,t,a,l,n){for(n=n&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var s=e,i=t,r=a,u=l,o=i.flags;switch(i.tag){case 0:case 11:case 15:Fa(s,i,r,u,n),Pn(8,i);break;case 23:break;case 22:var d=i.stateNode;i.memoizedState!==null?d._visibility&2?Fa(s,i,r,u,n):yn(s,i):(d._visibility|=2,Fa(s,i,r,u,n)),n&&o&2048&&yc(i.alternate,i);break;case 24:Fa(s,i,r,u,n),n&&o&2048&&bc(i.alternate,i);break;default:Fa(s,i,r,u,n)}t=t.sibling}}function yn(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,l=t,n=l.flags;switch(l.tag){case 22:yn(a,l),n&2048&&yc(l.alternate,l);break;case 24:yn(a,l),n&2048&&bc(l.alternate,l);break;default:yn(a,l)}t=t.sibling}}var ln=8192;function Qa(e){if(e.subtreeFlags&ln)for(e=e.child;e!==null;)Xh(e),e=e.sibling}function Xh(e){switch(e.tag){case 26:Qa(e),e.flags&ln&&e.memoizedState!==null&&Zv(dt,e.memoizedState,e.memoizedProps);break;case 5:Qa(e);break;case 3:case 4:var t=dt;dt=si(e.stateNode.containerInfo),Qa(e),dt=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=ln,ln=16777216,Qa(e),ln=t):Qa(e));break;default:Qa(e)}}function Vh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Wl(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];xe=l,Zh(l,e)}Vh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Kh(e),e=e.sibling}function Kh(e){switch(e.tag){case 0:case 11:case 15:Wl(e),e.flags&2048&&ma(9,e,e.return);break;case 3:Wl(e);break;case 12:Wl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Ds(e)):Wl(e);break;default:Wl(e)}}function Ds(e){var t=e.deletions;if(e.flags&16){if(t!==null)for(var a=0;a<t.length;a++){var l=t[a];xe=l,Zh(l,e)}Vh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:ma(8,t,t.return),Ds(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Ds(t));break;default:Ds(t)}e=e.sibling}}function Zh(e,t){for(;xe!==null;){var a=xe;switch(a.tag){case 0:case 11:case 15:ma(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Vn(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,xe=l;else e:for(a=e;xe!==null;){l=xe;var n=l.sibling,s=l.return;if(Hh(l),l===a){xe=null;break e}if(n!==null){n.return=s,xe=n;break e}xe=s}}}var ov={getCacheForType:function(e){var t=Oe(ve),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},dv=typeof WeakMap=="function"?WeakMap:Map,P=0,te=null,Q=null,X=0,J=0,Xe=null,la=!1,Hl=!1,pc=!1,Ht=0,ce=0,ga=0,Ma=0,xc=0,st=0,Dl=0,bn=null,qe=null,ru=!1,_c=0,Fs=1/0,ei=null,ua=null,Ne=0,ca=null,Rl=null,Sl=0,uu=0,cu=null,Jh=null,pn=0,ou=null;function Je(){if(P&2&&X!==0)return X&-X;if(q.T!==null){var e=Tl;return e!==0?e:wc()}return sf()}function Ph(){st===0&&(st=!(X&536870912)||K?tf():536870912);var e=rt.current;return e!==null&&(e.flags|=32),st}function Pe(e,t,a){(e===te&&(J===2||J===9)||e.cancelPendingCommit!==null)&&(Ul(e,0),na(e,X,st,!1)),$n(e,a),(!(P&2)||e!==te)&&(e===te&&(!(P&2)&&(Ma|=a),ce===4&&na(e,X,st,!1)),St(e))}function Wh(e,t,a){if(P&6)throw Error(T(327));var l=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Ln(e,t),n=l?mv(e,t):hr(e,t,!0),s=l;do{if(n===0){Hl&&!l&&na(e,t,0,!1);break}else{if(a=e.current.alternate,s&&!fv(a)){n=hr(e,t,!1),s=!1;continue}if(n===2){if(s=t,e.errorRecoveryDisabledLanes&s)var i=0;else i=e.pendingLanes&-536870913,i=i!==0?i:i&536870912?536870912:0;if(i!==0){t=i;e:{var r=e;n=bn;var u=r.current.memoizedState.isDehydrated;if(u&&(Ul(r,i).flags|=256),i=hr(r,i,!1),i!==2){if(pc&&!u){r.errorRecoveryDisabledLanes|=s,Ma|=s,n=4;break e}s=qe,qe=n,s!==null&&(qe===null?qe=s:qe.push.apply(qe,s))}n=i}if(s=!1,n!==2)continue}}if(n===1){Ul(e,0),na(e,t,0,!0);break}e:{switch(l=e,s=n,s){case 0:case 1:throw Error(T(345));case 4:if((t&4194048)!==t)break;case 6:na(l,t,st,!la);break e;case 2:qe=null;break;case 3:case 5:break;default:throw Error(T(329))}if((t&62914560)===t&&(n=_c+300-pt(),10<n)){if(na(l,t,st,!la),gi(l,0,!0)!==0)break e;l.timeoutHandle=v0(Go.bind(null,l,a,qe,ei,ru,t,st,Ma,Dl,la,s,2,-0,0),n);break e}Go(l,a,qe,ei,ru,t,st,Ma,Dl,la,s,0,-0,0)}}break}while(!0);St(e)}function Go(e,t,a,l,n,s,i,r,u,o,d,f,h,m){if(e.timeoutHandle=-1,f=t.subtreeFlags,(f&8192||(f&16785408)===16785408)&&(Un={stylesheets:null,count:0,unsuspend:Kv},Xh(t),f=Jv(),f!==null)){e.cancelPendingCommit=f(Qo.bind(null,e,t,s,a,l,n,i,r,u,d,1,h,m)),na(e,s,i,!o);return}Qo(e,t,s,a,l,n,i,r,u)}function fv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var n=a[l],s=n.getSnapshot;n=n.value;try{if(!We(s(),n))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function na(e,t,a,l){t&=~xc,t&=~Ma,e.suspendedLanes|=t,e.pingedLanes&=~t,l&&(e.warmLanes|=t),l=e.expirationTimes;for(var n=t;0<n;){var s=31-Ze(n),i=1<<s;l[s]=-1,n&=~i}a!==0&&lf(e,a,t)}function Ni(){return P&6?!0:(Wn(0),!1)}function Sc(){if(Q!==null){if(J===0)var e=Q.return;else e=Q,Ut=Ga=null,uc(e),_l=null,On=0,e=Q;for(;e!==null;)Uh(e.alternate,e),e=e.return;Q=null}}function Ul(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Dv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Sc(),te=e,Q=a=kt(e.current,null),X=t,J=0,Xe=null,la=!1,Hl=Ln(e,t),pc=!1,Dl=st=xc=Ma=ga=ce=0,qe=bn=null,ru=!1,t&8&&(t|=t&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=t;0<l;){var n=31-Ze(l),s=1<<n;t|=e[n],l&=~s}return Ht=t,pi(),a}function Ih(e,t){$=null,q.H=Ks,t===Kn||t===_i?(t=xo(),J=3):t===zf?(t=xo(),J=4):J=t===Th?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,Xe=t,Q===null&&(ce=1,Ps(e,nt(t,e.current)))}function Fh(){var e=q.H;return q.H=Ks,e===null?Ks:e}function e0(){var e=q.A;return q.A=ov,e}function du(){ce=4,la||(X&4194048)!==X&&rt.current!==null||(Hl=!0),!(ga&134217727)&&!(Ma&134217727)||te===null||na(te,X,st,!1)}function hr(e,t,a){var l=P;P|=2;var n=Fh(),s=e0();(te!==e||X!==t)&&(ei=null,Ul(e,t)),t=!1;var i=ce;e:do try{if(J!==0&&Q!==null){var r=Q,u=Xe;switch(J){case 8:Sc(),i=6;break e;case 3:case 2:case 9:case 6:rt.current===null&&(t=!0);var o=J;if(J=0,Xe=null,ml(e,r,u,o),a&&Hl){i=0;break e}break;default:o=J,J=0,Xe=null,ml(e,r,u,o)}}hv(),i=ce;break}catch(d){Ih(e,d)}while(!0);return t&&e.shellSuspendCounter++,Ut=Ga=null,P=l,q.H=n,q.A=s,Q===null&&(te=null,X=0,pi()),i}function hv(){for(;Q!==null;)t0(Q)}function mv(e,t){var a=P;P|=2;var l=Fh(),n=e0();te!==e||X!==t?(ei=null,Fs=pt()+500,Ul(e,t)):Hl=Ln(e,t);e:do try{if(J!==0&&Q!==null){t=Q;var s=Xe;t:switch(J){case 1:J=0,Xe=null,ml(e,t,s,1);break;case 2:case 9:if(po(s)){J=0,Xe=null,Yo(t);break}t=function(){J!==2&&J!==9||te!==e||(J=7),St(e)},s.then(t,t);break e;case 3:J=7;break e;case 4:J=5;break e;case 7:po(s)?(J=0,Xe=null,Yo(t)):(J=0,Xe=null,ml(e,t,s,7));break;case 5:var i=null;switch(Q.tag){case 26:i=Q.memoizedState;case 5:case 27:var r=Q;if(!i||x0(i)){J=0,Xe=null;var u=r.sibling;if(u!==null)Q=u;else{var o=r.return;o!==null?(Q=o,Ti(o)):Q=null}break t}}J=0,Xe=null,ml(e,t,s,5);break;case 6:J=0,Xe=null,ml(e,t,s,6);break;case 8:Sc(),ce=6;break e;default:throw Error(T(462))}}gv();break}catch(d){Ih(e,d)}while(!0);return Ut=Ga=null,q.H=l,q.A=n,P=a,Q!==null?0:(te=null,X=0,pi(),ce)}function gv(){for(;Q!==null&&!qm();)t0(Q)}function t0(e){var t=Rh(e.alternate,e,Ht);e.memoizedProps=e.pendingProps,t===null?Ti(e):Q=t}function Yo(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=zo(a,t,t.pendingProps,t.type,void 0,X);break;case 11:t=zo(a,t,t.pendingProps,t.type.render,t.ref,X);break;case 5:uc(t);default:Uh(a,t),t=Q=Uf(t,Ht),t=Rh(a,t,Ht)}e.memoizedProps=e.pendingProps,t===null?Ti(e):Q=t}function ml(e,t,a,l){Ut=Ga=null,uc(t),_l=null,On=0;var n=t.return;try{if(nv(e,n,t,a,X)){ce=1,Ps(e,nt(a,e.current)),Q=null;return}}catch(s){if(n!==null)throw Q=n,s;ce=1,Ps(e,nt(a,e.current)),Q=null;return}t.flags&32768?(K||l===1?e=!0:Hl||X&536870912?e=!1:(la=e=!0,(l===2||l===9||l===3||l===6)&&(l=rt.current,l!==null&&l.tag===13&&(l.flags|=16384))),a0(t,e)):Ti(t)}function Ti(e){var t=e;do{if(t.flags&32768){a0(t,la);return}e=t.return;var a=iv(t.alternate,t,Ht);if(a!==null){Q=a;return}if(t=t.sibling,t!==null){Q=t;return}Q=t=e}while(t!==null);ce===0&&(ce=5)}function a0(e,t){do{var a=rv(e.alternate,e);if(a!==null){a.flags&=32767,Q=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Q=e;return}Q=e=a}while(e!==null);ce=6,Q=null}function Qo(e,t,a,l,n,s,i,r,u){e.cancelPendingCommit=null;do Ei();while(Ne!==0);if(P&6)throw Error(T(327));if(t!==null){if(t===e.current)throw Error(T(177));if(s=t.lanes|t.childLanes,s|=Ju,Km(e,a,s,i,r,u),e===te&&(Q=te=null,X=0),Rl=t,ca=e,Sl=a,uu=s,cu=n,Jh=l,t.subtreeFlags&10256||t.flags&10256?(e.callbackNode=null,e.callbackPriority=0,pv(qs,function(){return r0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(t.flags&13878)!==0,t.subtreeFlags&13878||l){l=q.T,q.T=null,n=Z.p,Z.p=2,i=P,P|=4;try{uv(e,t,a)}finally{P=i,Z.p=n,q.T=l}}Ne=1,l0(),n0(),s0()}}function l0(){if(Ne===1){Ne=0;var e=ca,t=Rl,a=(t.flags&13878)!==0;if(t.subtreeFlags&13878||a){a=q.T,q.T=null;var l=Z.p;Z.p=2;var n=P;P|=4;try{Gh(t,e);var s=gu,i=jf(e.containerInfo),r=s.focusedElem,u=s.selectionRange;if(i!==r&&r&&r.ownerDocument&&wf(r.ownerDocument.documentElement,r)){if(u!==null&&Zu(r)){var o=u.start,d=u.end;if(d===void 0&&(d=o),"selectionStart"in r)r.selectionStart=o,r.selectionEnd=Math.min(d,r.value.length);else{var f=r.ownerDocument||document,h=f&&f.defaultView||window;if(h.getSelection){var m=h.getSelection(),w=r.textContent.length,N=Math.min(u.start,w),O=u.end===void 0?N:Math.min(u.end,w);!m.extend&&N>O&&(i=O,O=N,N=i);var y=oo(r,N),v=oo(r,O);if(y&&v&&(m.rangeCount!==1||m.anchorNode!==y.node||m.anchorOffset!==y.offset||m.focusNode!==v.node||m.focusOffset!==v.offset)){var g=f.createRange();g.setStart(y.node,y.offset),m.removeAllRanges(),N>O?(m.addRange(g),m.extend(v.node,v.offset)):(g.setEnd(v.node,v.offset),m.addRange(g))}}}}for(f=[],m=r;m=m.parentNode;)m.nodeType===1&&f.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<f.length;r++){var x=f[r];x.element.scrollLeft=x.left,x.element.scrollTop=x.top}}ui=!!mu,gu=mu=null}finally{P=n,Z.p=l,q.T=a}}e.current=t,Ne=2}}function n0(){if(Ne===2){Ne=0;var e=ca,t=Rl,a=(t.flags&8772)!==0;if(t.subtreeFlags&8772||a){a=q.T,q.T=null;var l=Z.p;Z.p=2;var n=P;P|=4;try{Bh(e,t.alternate,t)}finally{P=n,Z.p=l,q.T=a}}Ne=3}}function s0(){if(Ne===4||Ne===3){Ne=0,Bm();var e=ca,t=Rl,a=Sl,l=Jh;t.subtreeFlags&10256||t.flags&10256?Ne=5:(Ne=0,Rl=ca=null,i0(e,e.pendingLanes));var n=e.pendingLanes;if(n===0&&(ua=null),$u(a),t=t.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(Hn,t,void 0,(t.current.flags&128)===128)}catch{}if(l!==null){t=q.T,n=Z.p,Z.p=2,q.T=null;try{for(var s=e.onRecoverableError,i=0;i<l.length;i++){var r=l[i];s(r.value,{componentStack:r.stack})}}finally{q.T=t,Z.p=n}}Sl&3&&Ei(),St(e),n=e.pendingLanes,a&4194090&&n&42?e===ou?pn++:(pn=0,ou=e):pn=0,Wn(0)}}function i0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,Vn(t)))}function Ei(e){return l0(),n0(),s0(),r0()}function r0(){if(Ne!==5)return!1;var e=ca,t=uu;uu=0;var a=$u(Sl),l=q.T,n=Z.p;try{Z.p=32>a?32:a,q.T=null,a=cu,cu=null;var s=ca,i=Sl;if(Ne=0,Rl=ca=null,Sl=0,P&6)throw Error(T(331));var r=P;if(P|=4,Kh(s.current),Qh(s,s.current,i,a),P=r,Wn(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(Hn,s)}catch{}return!0}finally{Z.p=n,q.T=l,i0(e,t)}}function Xo(e,t,a){t=nt(a,t),t=lu(e.stateNode,t,2),e=ra(e,t,2),e!==null&&($n(e,2),St(e))}function F(e,t,a){if(e.tag===3)Xo(e,e,a);else for(;t!==null;){if(t.tag===3){Xo(t,e,a);break}else if(t.tag===1){var l=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ua===null||!ua.has(l))){e=nt(a,e),a=jh(2),l=ra(t,a,2),l!==null&&(Nh(a,l,t,e),$n(l,2),St(l));break}}t=t.return}}function mr(e,t,a){var l=e.pingCache;if(l===null){l=e.pingCache=new dv;var n=new Set;l.set(t,n)}else n=l.get(t),n===void 0&&(n=new Set,l.set(t,n));n.has(a)||(pc=!0,n.add(a),e=vv.bind(null,e,t,a),t.then(e,e))}function vv(e,t,a){var l=e.pingCache;l!==null&&l.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,te===e&&(X&a)===a&&(ce===4||ce===3&&(X&62914560)===X&&300>pt()-_c?!(P&2)&&Ul(e,0):xc|=a,Dl===X&&(Dl=0)),St(e)}function u0(e,t){t===0&&(t=af()),e=Bl(e,t),e!==null&&($n(e,t),St(e))}function yv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),u0(e,a)}function bv(e,t){var a=0;switch(e.tag){case 13:var l=e.stateNode,n=e.memoizedState;n!==null&&(a=n.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(T(314))}l!==null&&l.delete(t),u0(e,a)}function pv(e,t){return Hu(e,t)}var ti=null,el=null,fu=!1,ai=!1,gr=!1,ka=0;function St(e){e!==el&&e.next===null&&(el===null?ti=el=e:el=el.next=e),ai=!0,fu||(fu=!0,_v())}function Wn(e,t){if(!gr&&ai){gr=!0;do for(var a=!1,l=ti;l!==null;){if(e!==0){var n=l.pendingLanes;if(n===0)var s=0;else{var i=l.suspendedLanes,r=l.pingedLanes;s=(1<<31-Ze(42|e)+1)-1,s&=n&~(i&~r),s=s&201326741?s&201326741|1:s?s|2:0}s!==0&&(a=!0,Vo(l,s))}else s=X,s=gi(l,l===te?s:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),!(s&3)||Ln(l,s)||(a=!0,Vo(l,s));l=l.next}while(a);gr=!1}}function xv(){c0()}function c0(){ai=fu=!1;var e=0;ka!==0&&(Ov()&&(e=ka),ka=0);for(var t=pt(),a=null,l=ti;l!==null;){var n=l.next,s=o0(l,t);s===0?(l.next=null,a===null?ti=n:a.next=n,n===null&&(el=a)):(a=l,(e!==0||s&3)&&(ai=!0)),l=n}Wn(e)}function o0(e,t){for(var a=e.suspendedLanes,l=e.pingedLanes,n=e.expirationTimes,s=e.pendingLanes&-62914561;0<s;){var i=31-Ze(s),r=1<<i,u=n[i];u===-1?(!(r&a)||r&l)&&(n[i]=Vm(r,t)):u<=t&&(e.expiredLanes|=r),s&=~r}if(t=te,a=X,a=gi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===t&&(J===2||J===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&$i(l),e.callbackNode=null,e.callbackPriority=0;if(!(a&3)||Ln(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(l!==null&&$i(l),$u(a)){case 2:case 8:a=Fd;break;case 32:a=qs;break;case 268435456:a=ef;break;default:a=qs}return l=d0.bind(null,e),a=Hu(a,l),e.callbackPriority=t,e.callbackNode=a,t}return l!==null&&l!==null&&$i(l),e.callbackPriority=2,e.callbackNode=null,2}function d0(e,t){if(Ne!==0&&Ne!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ei()&&e.callbackNode!==a)return null;var l=X;return l=gi(e,e===te?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(Wh(e,l,t),o0(e,pt()),e.callbackNode!=null&&e.callbackNode===a?d0.bind(null,e):null)}function Vo(e,t){if(Ei())return null;Wh(e,t,!0)}function _v(){Rv(function(){P&6?Hu(Id,xv):c0()})}function wc(){return ka===0&&(ka=tf()),ka}function Ko(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Ss(""+e)}function Zo(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Sv(e,t,a,l,n){if(t==="submit"&&a&&a.stateNode===n){var s=Ko((n[Le]||null).action),i=l.submitter;i&&(t=(t=i[Le]||null)?Ko(t.formAction):i.getAttribute("formAction"),t!==null&&(s=t,i=null));var r=new vi("action","action",null,l,n);e.push({event:r,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(ka!==0){var u=i?Zo(n,i):new FormData(n);tu(a,{pending:!0,data:u,method:n.method,action:s},null,u)}}else typeof s=="function"&&(r.preventDefault(),u=i?Zo(n,i):new FormData(n),tu(a,{pending:!0,data:u,method:n.method,action:s},s,u))},currentTarget:n}]})}}for(var vr=0;vr<Yr.length;vr++){var yr=Yr[vr],wv=yr.toLowerCase(),jv=yr[0].toUpperCase()+yr.slice(1);mt(wv,"on"+jv)}mt(Tf,"onAnimationEnd");mt(Ef,"onAnimationIteration");mt(Af,"onAnimationStart");mt("dblclick","onDoubleClick");mt("focusin","onFocus");mt("focusout","onBlur");mt($g,"onTransitionRun");mt(Gg,"onTransitionStart");mt(Yg,"onTransitionCancel");mt(Of,"onTransitionEnd");jl("onMouseEnter",["mouseout","mouseover"]);jl("onMouseLeave",["mouseout","mouseover"]);jl("onPointerEnter",["pointerout","pointerover"]);jl("onPointerLeave",["pointerout","pointerover"]);Ha("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ha("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ha("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ha("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ha("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dn="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Nv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Dn));function f0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],n=l.event;l=l.listeners;e:{var s=void 0;if(t)for(var i=l.length-1;0<=i;i--){var r=l[i],u=r.instance,o=r.currentTarget;if(r=r.listener,u!==s&&n.isPropagationStopped())break e;s=r,n.currentTarget=o;try{s(n)}catch(d){Js(d)}n.currentTarget=null,s=u}else for(i=0;i<l.length;i++){if(r=l[i],u=r.instance,o=r.currentTarget,r=r.listener,u!==s&&n.isPropagationStopped())break e;s=r,n.currentTarget=o;try{s(n)}catch(d){Js(d)}n.currentTarget=null,s=u}}}}function Y(e,t){var a=t[zr];a===void 0&&(a=t[zr]=new Set);var l=e+"__bubble";a.has(l)||(h0(t,e,2,!1),a.add(l))}function br(e,t,a){var l=0;t&&(l|=4),h0(a,e,l,t)}var ms="_reactListening"+Math.random().toString(36).slice(2);function jc(e){if(!e[ms]){e[ms]=!0,rf.forEach(function(a){a!=="selectionchange"&&(Nv.has(a)||br(a,!1,e),br(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[ms]||(t[ms]=!0,br("selectionchange",!1,t))}}function h0(e,t,a,l){switch(N0(t)){case 2:var n=Iv;break;case 8:n=Fv;break;default:n=Ac}a=n.bind(null,t,a,e),n=void 0,!Lr||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(n=!0),l?n!==void 0?e.addEventListener(t,a,{capture:!0,passive:n}):e.addEventListener(t,a,!0):n!==void 0?e.addEventListener(t,a,{passive:n}):e.addEventListener(t,a,!1)}function pr(e,t,a,l,n){var s=l;if(!(t&1)&&!(t&2)&&l!==null)e:for(;;){if(l===null)return;var i=l.tag;if(i===3||i===4){var r=l.stateNode.containerInfo;if(r===n)break;if(i===4)for(i=l.return;i!==null;){var u=i.tag;if((u===3||u===4)&&i.stateNode.containerInfo===n)return;i=i.return}for(;r!==null;){if(i=sl(r),i===null)return;if(u=i.tag,u===5||u===6||u===26||u===27){l=s=i;continue e}r=r.parentNode}}l=l.return}gf(function(){var o=s,d=Qu(a),f=[];e:{var h=Df.get(e);if(h!==void 0){var m=vi,w=e;switch(e){case"keypress":if(js(a)===0)break e;case"keydown":case"keyup":m=pg;break;case"focusin":w="focus",m=Ji;break;case"focusout":w="blur",m=Ji;break;case"beforeblur":case"afterblur":m=Ji;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=eo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=rg;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=Sg;break;case Tf:case Ef:case Af:m=og;break;case Of:m=jg;break;case"scroll":case"scrollend":m=sg;break;case"wheel":m=Tg;break;case"copy":case"cut":case"paste":m=fg;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=ao;break;case"toggle":case"beforetoggle":m=Ag}var N=(t&4)!==0,O=!N&&(e==="scroll"||e==="scrollend"),y=N?h!==null?h+"Capture":null:h;N=[];for(var v=o,g;v!==null;){var x=v;if(g=x.stateNode,x=x.tag,x!==5&&x!==26&&x!==27||g===null||y===null||(x=jn(v,y),x!=null&&N.push(Rn(v,x,g))),O)break;v=v.return}0<N.length&&(h=new m(h,w,null,a,d),f.push({event:h,listeners:N}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&a!==Hr&&(w=a.relatedTarget||a.fromElement)&&(sl(w)||w[zl]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(w=a.relatedTarget||a.toElement,m=o,w=w?sl(w):null,w!==null&&(O=Bn(w),N=w.tag,w!==O||N!==5&&N!==27&&N!==6)&&(w=null)):(m=null,w=o),m!==w)){if(N=eo,x="onMouseLeave",y="onMouseEnter",v="mouse",(e==="pointerout"||e==="pointerover")&&(N=ao,x="onPointerLeave",y="onPointerEnter",v="pointer"),O=m==null?h:an(m),g=w==null?h:an(w),h=new N(x,v+"leave",m,a,d),h.target=O,h.relatedTarget=g,x=null,sl(d)===o&&(N=new N(y,v+"enter",w,a,d),N.target=g,N.relatedTarget=O,x=N),O=x,m&&w)t:{for(N=m,y=w,v=0,g=N;g;g=Xa(g))v++;for(g=0,x=y;x;x=Xa(x))g++;for(;0<v-g;)N=Xa(N),v--;for(;0<g-v;)y=Xa(y),g--;for(;v--;){if(N===y||y!==null&&N===y.alternate)break t;N=Xa(N),y=Xa(y)}N=null}else N=null;m!==null&&Jo(f,h,m,N,!1),w!==null&&O!==null&&Jo(f,O,w,N,!0)}}e:{if(h=o?an(o):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var E=io;else if(so(h))if(_f)E=Bg;else{E=zg;var R=Cg}else m=h.nodeName,!m||m.toLowerCase()!=="input"||h.type!=="checkbox"&&h.type!=="radio"?o&&Yu(o.elementType)&&(E=io):E=qg;if(E&&(E=E(e,o))){xf(f,E,a,d);break e}R&&R(e,h,o),e==="focusout"&&o&&h.type==="number"&&o.memoizedProps.value!=null&&Br(h,"number",h.value)}switch(R=o?an(o):window,e){case"focusin":(so(R)||R.contentEditable==="true")&&(ul=R,$r=o,cn=null);break;case"focusout":cn=$r=ul=null;break;case"mousedown":Gr=!0;break;case"contextmenu":case"mouseup":case"dragend":Gr=!1,fo(f,a,d);break;case"selectionchange":if(Lg)break;case"keydown":case"keyup":fo(f,a,d)}var D;if(Ku)e:{switch(e){case"compositionstart":var A="onCompositionStart";break e;case"compositionend":A="onCompositionEnd";break e;case"compositionupdate":A="onCompositionUpdate";break e}A=void 0}else rl?bf(e,a)&&(A="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(A="onCompositionStart");A&&(yf&&a.locale!=="ko"&&(rl||A!=="onCompositionStart"?A==="onCompositionEnd"&&rl&&(D=vf()):(aa=d,Xu="value"in aa?aa.value:aa.textContent,rl=!0)),R=li(o,A),0<R.length&&(A=new to(A,e,null,a,d),f.push({event:A,listeners:R}),D?A.data=D:(D=pf(a),D!==null&&(A.data=D)))),(D=Dg?Rg(e,a):Ug(e,a))&&(A=li(o,"onBeforeInput"),0<A.length&&(R=new to("onBeforeInput","beforeinput",null,a,d),f.push({event:R,listeners:A}),R.data=D)),Sv(f,e,o,a,d)}f0(f,t)})}function Rn(e,t,a){return{instance:e,listener:t,currentTarget:a}}function li(e,t){for(var a=t+"Capture",l=[];e!==null;){var n=e,s=n.stateNode;if(n=n.tag,n!==5&&n!==26&&n!==27||s===null||(n=jn(e,a),n!=null&&l.unshift(Rn(e,n,s)),n=jn(e,t),n!=null&&l.push(Rn(e,n,s))),e.tag===3)return l;e=e.return}return[]}function Xa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Jo(e,t,a,l,n){for(var s=t._reactName,i=[];a!==null&&a!==l;){var r=a,u=r.alternate,o=r.stateNode;if(r=r.tag,u!==null&&u===l)break;r!==5&&r!==26&&r!==27||o===null||(u=o,n?(o=jn(a,s),o!=null&&i.unshift(Rn(a,o,u))):n||(o=jn(a,s),o!=null&&i.push(Rn(a,o,u)))),a=a.return}i.length!==0&&e.push({event:t,listeners:i})}var Tv=/\r\n?/g,Ev=/\u0000|\uFFFD/g;function Po(e){return(typeof e=="string"?e:""+e).replace(Tv,`
`).replace(Ev,"")}function m0(e,t){return t=Po(t),Po(e)===t}function Ai(){}function W(e,t,a,l,n,s){switch(a){case"children":typeof l=="string"?t==="body"||t==="textarea"&&l===""||Nl(e,l):(typeof l=="number"||typeof l=="bigint")&&t!=="body"&&Nl(e,""+l);break;case"className":rs(e,"class",l);break;case"tabIndex":rs(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":rs(e,a,l);break;case"style":mf(e,l,s);break;case"data":if(t!=="object"){rs(e,"data",l);break}case"src":case"href":if(l===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ss(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof s=="function"&&(a==="formAction"?(t!=="input"&&W(e,t,"name",n.name,n,null),W(e,t,"formEncType",n.formEncType,n,null),W(e,t,"formMethod",n.formMethod,n,null),W(e,t,"formTarget",n.formTarget,n,null)):(W(e,t,"encType",n.encType,n,null),W(e,t,"method",n.method,n,null),W(e,t,"target",n.target,n,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Ss(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=Ai);break;case"onScroll":l!=null&&Y("scroll",e);break;case"onScrollEnd":l!=null&&Y("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(T(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(T(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Ss(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":Y("beforetoggle",e),Y("toggle",e),_s(e,"popover",l);break;case"xlinkActuate":wt(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":wt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":wt(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":wt(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":wt(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":wt(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":wt(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":wt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":wt(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":_s(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=lg.get(a)||a,_s(e,a,l))}}function hu(e,t,a,l,n,s){switch(a){case"style":mf(e,l,s);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(T(61));if(a=l.__html,a!=null){if(n.children!=null)throw Error(T(60));e.innerHTML=a}}break;case"children":typeof l=="string"?Nl(e,l):(typeof l=="number"||typeof l=="bigint")&&Nl(e,""+l);break;case"onScroll":l!=null&&Y("scroll",e);break;case"onScrollEnd":l!=null&&Y("scrollend",e);break;case"onClick":l!=null&&(e.onclick=Ai);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!uf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(n=a.endsWith("Capture"),t=a.slice(2,n?a.length-7:void 0),s=e[Le]||null,s=s!=null?s[a]:null,typeof s=="function"&&e.removeEventListener(t,s,n),typeof l=="function")){typeof s!="function"&&s!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,l,n);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):_s(e,a,l)}}}function Te(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Y("error",e),Y("load",e);var l=!1,n=!1,s;for(s in a)if(a.hasOwnProperty(s)){var i=a[s];if(i!=null)switch(s){case"src":l=!0;break;case"srcSet":n=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(T(137,t));default:W(e,t,s,i,a,null)}}n&&W(e,t,"srcSet",a.srcSet,a,null),l&&W(e,t,"src",a.src,a,null);return;case"input":Y("invalid",e);var r=s=i=n=null,u=null,o=null;for(l in a)if(a.hasOwnProperty(l)){var d=a[l];if(d!=null)switch(l){case"name":n=d;break;case"type":i=d;break;case"checked":u=d;break;case"defaultChecked":o=d;break;case"value":s=d;break;case"defaultValue":r=d;break;case"children":case"dangerouslySetInnerHTML":if(d!=null)throw Error(T(137,t));break;default:W(e,t,l,d,a,null)}}df(e,s,r,u,o,i,n,!1),Bs(e);return;case"select":Y("invalid",e),l=i=s=null;for(n in a)if(a.hasOwnProperty(n)&&(r=a[n],r!=null))switch(n){case"value":s=r;break;case"defaultValue":i=r;break;case"multiple":l=r;default:W(e,t,n,r,a,null)}t=s,a=i,e.multiple=!!l,t!=null?vl(e,!!l,t,!1):a!=null&&vl(e,!!l,a,!0);return;case"textarea":Y("invalid",e),s=n=l=null;for(i in a)if(a.hasOwnProperty(i)&&(r=a[i],r!=null))switch(i){case"value":l=r;break;case"defaultValue":n=r;break;case"children":s=r;break;case"dangerouslySetInnerHTML":if(r!=null)throw Error(T(91));break;default:W(e,t,i,r,a,null)}hf(e,l,n,s),Bs(e);return;case"option":for(u in a)if(a.hasOwnProperty(u)&&(l=a[u],l!=null))switch(u){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:W(e,t,u,l,a,null)}return;case"dialog":Y("beforetoggle",e),Y("toggle",e),Y("cancel",e),Y("close",e);break;case"iframe":case"object":Y("load",e);break;case"video":case"audio":for(l=0;l<Dn.length;l++)Y(Dn[l],e);break;case"image":Y("error",e),Y("load",e);break;case"details":Y("toggle",e);break;case"embed":case"source":case"link":Y("error",e),Y("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(o in a)if(a.hasOwnProperty(o)&&(l=a[o],l!=null))switch(o){case"children":case"dangerouslySetInnerHTML":throw Error(T(137,t));default:W(e,t,o,l,a,null)}return;default:if(Yu(t)){for(d in a)a.hasOwnProperty(d)&&(l=a[d],l!==void 0&&hu(e,t,d,l,a,void 0));return}}for(r in a)a.hasOwnProperty(r)&&(l=a[r],l!=null&&W(e,t,r,l,a,null))}function Av(e,t,a,l){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var n=null,s=null,i=null,r=null,u=null,o=null,d=null;for(m in a){var f=a[m];if(a.hasOwnProperty(m)&&f!=null)switch(m){case"checked":break;case"value":break;case"defaultValue":u=f;default:l.hasOwnProperty(m)||W(e,t,m,null,l,f)}}for(var h in l){var m=l[h];if(f=a[h],l.hasOwnProperty(h)&&(m!=null||f!=null))switch(h){case"type":s=m;break;case"name":n=m;break;case"checked":o=m;break;case"defaultChecked":d=m;break;case"value":i=m;break;case"defaultValue":r=m;break;case"children":case"dangerouslySetInnerHTML":if(m!=null)throw Error(T(137,t));break;default:m!==f&&W(e,t,h,m,l,f)}}qr(e,i,r,u,o,d,s,n);return;case"select":m=i=r=h=null;for(s in a)if(u=a[s],a.hasOwnProperty(s)&&u!=null)switch(s){case"value":break;case"multiple":m=u;default:l.hasOwnProperty(s)||W(e,t,s,null,l,u)}for(n in l)if(s=l[n],u=a[n],l.hasOwnProperty(n)&&(s!=null||u!=null))switch(n){case"value":h=s;break;case"defaultValue":r=s;break;case"multiple":i=s;default:s!==u&&W(e,t,n,s,l,u)}t=r,a=i,l=m,h!=null?vl(e,!!a,h,!1):!!l!=!!a&&(t!=null?vl(e,!!a,t,!0):vl(e,!!a,a?[]:"",!1));return;case"textarea":m=h=null;for(r in a)if(n=a[r],a.hasOwnProperty(r)&&n!=null&&!l.hasOwnProperty(r))switch(r){case"value":break;case"children":break;default:W(e,t,r,null,l,n)}for(i in l)if(n=l[i],s=a[i],l.hasOwnProperty(i)&&(n!=null||s!=null))switch(i){case"value":h=n;break;case"defaultValue":m=n;break;case"children":break;case"dangerouslySetInnerHTML":if(n!=null)throw Error(T(91));break;default:n!==s&&W(e,t,i,n,l,s)}ff(e,h,m);return;case"option":for(var w in a)if(h=a[w],a.hasOwnProperty(w)&&h!=null&&!l.hasOwnProperty(w))switch(w){case"selected":e.selected=!1;break;default:W(e,t,w,null,l,h)}for(u in l)if(h=l[u],m=a[u],l.hasOwnProperty(u)&&h!==m&&(h!=null||m!=null))switch(u){case"selected":e.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:W(e,t,u,h,l,m)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var N in a)h=a[N],a.hasOwnProperty(N)&&h!=null&&!l.hasOwnProperty(N)&&W(e,t,N,null,l,h);for(o in l)if(h=l[o],m=a[o],l.hasOwnProperty(o)&&h!==m&&(h!=null||m!=null))switch(o){case"children":case"dangerouslySetInnerHTML":if(h!=null)throw Error(T(137,t));break;default:W(e,t,o,h,l,m)}return;default:if(Yu(t)){for(var O in a)h=a[O],a.hasOwnProperty(O)&&h!==void 0&&!l.hasOwnProperty(O)&&hu(e,t,O,void 0,l,h);for(d in l)h=l[d],m=a[d],!l.hasOwnProperty(d)||h===m||h===void 0&&m===void 0||hu(e,t,d,h,l,m);return}}for(var y in a)h=a[y],a.hasOwnProperty(y)&&h!=null&&!l.hasOwnProperty(y)&&W(e,t,y,null,l,h);for(f in l)h=l[f],m=a[f],!l.hasOwnProperty(f)||h===m||h==null&&m==null||W(e,t,f,h,l,m)}var mu=null,gu=null;function ni(e){return e.nodeType===9?e:e.ownerDocument}function Wo(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function g0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function vu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var xr=null;function Ov(){var e=window.event;return e&&e.type==="popstate"?e===xr?!1:(xr=e,!0):(xr=null,!1)}var v0=typeof setTimeout=="function"?setTimeout:void 0,Dv=typeof clearTimeout=="function"?clearTimeout:void 0,Io=typeof Promise=="function"?Promise:void 0,Rv=typeof queueMicrotask=="function"?queueMicrotask:typeof Io<"u"?function(e){return Io.resolve(null).then(e).catch(Uv)}:v0;function Uv(e){setTimeout(function(){throw e})}function ya(e){return e==="head"}function Fo(e,t){var a=t,l=0,n=0;do{var s=a.nextSibling;if(e.removeChild(a),s&&s.nodeType===8)if(a=s.data,a==="/$"){if(0<l&&8>l){a=l;var i=e.ownerDocument;if(a&1&&xn(i.documentElement),a&2&&xn(i.body),a&4)for(a=i.head,xn(a),i=a.firstChild;i;){var r=i.nextSibling,u=i.nodeName;i[Gn]||u==="SCRIPT"||u==="STYLE"||u==="LINK"&&i.rel.toLowerCase()==="stylesheet"||a.removeChild(i),i=r}}if(n===0){e.removeChild(s),zn(t);return}n--}else a==="$"||a==="$?"||a==="$!"?n++:l=a.charCodeAt(0)-48;else l=0;a=s}while(a);zn(t)}function yu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":yu(a),Gu(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Mv(e,t,a,l){for(;e.nodeType===1;){var n=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[Gn])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(s=e.getAttribute("rel"),s==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(s!==n.rel||e.getAttribute("href")!==(n.href==null||n.href===""?null:n.href)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin)||e.getAttribute("title")!==(n.title==null?null:n.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(s=e.getAttribute("src"),(s!==(n.src==null?null:n.src)||e.getAttribute("type")!==(n.type==null?null:n.type)||e.getAttribute("crossorigin")!==(n.crossOrigin==null?null:n.crossOrigin))&&s&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var s=n.name==null?null:""+n.name;if(n.type==="hidden"&&e.getAttribute("name")===s)return e}else return e;if(e=ht(e.nextSibling),e===null)break}return null}function kv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=ht(e.nextSibling),e===null))return null;return e}function bu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Cv(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var l=function(){t(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function ht(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var pu=null;function ed(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function y0(e,t,a){switch(t=ni(a),e){case"html":if(e=t.documentElement,!e)throw Error(T(452));return e;case"head":if(e=t.head,!e)throw Error(T(453));return e;case"body":if(e=t.body,!e)throw Error(T(454));return e;default:throw Error(T(451))}}function xn(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);Gu(e)}var ut=new Map,td=new Set;function si(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Lt=Z.d;Z.d={f:zv,r:qv,D:Bv,C:Hv,L:Lv,m:$v,X:Yv,S:Gv,M:Qv};function zv(){var e=Lt.f(),t=Ni();return e||t}function qv(e){var t=ql(e);t!==null&&t.tag===5&&t.type==="form"?oh(t):Lt.r(e)}var Ll=typeof document>"u"?null:document;function b0(e,t,a){var l=Ll;if(l&&typeof t=="string"&&t){var n=lt(t);n='link[rel="'+e+'"][href="'+n+'"]',typeof a=="string"&&(n+='[crossorigin="'+a+'"]'),td.has(n)||(td.add(n),e={rel:e,crossOrigin:a,href:t},l.querySelector(n)===null&&(t=l.createElement("link"),Te(t,"link",e),_e(t),l.head.appendChild(t)))}}function Bv(e){Lt.D(e),b0("dns-prefetch",e,null)}function Hv(e,t){Lt.C(e,t),b0("preconnect",e,t)}function Lv(e,t,a){Lt.L(e,t,a);var l=Ll;if(l&&e&&t){var n='link[rel="preload"][as="'+lt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(n+='[imagesrcset="'+lt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(n+='[imagesizes="'+lt(a.imageSizes)+'"]')):n+='[href="'+lt(e)+'"]';var s=n;switch(t){case"style":s=Ml(e);break;case"script":s=$l(e)}ut.has(s)||(e=ae({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),ut.set(s,e),l.querySelector(n)!==null||t==="style"&&l.querySelector(In(s))||t==="script"&&l.querySelector(Fn(s))||(t=l.createElement("link"),Te(t,"link",e),_e(t),l.head.appendChild(t)))}}function $v(e,t){Lt.m(e,t);var a=Ll;if(a&&e){var l=t&&typeof t.as=="string"?t.as:"script",n='link[rel="modulepreload"][as="'+lt(l)+'"][href="'+lt(e)+'"]',s=n;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":s=$l(e)}if(!ut.has(s)&&(e=ae({rel:"modulepreload",href:e},t),ut.set(s,e),a.querySelector(n)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Fn(s)))return}l=a.createElement("link"),Te(l,"link",e),_e(l),a.head.appendChild(l)}}}function Gv(e,t,a){Lt.S(e,t,a);var l=Ll;if(l&&e){var n=gl(l).hoistableStyles,s=Ml(e);t=t||"default";var i=n.get(s);if(!i){var r={loading:0,preload:null};if(i=l.querySelector(In(s)))r.loading=5;else{e=ae({rel:"stylesheet",href:e,"data-precedence":t},a),(a=ut.get(s))&&Nc(e,a);var u=i=l.createElement("link");_e(u),Te(u,"link",e),u._p=new Promise(function(o,d){u.onload=o,u.onerror=d}),u.addEventListener("load",function(){r.loading|=1}),u.addEventListener("error",function(){r.loading|=2}),r.loading|=4,Rs(i,t,l)}i={type:"stylesheet",instance:i,count:1,state:r},n.set(s,i)}}}function Yv(e,t){Lt.X(e,t);var a=Ll;if(a&&e){var l=gl(a).hoistableScripts,n=$l(e),s=l.get(n);s||(s=a.querySelector(Fn(n)),s||(e=ae({src:e,async:!0},t),(t=ut.get(n))&&Tc(e,t),s=a.createElement("script"),_e(s),Te(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(n,s))}}function Qv(e,t){Lt.M(e,t);var a=Ll;if(a&&e){var l=gl(a).hoistableScripts,n=$l(e),s=l.get(n);s||(s=a.querySelector(Fn(n)),s||(e=ae({src:e,async:!0,type:"module"},t),(t=ut.get(n))&&Tc(e,t),s=a.createElement("script"),_e(s),Te(s,"link",e),a.head.appendChild(s)),s={type:"script",instance:s,count:1,state:null},l.set(n,s))}}function ad(e,t,a,l){var n=(n=sa.current)?si(n):null;if(!n)throw Error(T(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Ml(a.href),a=gl(n).hoistableStyles,l=a.get(t),l||(l={type:"style",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Ml(a.href);var s=gl(n).hoistableStyles,i=s.get(e);if(i||(n=n.ownerDocument||n,i={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},s.set(e,i),(s=n.querySelector(In(e)))&&!s._p&&(i.instance=s,i.state.loading=5),ut.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},ut.set(e,a),s||Xv(n,e,a,i.state))),t&&l===null)throw Error(T(528,""));return i}if(t&&l!==null)throw Error(T(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=$l(a),a=gl(n).hoistableScripts,l=a.get(t),l||(l={type:"script",instance:null,count:0,state:null},a.set(t,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(T(444,e))}}function Ml(e){return'href="'+lt(e)+'"'}function In(e){return'link[rel="stylesheet"]['+e+"]"}function p0(e){return ae({},e,{"data-precedence":e.precedence,precedence:null})}function Xv(e,t,a,l){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?l.loading=1:(t=e.createElement("link"),l.preload=t,t.addEventListener("load",function(){return l.loading|=1}),t.addEventListener("error",function(){return l.loading|=2}),Te(t,"link",a),_e(t),e.head.appendChild(t))}function $l(e){return'[src="'+lt(e)+'"]'}function Fn(e){return"script[async]"+e}function ld(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var l=e.querySelector('style[data-href~="'+lt(a.href)+'"]');if(l)return t.instance=l,_e(l),l;var n=ae({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),_e(l),Te(l,"style",n),Rs(l,a.precedence,e),t.instance=l;case"stylesheet":n=Ml(a.href);var s=e.querySelector(In(n));if(s)return t.state.loading|=4,t.instance=s,_e(s),s;l=p0(a),(n=ut.get(n))&&Nc(l,n),s=(e.ownerDocument||e).createElement("link"),_e(s);var i=s;return i._p=new Promise(function(r,u){i.onload=r,i.onerror=u}),Te(s,"link",l),t.state.loading|=4,Rs(s,a.precedence,e),t.instance=s;case"script":return s=$l(a.src),(n=e.querySelector(Fn(s)))?(t.instance=n,_e(n),n):(l=a,(n=ut.get(s))&&(l=ae({},a),Tc(l,n)),e=e.ownerDocument||e,n=e.createElement("script"),_e(n),Te(n,"link",l),e.head.appendChild(n),t.instance=n);case"void":return null;default:throw Error(T(443,t.type))}else t.type==="stylesheet"&&!(t.state.loading&4)&&(l=t.instance,t.state.loading|=4,Rs(l,a.precedence,e));return t.instance}function Rs(e,t,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),n=l.length?l[l.length-1]:null,s=n,i=0;i<l.length;i++){var r=l[i];if(r.dataset.precedence===t)s=r;else if(s!==n)break}s?s.parentNode.insertBefore(e,s.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Nc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Tc(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Us=null;function nd(e,t,a){if(Us===null){var l=new Map,n=Us=new Map;n.set(a,l)}else n=Us,l=n.get(a),l||(l=new Map,n.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),n=0;n<a.length;n++){var s=a[n];if(!(s[Gn]||s[Ae]||e==="link"&&s.getAttribute("rel")==="stylesheet")&&s.namespaceURI!=="http://www.w3.org/2000/svg"){var i=s.getAttribute(t)||"";i=e+i;var r=l.get(i);r?r.push(s):l.set(i,[s])}}return l}function sd(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Vv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function x0(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Un=null;function Kv(){}function Zv(e,t,a){if(Un===null)throw Error(T(475));var l=Un;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&!(t.state.loading&4)){if(t.instance===null){var n=Ml(a.href),s=e.querySelector(In(n));if(s){e=s._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(l.count++,l=ii.bind(l),e.then(l,l)),t.state.loading|=4,t.instance=s,_e(s);return}s=e.ownerDocument||e,a=p0(a),(n=ut.get(n))&&Nc(a,n),s=s.createElement("link"),_e(s);var i=s;i._p=new Promise(function(r,u){i.onload=r,i.onerror=u}),Te(s,"link",a),t.instance=s}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(t,e),(e=t.state.preload)&&!(t.state.loading&3)&&(l.count++,t=ii.bind(l),e.addEventListener("load",t),e.addEventListener("error",t))}}function Jv(){if(Un===null)throw Error(T(475));var e=Un;return e.stylesheets&&e.count===0&&xu(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&xu(e,e.stylesheets),e.unsuspend){var l=e.unsuspend;e.unsuspend=null,l()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function ii(){if(this.count--,this.count===0){if(this.stylesheets)xu(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ri=null;function xu(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ri=new Map,t.forEach(Pv,e),ri=null,ii.call(e))}function Pv(e,t){if(!(t.state.loading&4)){var a=ri.get(e);if(a)var l=a.get(null);else{a=new Map,ri.set(e,a);for(var n=e.querySelectorAll("link[data-precedence],style[data-precedence]"),s=0;s<n.length;s++){var i=n[s];(i.nodeName==="LINK"||i.getAttribute("media")!=="not all")&&(a.set(i.dataset.precedence,i),l=i)}l&&a.set(null,l)}n=t.instance,i=n.getAttribute("data-precedence"),s=a.get(i)||l,s===l&&a.set(null,n),a.set(i,n),this.count++,l=ii.bind(this),n.addEventListener("load",l),n.addEventListener("error",l),s?s.parentNode.insertBefore(n,s.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(n,e.firstChild)),t.state.loading|=4}}var Mn={$$typeof:Ot,Provider:null,Consumer:null,_currentValue:Aa,_currentValue2:Aa,_threadCount:0};function Wv(e,t,a,l,n,s,i,r){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Gi(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Gi(0),this.hiddenUpdates=Gi(null),this.identifierPrefix=l,this.onUncaughtError=n,this.onCaughtError=s,this.onRecoverableError=i,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=r,this.incompleteTransitions=new Map}function _0(e,t,a,l,n,s,i,r,u,o,d,f){return e=new Wv(e,t,a,i,r,u,o,f),t=1,s===!0&&(t|=24),s=Ve(3,null,null,t),e.current=s,s.stateNode=e,t=ec(),t.refCount++,e.pooledCache=t,t.refCount++,s.memoizedState={element:l,isDehydrated:a,cache:t},ac(s),e}function S0(e){return e?(e=dl,e):dl}function w0(e,t,a,l,n,s){n=S0(n),l.context===null?l.context=n:l.pendingContext=n,l=ia(t),l.payload={element:a},s=s===void 0?null:s,s!==null&&(l.callback=s),a=ra(e,l,t),a!==null&&(Pe(a,e,t),fn(a,e,t))}function id(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Ec(e,t){id(e,t),(e=e.alternate)&&id(e,t)}function j0(e){if(e.tag===13){var t=Bl(e,67108864);t!==null&&Pe(t,e,67108864),Ec(e,67108864)}}var ui=!0;function Iv(e,t,a,l){var n=q.T;q.T=null;var s=Z.p;try{Z.p=2,Ac(e,t,a,l)}finally{Z.p=s,q.T=n}}function Fv(e,t,a,l){var n=q.T;q.T=null;var s=Z.p;try{Z.p=8,Ac(e,t,a,l)}finally{Z.p=s,q.T=n}}function Ac(e,t,a,l){if(ui){var n=_u(l);if(n===null)pr(e,t,l,ci,a),rd(e,l);else if(ty(n,e,t,a,l))l.stopPropagation();else if(rd(e,l),t&4&&-1<ey.indexOf(e)){for(;n!==null;){var s=ql(n);if(s!==null)switch(s.tag){case 3:if(s=s.stateNode,s.current.memoizedState.isDehydrated){var i=wa(s.pendingLanes);if(i!==0){var r=s;for(r.pendingLanes|=2,r.entangledLanes|=2;i;){var u=1<<31-Ze(i);r.entanglements[1]|=u,i&=~u}St(s),!(P&6)&&(Fs=pt()+500,Wn(0))}}break;case 13:r=Bl(s,2),r!==null&&Pe(r,s,2),Ni(),Ec(s,2)}if(s=_u(l),s===null&&pr(e,t,l,ci,a),s===n)break;n=s}n!==null&&l.stopPropagation()}else pr(e,t,l,null,a)}}function _u(e){return e=Qu(e),Oc(e)}var ci=null;function Oc(e){if(ci=null,e=sl(e),e!==null){var t=Bn(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=Zd(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return ci=e,null}function N0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Hm()){case Id:return 2;case Fd:return 8;case qs:case Lm:return 32;case ef:return 268435456;default:return 32}default:return 32}}var Su=!1,oa=null,da=null,fa=null,kn=new Map,Cn=new Map,Ft=[],ey="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function rd(e,t){switch(e){case"focusin":case"focusout":oa=null;break;case"dragenter":case"dragleave":da=null;break;case"mouseover":case"mouseout":fa=null;break;case"pointerover":case"pointerout":kn.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cn.delete(t.pointerId)}}function Il(e,t,a,l,n,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:a,eventSystemFlags:l,nativeEvent:s,targetContainers:[n]},t!==null&&(t=ql(t),t!==null&&j0(t)),e):(e.eventSystemFlags|=l,t=e.targetContainers,n!==null&&t.indexOf(n)===-1&&t.push(n),e)}function ty(e,t,a,l,n){switch(t){case"focusin":return oa=Il(oa,e,t,a,l,n),!0;case"dragenter":return da=Il(da,e,t,a,l,n),!0;case"mouseover":return fa=Il(fa,e,t,a,l,n),!0;case"pointerover":var s=n.pointerId;return kn.set(s,Il(kn.get(s)||null,e,t,a,l,n)),!0;case"gotpointercapture":return s=n.pointerId,Cn.set(s,Il(Cn.get(s)||null,e,t,a,l,n)),!0}return!1}function T0(e){var t=sl(e.target);if(t!==null){var a=Bn(t);if(a!==null){if(t=a.tag,t===13){if(t=Zd(a),t!==null){e.blockedOn=t,Zm(e.priority,function(){if(a.tag===13){var l=Je();l=Lu(l);var n=Bl(a,l);n!==null&&Pe(n,a,l),Ec(a,l)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ms(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=_u(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Hr=l,a.target.dispatchEvent(l),Hr=null}else return t=ql(a),t!==null&&j0(t),e.blockedOn=a,!1;t.shift()}return!0}function ud(e,t,a){Ms(e)&&a.delete(t)}function ay(){Su=!1,oa!==null&&Ms(oa)&&(oa=null),da!==null&&Ms(da)&&(da=null),fa!==null&&Ms(fa)&&(fa=null),kn.forEach(ud),Cn.forEach(ud)}function gs(e,t){e.blockedOn===t&&(e.blockedOn=null,Su||(Su=!0,be.unstable_scheduleCallback(be.unstable_NormalPriority,ay)))}var vs=null;function cd(e){vs!==e&&(vs=e,be.unstable_scheduleCallback(be.unstable_NormalPriority,function(){vs===e&&(vs=null);for(var t=0;t<e.length;t+=3){var a=e[t],l=e[t+1],n=e[t+2];if(typeof l!="function"){if(Oc(l||a)===null)continue;break}var s=ql(a);s!==null&&(e.splice(t,3),t-=3,tu(s,{pending:!0,data:n,method:a.method,action:l},l,n))}}))}function zn(e){function t(u){return gs(u,e)}oa!==null&&gs(oa,e),da!==null&&gs(da,e),fa!==null&&gs(fa,e),kn.forEach(t),Cn.forEach(t);for(var a=0;a<Ft.length;a++){var l=Ft[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<Ft.length&&(a=Ft[0],a.blockedOn===null);)T0(a),a.blockedOn===null&&Ft.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var n=a[l],s=a[l+1],i=n[Le]||null;if(typeof s=="function")i||cd(a);else if(i){var r=null;if(s&&s.hasAttribute("formAction")){if(n=s,i=s[Le]||null)r=i.formAction;else if(Oc(n)!==null)continue}else r=i.action;typeof r=="function"?a[l+1]=r:(a.splice(l,3),l-=3),cd(a)}}}function Dc(e){this._internalRoot=e}Oi.prototype.render=Dc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(T(409));var a=t.current,l=Je();w0(a,l,e,t,null,null)};Oi.prototype.unmount=Dc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;w0(e.current,2,null,e,null,null),Ni(),t[zl]=null}};function Oi(e){this._internalRoot=e}Oi.prototype.unstable_scheduleHydration=function(e){if(e){var t=sf();e={blockedOn:null,target:e,priority:t};for(var a=0;a<Ft.length&&t!==0&&t<Ft[a].priority;a++);Ft.splice(a,0,e),a===0&&T0(e)}};var od=Vd.version;if(od!=="19.1.0")throw Error(T(527,od,"19.1.0"));Z.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(T(188)):(e=Object.keys(e).join(","),Error(T(268,e)));return e=Um(t),e=e!==null?Jd(e):null,e=e===null?null:e.stateNode,e};var ly={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ys=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ys.isDisabled&&ys.supportsFiber)try{Hn=ys.inject(ly),Ke=ys}catch{}}hi.createRoot=function(e,t){if(!Kd(e))throw Error(T(299));var a=!1,l="",n=_h,s=Sh,i=wh,r=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(l=t.identifierPrefix),t.onUncaughtError!==void 0&&(n=t.onUncaughtError),t.onCaughtError!==void 0&&(s=t.onCaughtError),t.onRecoverableError!==void 0&&(i=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(r=t.unstable_transitionCallbacks)),t=_0(e,1,!1,null,null,a,l,n,s,i,r,null),e[zl]=t.current,jc(e),new Dc(t)};hi.hydrateRoot=function(e,t,a){if(!Kd(e))throw Error(T(299));var l=!1,n="",s=_h,i=Sh,r=wh,u=null,o=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(n=a.identifierPrefix),a.onUncaughtError!==void 0&&(s=a.onUncaughtError),a.onCaughtError!==void 0&&(i=a.onCaughtError),a.onRecoverableError!==void 0&&(r=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(u=a.unstable_transitionCallbacks),a.formState!==void 0&&(o=a.formState)),t=_0(e,1,!0,t,a??null,l,n,s,i,r,u,o),t.context=S0(null),a=t.current,l=Je(),l=Lu(l),n=ia(l),n.callback=null,ra(a,n,l),a=l,t.current.lanes=a,$n(t,a),St(t),e[zl]=t.current,jc(e),new Oi(t)};hi.version="19.1.0";function E0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(E0)}catch(e){console.error(e)}}E0(),Ld.exports=hi;var ny=Ld.exports;const sy=Dd(ny),iy="modulepreload",ry=function(e){return"/"+e},dd={},es=function(t,a,l){let n=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),r=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));n=Promise.allSettled(a.map(u=>{if(u=ry(u),u in dd)return;dd[u]=!0;const o=u.endsWith(".css"),d=o?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const f=document.createElement("link");if(f.rel=o?"stylesheet":iy,o||(f.as="script"),f.crossOrigin="",f.href=u,r&&f.setAttribute("nonce",r),document.head.appendChild(f),o)return new Promise((h,m)=>{f.addEventListener("load",h),f.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(i){const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=i,window.dispatchEvent(r),!r.defaultPrevented)throw i}return n.then(i=>{for(const r of i||[])r.status==="rejected"&&s(r.reason);return t().catch(s)})},uy=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>es(async()=>{const{default:l}=await Promise.resolve().then(()=>Gl);return{default:l}},void 0).then(({default:l})=>l(...a)):t=fetch,(...a)=>t(...a)};class Rc extends Error{constructor(t,a="FunctionsError",l){super(t),this.name=a,this.context=l}}class cy extends Rc{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class fd extends Rc{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class hd extends Rc{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var wu;(function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"})(wu||(wu={}));var oy=function(e,t,a,l){function n(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function r(d){try{o(l.next(d))}catch(f){i(f)}}function u(d){try{o(l.throw(d))}catch(f){i(f)}}function o(d){d.done?s(d.value):n(d.value).then(r,u)}o((l=l.apply(e,t||[])).next())})};class dy{constructor(t,{headers:a={},customFetch:l,region:n=wu.Any}={}){this.url=t,this.headers=a,this.region=n,this.fetch=uy(l)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,a={}){var l;return oy(this,void 0,void 0,function*(){try{const{headers:n,method:s,body:i}=a;let r={},{region:u}=a;u||(u=this.region);const o=new URL(`${this.url}/${t}`);u&&u!=="any"&&(r["x-region"]=u,o.searchParams.set("forceFunctionRegion",u));let d;i&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&(typeof Blob<"u"&&i instanceof Blob||i instanceof ArrayBuffer?(r["Content-Type"]="application/octet-stream",d=i):typeof i=="string"?(r["Content-Type"]="text/plain",d=i):typeof FormData<"u"&&i instanceof FormData?d=i:(r["Content-Type"]="application/json",d=JSON.stringify(i)));const f=yield this.fetch(o.toString(),{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},r),this.headers),n),body:d}).catch(N=>{throw new cy(N)}),h=f.headers.get("x-relay-error");if(h&&h==="true")throw new fd(f);if(!f.ok)throw new hd(f);let m=((l=f.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),w;return m==="application/json"?w=yield f.json():m==="application/octet-stream"?w=yield f.blob():m==="text/event-stream"?w=f:m==="multipart/form-data"?w=yield f.formData():w=yield f.text(),{data:w,error:null,response:f}}catch(n){return{data:null,error:n,response:n instanceof hd||n instanceof fd?n.context:void 0}}})}}var Be={},Uc={},Di={},ts={},Ri={},Ui={},fy=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},kl=fy();const hy=kl.fetch,A0=kl.fetch.bind(kl),O0=kl.Headers,my=kl.Request,gy=kl.Response,Gl=Object.freeze(Object.defineProperty({__proto__:null,Headers:O0,Request:my,Response:gy,default:A0,fetch:hy},Symbol.toStringTag,{value:"Module"})),vy=rm(Gl);var Mi={};Object.defineProperty(Mi,"__esModule",{value:!0});let yy=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};Mi.default=yy;var D0=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ui,"__esModule",{value:!0});const by=D0(vy),py=D0(Mi);let xy=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=by.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,a){return this.headers=Object.assign({},this.headers),this.headers[t]=a,this}then(t,a){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const l=this.fetch;let n=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{var i,r,u;let o=null,d=null,f=null,h=s.status,m=s.statusText;if(s.ok){if(this.method!=="HEAD"){const y=await s.text();y===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=y:d=JSON.parse(y))}const N=(i=this.headers.Prefer)===null||i===void 0?void 0:i.match(/count=(exact|planned|estimated)/),O=(r=s.headers.get("content-range"))===null||r===void 0?void 0:r.split("/");N&&O&&O.length>1&&(f=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(o={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,f=null,h=406,m="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const N=await s.text();try{o=JSON.parse(N),Array.isArray(o)&&s.status===404&&(d=[],o=null,h=200,m="OK")}catch{s.status===404&&N===""?(h=204,m="No Content"):o={message:N}}if(o&&this.isMaybeSingle&&(!((u=o==null?void 0:o.details)===null||u===void 0)&&u.includes("0 rows"))&&(o=null,h=200,m="OK"),o&&this.shouldThrowOnError)throw new py.default(o)}return{error:o,data:d,count:f,status:h,statusText:m}});return this.shouldThrowOnError||(n=n.catch(s=>{var i,r,u;return{error:{message:`${(i=s==null?void 0:s.name)!==null&&i!==void 0?i:"FetchError"}: ${s==null?void 0:s.message}`,details:`${(r=s==null?void 0:s.stack)!==null&&r!==void 0?r:""}`,hint:"",code:`${(u=s==null?void 0:s.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),n.then(t,a)}returns(){return this}overrideTypes(){return this}};Ui.default=xy;var _y=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Ri,"__esModule",{value:!0});const Sy=_y(Ui);let wy=class extends Sy.default{select(t){let a=!1;const l=(t??"*").split("").map(n=>/\s/.test(n)&&!a?"":(n==='"'&&(a=!a),n)).join("");return this.url.searchParams.set("select",l),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:a=!0,nullsFirst:l,foreignTable:n,referencedTable:s=n}={}){const i=s?`${s}.order`:"order",r=this.url.searchParams.get(i);return this.url.searchParams.set(i,`${r?`${r},`:""}${t}.${a?"asc":"desc"}${l===void 0?"":l?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:a,referencedTable:l=a}={}){const n=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(n,`${t}`),this}range(t,a,{foreignTable:l,referencedTable:n=l}={}){const s=typeof n>"u"?"offset":`${n}.offset`,i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(i,`${a-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:a=!1,settings:l=!1,buffers:n=!1,wal:s=!1,format:i="text"}={}){var r;const u=[t?"analyze":null,a?"verbose":null,l?"settings":null,n?"buffers":null,s?"wal":null].filter(Boolean).join("|"),o=(r=this.headers.Accept)!==null&&r!==void 0?r:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${i}; for="${o}"; options=${u};`,i==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Ri.default=wy;var jy=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(ts,"__esModule",{value:!0});const Ny=jy(Ri);let Ty=class extends Ny.default{eq(t,a){return this.url.searchParams.append(t,`eq.${a}`),this}neq(t,a){return this.url.searchParams.append(t,`neq.${a}`),this}gt(t,a){return this.url.searchParams.append(t,`gt.${a}`),this}gte(t,a){return this.url.searchParams.append(t,`gte.${a}`),this}lt(t,a){return this.url.searchParams.append(t,`lt.${a}`),this}lte(t,a){return this.url.searchParams.append(t,`lte.${a}`),this}like(t,a){return this.url.searchParams.append(t,`like.${a}`),this}likeAllOf(t,a){return this.url.searchParams.append(t,`like(all).{${a.join(",")}}`),this}likeAnyOf(t,a){return this.url.searchParams.append(t,`like(any).{${a.join(",")}}`),this}ilike(t,a){return this.url.searchParams.append(t,`ilike.${a}`),this}ilikeAllOf(t,a){return this.url.searchParams.append(t,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(t,a){return this.url.searchParams.append(t,`ilike(any).{${a.join(",")}}`),this}is(t,a){return this.url.searchParams.append(t,`is.${a}`),this}in(t,a){const l=Array.from(new Set(a)).map(n=>typeof n=="string"&&new RegExp("[,()]").test(n)?`"${n}"`:`${n}`).join(",");return this.url.searchParams.append(t,`in.(${l})`),this}contains(t,a){return typeof a=="string"?this.url.searchParams.append(t,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(t,`cs.{${a.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(a)}`),this}containedBy(t,a){return typeof a=="string"?this.url.searchParams.append(t,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(t,`cd.{${a.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(a)}`),this}rangeGt(t,a){return this.url.searchParams.append(t,`sr.${a}`),this}rangeGte(t,a){return this.url.searchParams.append(t,`nxl.${a}`),this}rangeLt(t,a){return this.url.searchParams.append(t,`sl.${a}`),this}rangeLte(t,a){return this.url.searchParams.append(t,`nxr.${a}`),this}rangeAdjacent(t,a){return this.url.searchParams.append(t,`adj.${a}`),this}overlaps(t,a){return typeof a=="string"?this.url.searchParams.append(t,`ov.${a}`):this.url.searchParams.append(t,`ov.{${a.join(",")}}`),this}textSearch(t,a,{config:l,type:n}={}){let s="";n==="plain"?s="pl":n==="phrase"?s="ph":n==="websearch"&&(s="w");const i=l===void 0?"":`(${l})`;return this.url.searchParams.append(t,`${s}fts${i}.${a}`),this}match(t){return Object.entries(t).forEach(([a,l])=>{this.url.searchParams.append(a,`eq.${l}`)}),this}not(t,a,l){return this.url.searchParams.append(t,`not.${a}.${l}`),this}or(t,{foreignTable:a,referencedTable:l=a}={}){const n=l?`${l}.or`:"or";return this.url.searchParams.append(n,`(${t})`),this}filter(t,a,l){return this.url.searchParams.append(t,`${a}.${l}`),this}};ts.default=Ty;var Ey=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Di,"__esModule",{value:!0});const Fl=Ey(ts);let Ay=class{constructor(t,{headers:a={},schema:l,fetch:n}){this.url=t,this.headers=a,this.schema=l,this.fetch=n}select(t,{head:a=!1,count:l}={}){const n=a?"HEAD":"GET";let s=!1;const i=(t??"*").split("").map(r=>/\s/.test(r)&&!s?"":(r==='"'&&(s=!s),r)).join("");return this.url.searchParams.set("select",i),l&&(this.headers.Prefer=`count=${l}`),new Fl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:a,defaultToNull:l=!0}={}){const n="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),a&&s.push(`count=${a}`),l||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){const i=t.reduce((r,u)=>r.concat(Object.keys(u)),[]);if(i.length>0){const r=[...new Set(i)].map(u=>`"${u}"`);this.url.searchParams.set("columns",r.join(","))}}return new Fl.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:a,ignoreDuplicates:l=!1,count:n,defaultToNull:s=!0}={}){const i="POST",r=[`resolution=${l?"ignore":"merge"}-duplicates`];if(a!==void 0&&this.url.searchParams.set("on_conflict",a),this.headers.Prefer&&r.push(this.headers.Prefer),n&&r.push(`count=${n}`),s||r.push("missing=default"),this.headers.Prefer=r.join(","),Array.isArray(t)){const u=t.reduce((o,d)=>o.concat(Object.keys(d)),[]);if(u.length>0){const o=[...new Set(u)].map(d=>`"${d}"`);this.url.searchParams.set("columns",o.join(","))}}return new Fl.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:a}={}){const l="PATCH",n=[];return this.headers.Prefer&&n.push(this.headers.Prefer),a&&n.push(`count=${a}`),this.headers.Prefer=n.join(","),new Fl.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){const a="DELETE",l=[];return t&&l.push(`count=${t}`),this.headers.Prefer&&l.unshift(this.headers.Prefer),this.headers.Prefer=l.join(","),new Fl.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Di.default=Ay;var ki={},Ci={};Object.defineProperty(Ci,"__esModule",{value:!0});Ci.version=void 0;Ci.version="0.0.0-automated";Object.defineProperty(ki,"__esModule",{value:!0});ki.DEFAULT_HEADERS=void 0;const Oy=Ci;ki.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Oy.version}`};var R0=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Uc,"__esModule",{value:!0});const Dy=R0(Di),Ry=R0(ts),Uy=ki;let My=class U0{constructor(t,{headers:a={},schema:l,fetch:n}={}){this.url=t,this.headers=Object.assign(Object.assign({},Uy.DEFAULT_HEADERS),a),this.schemaName=l,this.fetch=n}from(t){const a=new URL(`${this.url}/${t}`);return new Dy.default(a,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new U0(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,a={},{head:l=!1,get:n=!1,count:s}={}){let i;const r=new URL(`${this.url}/rpc/${t}`);let u;l||n?(i=l?"HEAD":"GET",Object.entries(a).filter(([d,f])=>f!==void 0).map(([d,f])=>[d,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([d,f])=>{r.searchParams.append(d,f)})):(i="POST",u=a);const o=Object.assign({},this.headers);return s&&(o.Prefer=`count=${s}`),new Ry.default({method:i,url:r,headers:o,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Uc.default=My;var Yl=it&&it.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Be,"__esModule",{value:!0});Be.PostgrestError=Be.PostgrestBuilder=Be.PostgrestTransformBuilder=Be.PostgrestFilterBuilder=Be.PostgrestQueryBuilder=Be.PostgrestClient=void 0;const M0=Yl(Uc);Be.PostgrestClient=M0.default;const k0=Yl(Di);Be.PostgrestQueryBuilder=k0.default;const C0=Yl(ts);Be.PostgrestFilterBuilder=C0.default;const z0=Yl(Ri);Be.PostgrestTransformBuilder=z0.default;const q0=Yl(Ui);Be.PostgrestBuilder=q0.default;const B0=Yl(Mi);Be.PostgrestError=B0.default;var ky=Be.default={PostgrestClient:M0.default,PostgrestQueryBuilder:k0.default,PostgrestFilterBuilder:C0.default,PostgrestTransformBuilder:z0.default,PostgrestBuilder:q0.default,PostgrestError:B0.default};const{PostgrestClient:Cy,PostgrestQueryBuilder:Dp,PostgrestFilterBuilder:Rp,PostgrestTransformBuilder:Up,PostgrestBuilder:Mp,PostgrestError:kp}=ky;function zy(){if(typeof WebSocket<"u")return WebSocket;if(typeof global.WebSocket<"u")return global.WebSocket;if(typeof window.WebSocket<"u")return window.WebSocket;if(typeof self.WebSocket<"u")return self.WebSocket;throw new Error("`WebSocket` is not supported in this environment")}const qy=zy(),By="2.11.15",Hy=`realtime-js/${By}`,Ly="1.0.0",H0=1e4,$y=1e3;var _n;(function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"})(_n||(_n={}));var Ee;(function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"})(Ee||(Ee={}));var ft;(function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"})(ft||(ft={}));var ju;(function(e){e.websocket="websocket"})(ju||(ju={}));var Ea;(function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"})(Ea||(Ea={}));class Gy{constructor(){this.HEADER_LENGTH=1}decode(t,a){return t.constructor===ArrayBuffer?a(this._binaryDecode(t)):a(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){const a=new DataView(t),l=new TextDecoder;return this._decodeBroadcast(t,a,l)}_decodeBroadcast(t,a,l){const n=a.getUint8(1),s=a.getUint8(2);let i=this.HEADER_LENGTH+2;const r=l.decode(t.slice(i,i+n));i=i+n;const u=l.decode(t.slice(i,i+s));i=i+s;const o=JSON.parse(l.decode(t.slice(i,t.byteLength)));return{ref:null,topic:r,event:u,payload:o}}}class L0{constructor(t,a){this.callback=t,this.timerCalc=a,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=a}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var ee;(function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"})(ee||(ee={}));const md=(e,t,a={})=>{var l;const n=(l=a.skipTypes)!==null&&l!==void 0?l:[];return Object.keys(t).reduce((s,i)=>(s[i]=Yy(i,e,t,n),s),{})},Yy=(e,t,a,l)=>{const n=t.find(r=>r.name===e),s=n==null?void 0:n.type,i=a[e];return s&&!l.includes(s)?$0(s,i):Nu(i)},$0=(e,t)=>{if(e.charAt(0)==="_"){const a=e.slice(1,e.length);return Ky(t,a)}switch(e){case ee.bool:return Qy(t);case ee.float4:case ee.float8:case ee.int2:case ee.int4:case ee.int8:case ee.numeric:case ee.oid:return Xy(t);case ee.json:case ee.jsonb:return Vy(t);case ee.timestamp:return Zy(t);case ee.abstime:case ee.date:case ee.daterange:case ee.int4range:case ee.int8range:case ee.money:case ee.reltime:case ee.text:case ee.time:case ee.timestamptz:case ee.timetz:case ee.tsrange:case ee.tstzrange:return Nu(t);default:return Nu(t)}},Nu=e=>e,Qy=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Xy=e=>{if(typeof e=="string"){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Vy=e=>{if(typeof e=="string")try{return JSON.parse(e)}catch(t){return console.log(`JSON parse error: ${t}`),e}return e},Ky=(e,t)=>{if(typeof e!="string")return e;const a=e.length-1,l=e[a];if(e[0]==="{"&&l==="}"){let s;const i=e.slice(1,a);try{s=JSON.parse("["+i+"]")}catch{s=i?i.split(","):[]}return s.map(r=>$0(t,r))}return e},Zy=e=>typeof e=="string"?e.replace(" ","T"):e,G0=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class _r{constructor(t,a,l={},n=H0){this.channel=t,this.event=a,this.payload=l,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,a){var l;return this._hasReceived(t)&&a((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:t,callback:a}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=a=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=a,this._matchReceive(a)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,a){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:a})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:a}){this.recHooks.filter(l=>l.status===t).forEach(l=>l.callback(a))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var gd;(function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"})(gd||(gd={}));class Sn{constructor(t,a){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(a==null?void 0:a.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},n=>{const{onJoin:s,onLeave:i,onSync:r}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Sn.syncState(this.state,n,s,i),this.pendingDiffs.forEach(u=>{this.state=Sn.syncDiff(this.state,u,s,i)}),this.pendingDiffs=[],r()}),this.channel._on(l.diff,{},n=>{const{onJoin:s,onLeave:i,onSync:r}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(n):(this.state=Sn.syncDiff(this.state,n,s,i),r())}),this.onJoin((n,s,i)=>{this.channel._trigger("presence",{event:"join",key:n,currentPresences:s,newPresences:i})}),this.onLeave((n,s,i)=>{this.channel._trigger("presence",{event:"leave",key:n,currentPresences:s,leftPresences:i})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,a,l,n){const s=this.cloneDeep(t),i=this.transformState(a),r={},u={};return this.map(s,(o,d)=>{i[o]||(u[o]=d)}),this.map(i,(o,d)=>{const f=s[o];if(f){const h=d.map(O=>O.presence_ref),m=f.map(O=>O.presence_ref),w=d.filter(O=>m.indexOf(O.presence_ref)<0),N=f.filter(O=>h.indexOf(O.presence_ref)<0);w.length>0&&(r[o]=w),N.length>0&&(u[o]=N)}else r[o]=d}),this.syncDiff(s,{joins:r,leaves:u},l,n)}static syncDiff(t,a,l,n){const{joins:s,leaves:i}={joins:this.transformState(a.joins),leaves:this.transformState(a.leaves)};return l||(l=()=>{}),n||(n=()=>{}),this.map(s,(r,u)=>{var o;const d=(o=t[r])!==null&&o!==void 0?o:[];if(t[r]=this.cloneDeep(u),d.length>0){const f=t[r].map(m=>m.presence_ref),h=d.filter(m=>f.indexOf(m.presence_ref)<0);t[r].unshift(...h)}l(r,d,u)}),this.map(i,(r,u)=>{let o=t[r];if(!o)return;const d=u.map(f=>f.presence_ref);o=o.filter(f=>d.indexOf(f.presence_ref)<0),t[r]=o,n(r,o,u),o.length===0&&delete t[r]}),t}static map(t,a){return Object.getOwnPropertyNames(t).map(l=>a(l,t[l]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((a,l)=>{const n=t[l];return"metas"in n?a[l]=n.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):a[l]=n,a},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vd;(function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"})(vd||(vd={}));var yd;(function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"})(yd||(yd={}));var Et;(function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"})(Et||(Et={}));class Mc{constructor(t,a={config:{}},l){this.topic=t,this.params=a,this.socket=l,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},a.config),this.timeout=this.socket.timeout,this.joinPush=new _r(this,ft.join,this.params,this.timeout),this.rejoinTimer=new L0(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(n=>n.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(n=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,n),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ft.reply,{},(n,s)=>{this._trigger(this._replyEventName(s),n)}),this.presence=new Sn(this),this.broadcastEndpointURL=G0(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,a=this.timeout){var l,n;if(this.socket.isConnected()||this.socket.connect(),this.state==Ee.closed){const{config:{broadcast:s,presence:i,private:r}}=this.params;this._onError(d=>t==null?void 0:t(Et.CHANNEL_ERROR,d)),this._onClose(()=>t==null?void 0:t(Et.CLOSED));const u={},o={broadcast:s,presence:i,postgres_changes:(n=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(d=>d.filter))!==null&&n!==void 0?n:[],private:r};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:o},u)),this.joinedOnce=!0,this._rejoin(a),this.joinPush.receive("ok",async({postgres_changes:d})=>{var f;if(this.socket.setAuth(),d===void 0){t==null||t(Et.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,m=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,w=[];for(let N=0;N<m;N++){const O=h[N],{filter:{event:y,schema:v,table:g,filter:x}}=O,E=d&&d[N];if(E&&E.event===y&&E.schema===v&&E.table===g&&E.filter===x)w.push(Object.assign(Object.assign({},O),{id:E.id}));else{this.unsubscribe(),this.state=Ee.errored,t==null||t(Et.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=w,t&&t(Et.SUBSCRIBED);return}}).receive("error",d=>{this.state=Ee.errored,t==null||t(Et.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{t==null||t(Et.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,a={}){return await this.send({type:"presence",event:"track",payload:t},a.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,a,l){return this._on(t,a,l)}async send(t,a={}){var l,n;if(!this._canPush()&&t.type==="broadcast"){const{event:s,payload:i}=t,u={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:i,private:this.private}]})};try{const o=await this._fetchWithTimeout(this.broadcastEndpointURL,u,(l=a.timeout)!==null&&l!==void 0?l:this.timeout);return await((n=o.body)===null||n===void 0?void 0:n.cancel()),o.ok?"ok":"error"}catch(o){return o.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var i,r,u;const o=this._push(t.type,t,a.timeout||this.timeout);t.type==="broadcast"&&!(!((u=(r=(i=this.params)===null||i===void 0?void 0:i.config)===null||r===void 0?void 0:r.broadcast)===null||u===void 0)&&u.ack)&&s("ok"),o.receive("ok",()=>s("ok")),o.receive("error",()=>s("error")),o.receive("timeout",()=>s("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=Ee.leaving;const a=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ft.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(n=>{l=new _r(this,ft.leave,{},t),l.receive("ok",()=>{a(),n("ok")}).receive("timeout",()=>{a(),n("timed out")}).receive("error",()=>{n("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(t,a,l){const n=new AbortController,s=setTimeout(()=>n.abort(),l),i=await this.socket.fetch(t,Object.assign(Object.assign({},a),{signal:n.signal}));return clearTimeout(s),i}_push(t,a,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let n=new _r(this,t,a,l);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(t,a,l){return a}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,a,l){var n,s;const i=t.toLocaleLowerCase(),{close:r,error:u,leave:o,join:d}=ft;if(l&&[r,u,o,d].indexOf(i)>=0&&l!==this._joinRef())return;let h=this._onMessage(i,a,l);if(a&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(i)?(n=this.bindings.postgres_changes)===null||n===void 0||n.filter(m=>{var w,N,O;return((w=m.filter)===null||w===void 0?void 0:w.event)==="*"||((O=(N=m.filter)===null||N===void 0?void 0:N.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===i}).map(m=>m.callback(h,l)):(s=this.bindings[i])===null||s===void 0||s.filter(m=>{var w,N,O,y,v,g;if(["broadcast","presence","postgres_changes"].includes(i))if("id"in m){const x=m.id,E=(w=m.filter)===null||w===void 0?void 0:w.event;return x&&((N=a.ids)===null||N===void 0?void 0:N.includes(x))&&(E==="*"||(E==null?void 0:E.toLocaleLowerCase())===((O=a.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const x=(v=(y=m==null?void 0:m.filter)===null||y===void 0?void 0:y.event)===null||v===void 0?void 0:v.toLocaleLowerCase();return x==="*"||x===((g=a==null?void 0:a.event)===null||g===void 0?void 0:g.toLocaleLowerCase())}else return m.type.toLocaleLowerCase()===i}).map(m=>{if(typeof h=="object"&&"ids"in h){const w=h.data,{schema:N,table:O,commit_timestamp:y,type:v,errors:g}=w;h=Object.assign(Object.assign({},{schema:N,table:O,commit_timestamp:y,eventType:v,new:{},old:{},errors:g}),this._getPayloadRecords(w))}m.callback(h,l)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,a,l){const n=t.toLocaleLowerCase(),s={type:n,filter:a,callback:l};return this.bindings[n]?this.bindings[n].push(s):this.bindings[n]=[s],this}_off(t,a){const l=t.toLocaleLowerCase();return this.bindings[l]=this.bindings[l].filter(n=>{var s;return!(((s=n.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===l&&Mc.isEqual(n.filter,a))}),this}static isEqual(t,a){if(Object.keys(t).length!==Object.keys(a).length)return!1;for(const l in t)if(t[l]!==a[l])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ft.close,{},t)}_onError(t){this._on(ft.error,{},a=>t(a))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const a={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(a.new=md(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(a.old=md(t.columns,t.old_record)),a}}const bd=()=>{},Jy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Py{constructor(t,a){var l;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=H0,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=bd,this.ref=0,this.logger=bd,this.conn=null,this.sendBuffer=[],this.serializer=new Gy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let i;return s?i=s:typeof fetch>"u"?i=(...r)=>es(async()=>{const{default:u}=await Promise.resolve().then(()=>Gl);return{default:u}},void 0).then(({default:u})=>u(...r)):i=fetch,(...r)=>i(...r)},this.endPoint=`${t}/${ju.websocket}`,this.httpEndpoint=G0(t),a!=null&&a.transport?this.transport=a.transport:this.transport=null,a!=null&&a.params&&(this.params=a.params),a!=null&&a.timeout&&(this.timeout=a.timeout),a!=null&&a.logger&&(this.logger=a.logger),(a!=null&&a.logLevel||a!=null&&a.log_level)&&(this.logLevel=a.logLevel||a.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),a!=null&&a.heartbeatIntervalMs&&(this.heartbeatIntervalMs=a.heartbeatIntervalMs);const n=(l=a==null?void 0:a.params)===null||l===void 0?void 0:l.apikey;if(n&&(this.accessTokenValue=n,this.apiKey=n),this.reconnectAfterMs=a!=null&&a.reconnectAfterMs?a.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=a!=null&&a.encode?a.encode:(s,i)=>i(JSON.stringify(s)),this.decode=a!=null&&a.decode?a.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new L0(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(a==null?void 0:a.fetch),a!=null&&a.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(a==null?void 0:a.worker)||!1,this.workerUrl=a==null?void 0:a.workerUrl}this.accessToken=(a==null?void 0:a.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=qy),!this.transport)throw new Error("No transport provided");this.conn=new this.transport(this.endpointURL()),this.setupConnection()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Ly}))}disconnect(t,a){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,a??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(l=>l.teardown()))}getChannels(){return this.channels}async removeChannel(t){const a=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),a}async removeAllChannels(){const t=await Promise.all(this.channels.map(a=>a.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,a,l){this.logger(t,a,l)}connectionState(){switch(this.conn&&this.conn.readyState){case _n.connecting:return Ea.Connecting;case _n.open:return Ea.Open;case _n.closing:return Ea.Closing;default:return Ea.Closed}}isConnected(){return this.connectionState()===Ea.Open}channel(t,a={config:{}}){const l=`realtime:${t}`,n=this.getChannels().find(s=>s.topic===l);if(n)return n;{const s=new Mc(`realtime:${t}`,a,this);return this.channels.push(s),s}}push(t){const{topic:a,event:l,payload:n,ref:s}=t,i=()=>{this.encode(t,r=>{var u;(u=this.conn)===null||u===void 0||u.send(r)})};this.log("push",`${a} ${l} (${s})`,n),this.isConnected()?i():this.sendBuffer.push(i)}async setAuth(t=null){let a=t||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=a&&(this.accessTokenValue=a,this.channels.forEach(l=>{const n={access_token:a,version:Hy};a&&l.updateJoinPayload(n),l.joinedOnce&&l._isJoined()&&l._push(ft.access_token,{access_token:a})}))}async sendHeartbeat(){var t;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(t=this.conn)===null||t===void 0||t.close($y,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let a=this.channels.find(l=>l.topic===t&&(l._isJoined()||l._isJoining()));a&&(this.log("transport",`leaving duplicate topic "${t}"`),a.unsubscribe())}_remove(t){this.channels=this.channels.filter(a=>a.topic!==t.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,a=>{let{topic:l,event:n,payload:s,ref:i}=a;l==="phoenix"&&n==="phx_reply"&&this.heartbeatCallback(a.payload.status=="ok"?"ok":"error"),i&&i===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${l} ${n} ${i&&"("+i+")"||""}`,s),Array.from(this.channels).filter(r=>r._isMember(l)).forEach(r=>r._trigger(n,s,i)),this.stateChangeCallbacks.message.forEach(r=>r(a))})}_onConnOpen(){this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this.stateChangeCallbacks.open.forEach(t=>t())}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=a=>{this.log("worker","worker error",a.message),this.workerRef.terminate()},this.workerRef.onmessage=a=>{a.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(a=>a(t))}_onConnError(t){this.log("transport",`${t}`),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(a=>a(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ft.error))}_appendParams(t,a){if(Object.keys(a).length===0)return t;const l=t.match(/\?/)?"&":"?",n=new URLSearchParams(a);return`${t}${l}${n}`}_workerObjectUrl(t){let a;if(t)a=t;else{const l=new Blob([Jy],{type:"application/javascript"});a=URL.createObjectURL(l)}return a}}class kc extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}}function pe(e){return typeof e=="object"&&e!==null&&"__isStorageError"in e}class Wy extends kc{constructor(t,a){super(t),this.name="StorageApiError",this.status=a}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Tu extends kc{constructor(t,a){super(t),this.name="StorageUnknownError",this.originalError=a}}var Iy=function(e,t,a,l){function n(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function r(d){try{o(l.next(d))}catch(f){i(f)}}function u(d){try{o(l.throw(d))}catch(f){i(f)}}function o(d){d.done?s(d.value):n(d.value).then(r,u)}o((l=l.apply(e,t||[])).next())})};const Y0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>es(async()=>{const{default:l}=await Promise.resolve().then(()=>Gl);return{default:l}},void 0).then(({default:l})=>l(...a)):t=fetch,(...a)=>t(...a)},Fy=()=>Iy(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield es(()=>Promise.resolve().then(()=>Gl),void 0)).Response:Response}),Eu=e=>{if(Array.isArray(e))return e.map(a=>Eu(a));if(typeof e=="function"||e!==Object(e))return e;const t={};return Object.entries(e).forEach(([a,l])=>{const n=a.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[n]=Eu(l)}),t};var Ya=function(e,t,a,l){function n(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function r(d){try{o(l.next(d))}catch(f){i(f)}}function u(d){try{o(l.throw(d))}catch(f){i(f)}}function o(d){d.done?s(d.value):n(d.value).then(r,u)}o((l=l.apply(e,t||[])).next())})};const Sr=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),eb=(e,t,a)=>Ya(void 0,void 0,void 0,function*(){const l=yield Fy();e instanceof l&&!(a!=null&&a.noResolveJson)?e.json().then(n=>{t(new Wy(Sr(n),e.status||500))}).catch(n=>{t(new Tu(Sr(n),n))}):t(new Tu(Sr(e),e))}),tb=(e,t,a,l)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json"},t==null?void 0:t.headers),l&&(n.body=JSON.stringify(l)),Object.assign(Object.assign({},n),a))};function as(e,t,a,l,n,s){return Ya(this,void 0,void 0,function*(){return new Promise((i,r)=>{e(a,tb(t,l,n,s)).then(u=>{if(!u.ok)throw u;return l!=null&&l.noResolveJson?u:u.json()}).then(u=>i(u)).catch(u=>eb(u,r,l))})})}function oi(e,t,a,l){return Ya(this,void 0,void 0,function*(){return as(e,"GET",t,a,l)})}function Jt(e,t,a,l,n){return Ya(this,void 0,void 0,function*(){return as(e,"POST",t,l,n,a)})}function ab(e,t,a,l,n){return Ya(this,void 0,void 0,function*(){return as(e,"PUT",t,l,n,a)})}function lb(e,t,a,l){return Ya(this,void 0,void 0,function*(){return as(e,"HEAD",t,Object.assign(Object.assign({},a),{noResolveJson:!0}),l)})}function Q0(e,t,a,l,n){return Ya(this,void 0,void 0,function*(){return as(e,"DELETE",t,l,n,a)})}var ke=function(e,t,a,l){function n(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function r(d){try{o(l.next(d))}catch(f){i(f)}}function u(d){try{o(l.throw(d))}catch(f){i(f)}}function o(d){d.done?s(d.value):n(d.value).then(r,u)}o((l=l.apply(e,t||[])).next())})};const nb={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pd={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sb{constructor(t,a={},l,n){this.url=t,this.headers=a,this.bucketId=l,this.fetch=Y0(n)}uploadOrUpdate(t,a,l,n){return ke(this,void 0,void 0,function*(){try{let s;const i=Object.assign(Object.assign({},pd),n);let r=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(i.upsert)});const u=i.metadata;typeof Blob<"u"&&l instanceof Blob?(s=new FormData,s.append("cacheControl",i.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",l)):typeof FormData<"u"&&l instanceof FormData?(s=l,s.append("cacheControl",i.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=l,r["cache-control"]=`max-age=${i.cacheControl}`,r["content-type"]=i.contentType,u&&(r["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),n!=null&&n.headers&&(r=Object.assign(Object.assign({},r),n.headers));const o=this._removeEmptyFolders(a),d=this._getFinalPath(o),f=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:t,body:s,headers:r},i!=null&&i.duplex?{duplex:i.duplex}:{})),h=yield f.json();return f.ok?{data:{path:o,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(s){if(pe(s))return{data:null,error:s};throw s}})}upload(t,a,l){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,a,l)})}uploadToSignedUrl(t,a,l,n){return ke(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(t),i=this._getFinalPath(s),r=new URL(this.url+`/object/upload/sign/${i}`);r.searchParams.set("token",a);try{let u;const o=Object.assign({upsert:pd.upsert},n),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(o.upsert)});typeof Blob<"u"&&l instanceof Blob?(u=new FormData,u.append("cacheControl",o.cacheControl),u.append("",l)):typeof FormData<"u"&&l instanceof FormData?(u=l,u.append("cacheControl",o.cacheControl)):(u=l,d["cache-control"]=`max-age=${o.cacheControl}`,d["content-type"]=o.contentType);const f=yield this.fetch(r.toString(),{method:"PUT",body:u,headers:d}),h=yield f.json();return f.ok?{data:{path:s,fullPath:h.Key},error:null}:{data:null,error:h}}catch(u){if(pe(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,a){return ke(this,void 0,void 0,function*(){try{let l=this._getFinalPath(t);const n=Object.assign({},this.headers);a!=null&&a.upsert&&(n["x-upsert"]="true");const s=yield Jt(this.fetch,`${this.url}/object/upload/sign/${l}`,{},{headers:n}),i=new URL(this.url+s.url),r=i.searchParams.get("token");if(!r)throw new kc("No token returned by API");return{data:{signedUrl:i.toString(),path:t,token:r},error:null}}catch(l){if(pe(l))return{data:null,error:l};throw l}})}update(t,a,l){return ke(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,a,l)})}move(t,a,l){return ke(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}copy(t,a,l){return ke(this,void 0,void 0,function*(){try{return{data:{path:(yield Jt(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:a,destinationBucket:l==null?void 0:l.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}createSignedUrl(t,a,l){return ke(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),s=yield Jt(this.fetch,`${this.url}/object/sign/${n}`,Object.assign({expiresIn:a},l!=null&&l.transform?{transform:l.transform}:{}),{headers:this.headers});const i=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${i}`)},{data:s,error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}createSignedUrls(t,a,l){return ke(this,void 0,void 0,function*(){try{const n=yield Jt(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:a,paths:t},{headers:this.headers}),s=l!=null&&l.download?`&download=${l.download===!0?"":l.download}`:"";return{data:n.map(i=>Object.assign(Object.assign({},i),{signedUrl:i.signedURL?encodeURI(`${this.url}${i.signedURL}${s}`):null})),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}download(t,a){return ke(this,void 0,void 0,function*(){const n=typeof(a==null?void 0:a.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((a==null?void 0:a.transform)||{}),i=s?`?${s}`:"";try{const r=this._getFinalPath(t);return{data:yield(yield oi(this.fetch,`${this.url}/${n}/${r}${i}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(r){if(pe(r))return{data:null,error:r};throw r}})}info(t){return ke(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{const l=yield oi(this.fetch,`${this.url}/object/info/${a}`,{headers:this.headers});return{data:Eu(l),error:null}}catch(l){if(pe(l))return{data:null,error:l};throw l}})}exists(t){return ke(this,void 0,void 0,function*(){const a=this._getFinalPath(t);try{return yield lb(this.fetch,`${this.url}/object/${a}`,{headers:this.headers}),{data:!0,error:null}}catch(l){if(pe(l)&&l instanceof Tu){const n=l.originalError;if([400,404].includes(n==null?void 0:n.status))return{data:!1,error:l}}throw l}})}getPublicUrl(t,a){const l=this._getFinalPath(t),n=[],s=a!=null&&a.download?`download=${a.download===!0?"":a.download}`:"";s!==""&&n.push(s);const r=typeof(a==null?void 0:a.transform)<"u"?"render/image":"object",u=this.transformOptsToQueryString((a==null?void 0:a.transform)||{});u!==""&&n.push(u);let o=n.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${r}/public/${l}${o}`)}}}remove(t){return ke(this,void 0,void 0,function*(){try{return{data:yield Q0(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}})}list(t,a,l){return ke(this,void 0,void 0,function*(){try{const n=Object.assign(Object.assign(Object.assign({},nb),a),{prefix:t||""});return{data:yield Jt(this.fetch,`${this.url}/object/list/${this.bucketId}`,n,{headers:this.headers},l),error:null}}catch(n){if(pe(n))return{data:null,error:n};throw n}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const a=[];return t.width&&a.push(`width=${t.width}`),t.height&&a.push(`height=${t.height}`),t.resize&&a.push(`resize=${t.resize}`),t.format&&a.push(`format=${t.format}`),t.quality&&a.push(`quality=${t.quality}`),a.join("&")}}const ib="2.7.1",rb={"X-Client-Info":`storage-js/${ib}`};var Va=function(e,t,a,l){function n(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function r(d){try{o(l.next(d))}catch(f){i(f)}}function u(d){try{o(l.throw(d))}catch(f){i(f)}}function o(d){d.done?s(d.value):n(d.value).then(r,u)}o((l=l.apply(e,t||[])).next())})};class ub{constructor(t,a={},l){this.url=t,this.headers=Object.assign(Object.assign({},rb),a),this.fetch=Y0(l)}listBuckets(){return Va(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(pe(t))return{data:null,error:t};throw t}})}getBucket(t){return Va(this,void 0,void 0,function*(){try{return{data:yield oi(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}})}createBucket(t,a={public:!1}){return Va(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(pe(l))return{data:null,error:l};throw l}})}updateBucket(t,a){return Va(this,void 0,void 0,function*(){try{return{data:yield ab(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:a.public,file_size_limit:a.fileSizeLimit,allowed_mime_types:a.allowedMimeTypes},{headers:this.headers}),error:null}}catch(l){if(pe(l))return{data:null,error:l};throw l}})}emptyBucket(t){return Va(this,void 0,void 0,function*(){try{return{data:yield Jt(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}})}deleteBucket(t){return Va(this,void 0,void 0,function*(){try{return{data:yield Q0(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(a){if(pe(a))return{data:null,error:a};throw a}})}}class cb extends ub{constructor(t,a={},l){super(t,a,l)}from(t){return new sb(this.url,this.headers,t,this.fetch)}}const ob="2.52.0";let nn="";typeof Deno<"u"?nn="deno":typeof document<"u"?nn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?nn="react-native":nn="node";const db={"X-Client-Info":`supabase-js-${nn}/${ob}`},fb={headers:db},hb={schema:"public"},mb={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gb={};var vb=function(e,t,a,l){function n(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function r(d){try{o(l.next(d))}catch(f){i(f)}}function u(d){try{o(l.throw(d))}catch(f){i(f)}}function o(d){d.done?s(d.value):n(d.value).then(r,u)}o((l=l.apply(e,t||[])).next())})};const yb=e=>{let t;return e?t=e:typeof fetch>"u"?t=A0:t=fetch,(...a)=>t(...a)},bb=()=>typeof Headers>"u"?O0:Headers,pb=(e,t,a)=>{const l=yb(a),n=bb();return(s,i)=>vb(void 0,void 0,void 0,function*(){var r;const u=(r=yield t())!==null&&r!==void 0?r:e;let o=new n(i==null?void 0:i.headers);return o.has("apikey")||o.set("apikey",e),o.has("Authorization")||o.set("Authorization",`Bearer ${u}`),l(s,Object.assign(Object.assign({},i),{headers:o}))})};var xb=function(e,t,a,l){function n(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function r(d){try{o(l.next(d))}catch(f){i(f)}}function u(d){try{o(l.throw(d))}catch(f){i(f)}}function o(d){d.done?s(d.value):n(d.value).then(r,u)}o((l=l.apply(e,t||[])).next())})};function _b(e){return e.endsWith("/")?e:e+"/"}function Sb(e,t){var a,l;const{db:n,auth:s,realtime:i,global:r}=e,{db:u,auth:o,realtime:d,global:f}=t,h={db:Object.assign(Object.assign({},u),n),auth:Object.assign(Object.assign({},o),s),realtime:Object.assign(Object.assign({},d),i),global:Object.assign(Object.assign(Object.assign({},f),r),{headers:Object.assign(Object.assign({},(a=f==null?void 0:f.headers)!==null&&a!==void 0?a:{}),(l=r==null?void 0:r.headers)!==null&&l!==void 0?l:{})}),accessToken:()=>xb(this,void 0,void 0,function*(){return""})};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}const X0="2.71.1",tl=30*1e3,Au=3,wr=Au*tl,wb="http://localhost:9999",jb="supabase.auth.token",Nb={"X-Client-Info":`gotrue-js/${X0}`},Ou="X-Supabase-Api-Version",V0={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Tb=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Eb=10*60*1e3;class Cc extends Error{constructor(t,a,l){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=a,this.code=l}}function H(e){return typeof e=="object"&&e!==null&&"__isAuthError"in e}class Ab extends Cc{constructor(t,a,l){super(t,a,l),this.name="AuthApiError",this.status=a,this.code=l}}function Ob(e){return H(e)&&e.name==="AuthApiError"}class K0 extends Cc{constructor(t,a){super(t),this.name="AuthUnknownError",this.originalError=a}}class ba extends Cc{constructor(t,a,l,n){super(t,l,n),this.name=a,this.status=l}}class Vt extends ba{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Db(e){return H(e)&&e.name==="AuthSessionMissingError"}class bs extends ba{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ps extends ba{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class xs extends ba{constructor(t,a=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Rb(e){return H(e)&&e.name==="AuthImplicitGrantRedirectError"}class xd extends ba{constructor(t,a=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=a}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Du extends ba{constructor(t,a){super(t,"AuthRetryableFetchError",a,void 0)}}function jr(e){return H(e)&&e.name==="AuthRetryableFetchError"}class _d extends ba{constructor(t,a,l){super(t,"AuthWeakPasswordError",a,"weak_password"),this.reasons=l}}class Ru extends ba{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const di="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Sd=` 	
\r=`.split(""),Ub=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<Sd.length;t+=1)e[Sd[t].charCodeAt(0)]=-2;for(let t=0;t<di.length;t+=1)e[di[t].charCodeAt(0)]=t;return e})();function wd(e,t,a){if(e!==null)for(t.queue=t.queue<<8|e,t.queuedBits+=8;t.queuedBits>=6;){const l=t.queue>>t.queuedBits-6&63;a(di[l]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const l=t.queue>>t.queuedBits-6&63;a(di[l]),t.queuedBits-=6}}function Z0(e,t,a){const l=Ub[e];if(l>-1)for(t.queue=t.queue<<6|l,t.queuedBits+=6;t.queuedBits>=8;)a(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(e)}"`)}}function jd(e){const t=[],a=i=>{t.push(String.fromCodePoint(i))},l={utf8seq:0,codepoint:0},n={queue:0,queuedBits:0},s=i=>{Cb(i,l,a)};for(let i=0;i<e.length;i+=1)Z0(e.charCodeAt(i),n,s);return t.join("")}function Mb(e,t){if(e<=127){t(e);return}else if(e<=2047){t(192|e>>6),t(128|e&63);return}else if(e<=65535){t(224|e>>12),t(128|e>>6&63),t(128|e&63);return}else if(e<=1114111){t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),t(128|e&63);return}throw new Error(`Unrecognized Unicode codepoint: ${e.toString(16)}`)}function kb(e,t){for(let a=0;a<e.length;a+=1){let l=e.charCodeAt(a);if(l>55295&&l<=56319){const n=(l-55296)*1024&65535;l=(e.charCodeAt(a+1)-56320&65535|n)+65536,a+=1}Mb(l,t)}}function Cb(e,t,a){if(t.utf8seq===0){if(e<=127){a(e);return}for(let l=1;l<6;l+=1)if(!(e>>7-l&1)){t.utf8seq=l;break}if(t.utf8seq===2)t.codepoint=e&31;else if(t.utf8seq===3)t.codepoint=e&15;else if(t.utf8seq===4)t.codepoint=e&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|e&63,t.utf8seq-=1,t.utf8seq===0&&a(t.codepoint)}}function zb(e){const t=[],a={queue:0,queuedBits:0},l=n=>{t.push(n)};for(let n=0;n<e.length;n+=1)Z0(e.charCodeAt(n),a,l);return new Uint8Array(t)}function qb(e){const t=[];return kb(e,a=>t.push(a)),new Uint8Array(t)}function Bb(e){const t=[],a={queue:0,queuedBits:0},l=n=>{t.push(n)};return e.forEach(n=>wd(n,a,l)),wd(null,a,l),t.join("")}function Hb(e){return Math.round(Date.now()/1e3)+e}function Lb(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){const t=Math.random()*16|0;return(e=="x"?t:t&3|8).toString(16)})}const ot=()=>typeof window<"u"&&typeof document<"u",_a={tested:!1,writable:!1},J0=()=>{if(!ot())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(_a.tested)return _a.writable;const e=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),_a.tested=!0,_a.writable=!0}catch{_a.tested=!0,_a.writable=!1}return _a.writable};function $b(e){const t={},a=new URL(e);if(a.hash&&a.hash[0]==="#")try{new URLSearchParams(a.hash.substring(1)).forEach((n,s)=>{t[s]=n})}catch{}return a.searchParams.forEach((l,n)=>{t[n]=l}),t}const P0=e=>{let t;return e?t=e:typeof fetch>"u"?t=(...a)=>es(async()=>{const{default:l}=await Promise.resolve().then(()=>Gl);return{default:l}},void 0).then(({default:l})=>l(...a)):t=fetch,(...a)=>t(...a)},Gb=e=>typeof e=="object"&&e!==null&&"status"in e&&"ok"in e&&"json"in e&&typeof e.json=="function",al=async(e,t,a)=>{await e.setItem(t,JSON.stringify(a))},Sa=async(e,t)=>{const a=await e.getItem(t);if(!a)return null;try{return JSON.parse(a)}catch{return a}},Qt=async(e,t)=>{await e.removeItem(t)};class zi{constructor(){this.promise=new zi.promiseConstructor((t,a)=>{this.resolve=t,this.reject=a})}}zi.promiseConstructor=Promise;function Nr(e){const t=e.split(".");if(t.length!==3)throw new Ru("Invalid JWT structure");for(let l=0;l<t.length;l++)if(!Tb.test(t[l]))throw new Ru("JWT not in base64url format");return{header:JSON.parse(jd(t[0])),payload:JSON.parse(jd(t[1])),signature:zb(t[2]),raw:{header:t[0],payload:t[1]}}}async function Yb(e){return await new Promise(t=>{setTimeout(()=>t(null),e)})}function Qb(e,t){return new Promise((l,n)=>{(async()=>{for(let s=0;s<1/0;s++)try{const i=await e(s);if(!t(s,null,i)){l(i);return}}catch(i){if(!t(s,i)){n(i);return}}})()})}function Xb(e){return("0"+e.toString(16)).substr(-2)}function Vb(){const t=new Uint32Array(56);if(typeof crypto>"u"){const a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=a.length;let n="";for(let s=0;s<56;s++)n+=a.charAt(Math.floor(Math.random()*l));return n}return crypto.getRandomValues(t),Array.from(t,Xb).join("")}async function Kb(e){const a=new TextEncoder().encode(e),l=await crypto.subtle.digest("SHA-256",a),n=new Uint8Array(l);return Array.from(n).map(s=>String.fromCharCode(s)).join("")}async function Zb(e){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const a=await Kb(e);return btoa(a).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ka(e,t,a=!1){const l=Vb();let n=l;a&&(n+="/PASSWORD_RECOVERY"),await al(e,`${t}-code-verifier`,n);const s=await Zb(l);return[s,l===s?"plain":"s256"]}const Jb=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Pb(e){const t=e.headers.get(Ou);if(!t||!t.match(Jb))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function Wb(e){if(!e)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(e<=t)throw new Error("JWT has expired")}function Ib(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Fb=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Za(e){if(!Fb.test(e))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Tr(){const e={};return new Proxy(e,{get:(t,a)=>{if(a==="__isUserNotAvailableProxy")return!0;if(typeof a=="symbol"){const l=a.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${a}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,a)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${a}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Nd(e){return JSON.parse(JSON.stringify(e))}var ep=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]]);return a};const Ta=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),tp=[502,503,504];async function Td(e){var t;if(!Gb(e))throw new Du(Ta(e),0);if(tp.includes(e.status))throw new Du(Ta(e),e.status);let a;try{a=await e.json()}catch(s){throw new K0(Ta(s),s)}let l;const n=Pb(e);if(n&&n.getTime()>=V0["2024-01-01"].timestamp&&typeof a=="object"&&a&&typeof a.code=="string"?l=a.code:typeof a=="object"&&a&&typeof a.error_code=="string"&&(l=a.error_code),l){if(l==="weak_password")throw new _d(Ta(a),e.status,((t=a.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(l==="session_not_found")throw new Vt}else if(typeof a=="object"&&a&&typeof a.weak_password=="object"&&a.weak_password&&Array.isArray(a.weak_password.reasons)&&a.weak_password.reasons.length&&a.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0))throw new _d(Ta(a),e.status,a.weak_password.reasons);throw new Ab(Ta(a),e.status||500,l)}const ap=(e,t,a,l)=>{const n={method:e,headers:(t==null?void 0:t.headers)||{}};return e==="GET"?n:(n.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),n.body=JSON.stringify(l),Object.assign(Object.assign({},n),a))};async function G(e,t,a,l){var n;const s=Object.assign({},l==null?void 0:l.headers);s[Ou]||(s[Ou]=V0["2024-01-01"].name),l!=null&&l.jwt&&(s.Authorization=`Bearer ${l.jwt}`);const i=(n=l==null?void 0:l.query)!==null&&n!==void 0?n:{};l!=null&&l.redirectTo&&(i.redirect_to=l.redirectTo);const r=Object.keys(i).length?"?"+new URLSearchParams(i).toString():"",u=await lp(e,t,a+r,{headers:s,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(u):{data:Object.assign({},u),error:null}}async function lp(e,t,a,l,n,s){const i=ap(t,l,n,s);let r;try{r=await e(a,Object.assign({},i))}catch(u){throw console.error(u),new Du(Ta(u),0)}if(r.ok||await Td(r),l!=null&&l.noResolveJson)return r;try{return await r.json()}catch(u){await Td(u)}}function Tt(e){var t;let a=null;rp(e)&&(a=Object.assign({},e),e.expires_at||(a.expires_at=Hb(e.expires_in)));const l=(t=e.user)!==null&&t!==void 0?t:e;return{data:{session:a,user:l},error:null}}function Ed(e){const t=Tt(e);return!t.error&&e.weak_password&&typeof e.weak_password=="object"&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&typeof e.weak_password.message=="string"&&e.weak_password.reasons.reduce((a,l)=>a&&typeof l=="string",!0)&&(t.data.weak_password=e.weak_password),t}function ea(e){var t;return{data:{user:(t=e.user)!==null&&t!==void 0?t:e},error:null}}function np(e){return{data:e,error:null}}function sp(e){const{action_link:t,email_otp:a,hashed_token:l,redirect_to:n,verification_type:s}=e,i=ep(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),r={action_link:t,email_otp:a,hashed_token:l,redirect_to:n,verification_type:s},u=Object.assign({},i);return{data:{properties:r,user:u},error:null}}function ip(e){return e}function rp(e){return e.access_token&&e.refresh_token&&e.expires_in}const Er=["global","local","others"];var up=function(e,t){var a={};for(var l in e)Object.prototype.hasOwnProperty.call(e,l)&&t.indexOf(l)<0&&(a[l]=e[l]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,l=Object.getOwnPropertySymbols(e);n<l.length;n++)t.indexOf(l[n])<0&&Object.prototype.propertyIsEnumerable.call(e,l[n])&&(a[l[n]]=e[l[n]]);return a};class cp{constructor({url:t="",headers:a={},fetch:l}){this.url=t,this.headers=a,this.fetch=P0(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(t,a=Er[0]){if(Er.indexOf(a)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Er.join(", ")}`);try{return await G(this.fetch,"POST",`${this.url}/logout?scope=${a}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(l){if(H(l))return{data:null,error:l};throw l}}async inviteUserByEmail(t,a={}){try{return await G(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:a.data},headers:this.headers,redirectTo:a.redirectTo,xform:ea})}catch(l){if(H(l))return{data:{user:null},error:l};throw l}}async generateLink(t){try{const{options:a}=t,l=up(t,["options"]),n=Object.assign(Object.assign({},l),a);return"newEmail"in l&&(n.new_email=l==null?void 0:l.newEmail,delete n.newEmail),await G(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:n,headers:this.headers,xform:sp,redirectTo:a==null?void 0:a.redirectTo})}catch(a){if(H(a))return{data:{properties:null,user:null},error:a};throw a}}async createUser(t){try{return await G(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:ea})}catch(a){if(H(a))return{data:{user:null},error:a};throw a}}async listUsers(t){var a,l,n,s,i,r,u;try{const o={nextPage:null,lastPage:0,total:0},d=await G(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(a=t==null?void 0:t.page)===null||a===void 0?void 0:a.toString())!==null&&l!==void 0?l:"",per_page:(s=(n=t==null?void 0:t.perPage)===null||n===void 0?void 0:n.toString())!==null&&s!==void 0?s:""},xform:ip});if(d.error)throw d.error;const f=await d.json(),h=(i=d.headers.get("x-total-count"))!==null&&i!==void 0?i:0,m=(u=(r=d.headers.get("link"))===null||r===void 0?void 0:r.split(","))!==null&&u!==void 0?u:[];return m.length>0&&(m.forEach(w=>{const N=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(w.split(";")[1].split("=")[1]);o[`${O}Page`]=N}),o.total=parseInt(h)),{data:Object.assign(Object.assign({},f),o),error:null}}catch(o){if(H(o))return{data:{users:[]},error:o};throw o}}async getUserById(t){Za(t);try{return await G(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:ea})}catch(a){if(H(a))return{data:{user:null},error:a};throw a}}async updateUserById(t,a){Za(t);try{return await G(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:a,headers:this.headers,xform:ea})}catch(l){if(H(l))return{data:{user:null},error:l};throw l}}async deleteUser(t,a=!1){Za(t);try{return await G(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:a},xform:ea})}catch(l){if(H(l))return{data:{user:null},error:l};throw l}}async _listFactors(t){Za(t.userId);try{const{data:a,error:l}=await G(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:n=>({data:{factors:n},error:null})});return{data:a,error:l}}catch(a){if(H(a))return{data:null,error:a};throw a}}async _deleteFactor(t){Za(t.userId),Za(t.id);try{return{data:await G(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(a){if(H(a))return{data:null,error:a};throw a}}}function Ad(e={}){return{getItem:t=>e[t]||null,setItem:(t,a)=>{e[t]=a},removeItem:t=>{delete e[t]}}}function op(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const Ja={debug:!!(globalThis&&J0()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class W0 extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class dp extends W0{}async function fp(e,t,a){Ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const l=new globalThis.AbortController;return t>0&&setTimeout(()=>{l.abort(),Ja.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)},t),await Promise.resolve().then(()=>globalThis.navigator.locks.request(e,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async n=>{if(n){Ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await a()}finally{Ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}else{if(t===0)throw Ja.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new dp(`Acquiring an exclusive Navigator LockManager lock "${e}" immediately failed`);if(Ja.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await a()}}))}op();const hp={url:wb,storageKey:jb,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Nb,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Od(e,t,a){return await a()}const Pa={};class qn{constructor(t){var a,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=qn.nextInstanceID,qn.nextInstanceID+=1,this.instanceID>0&&ot()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},hp),t);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new cp({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=P0(n.fetch),this.lock=n.lock||Od,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ot()&&(!((a=globalThis==null?void 0:globalThis.navigator)===null||a===void 0)&&a.locks)?this.lock=fp:this.lock=Od,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?(n.storage?this.storage=n.storage:J0()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Ad(this.memoryStorage)),n.userStorage&&(this.userStorage=n.userStorage)):(this.memoryStorage={},this.storage=Ad(this.memoryStorage)),ot()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(s){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",s)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async s=>{this._debug("received broadcast notification from other tab or client",s),await this._notifyAllSubscribers(s.data.event,s.data.session,!1)})}this.initialize()}get jwks(){var t,a;return(a=(t=Pa[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&a!==void 0?a:{keys:[]}}set jwks(t){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,a;return(a=(t=Pa[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&a!==void 0?a:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Pa[this.storageKey]=Object.assign(Object.assign({},Pa[this.storageKey]),{cachedAt:t})}_debug(...t){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${X0}) ${new Date().toISOString()}`,...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{const a=$b(window.location.href);let l="none";if(this._isImplicitGrantCallback(a)?l="implicit":await this._isPKCECallback(a)&&(l="pkce"),ot()&&this.detectSessionInUrl&&l!=="none"){const{data:n,error:s}=await this._getSessionFromURL(a,l);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),Rb(s)){const u=(t=s.details)===null||t===void 0?void 0:t.code;if(u==="identity_already_exists"||u==="identity_not_found"||u==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:i,redirectType:r}=n;return this._debug("#_initialize()","detected session in URL",i,"redirect type",r),await this._saveSession(i),setTimeout(async()=>{r==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",i):await this._notifyAllSubscribers("SIGNED_IN",i)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(a){return H(a)?{error:a}:{error:new K0("Unexpected error during initialization",a)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var a,l,n;try{const s=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(a=t==null?void 0:t.options)===null||a===void 0?void 0:a.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(n=t==null?void 0:t.options)===null||n===void 0?void 0:n.captchaToken}},xform:Tt}),{data:i,error:r}=s;if(r||!i)return{data:{user:null,session:null},error:r};const u=i.session,o=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:o,session:u},error:null}}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signUp(t){var a,l,n;try{let s;if("email"in t){const{email:d,password:f,options:h}=t;let m=null,w=null;this.flowType==="pkce"&&([m,w]=await Ka(this.storage,this.storageKey)),s=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:d,password:f,data:(a=h==null?void 0:h.data)!==null&&a!==void 0?a:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:m,code_challenge_method:w},xform:Tt})}else if("phone"in t){const{phone:d,password:f,options:h}=t;s=await G(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(l=h==null?void 0:h.data)!==null&&l!==void 0?l:{},channel:(n=h==null?void 0:h.channel)!==null&&n!==void 0?n:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Tt})}else throw new ps("You must provide either an email or phone number and a password");const{data:i,error:r}=s;if(r||!i)return{data:{user:null,session:null},error:r};const u=i.session,o=i.user;return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",u)),{data:{user:o,session:u},error:null}}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithPassword(t){try{let a;if("email"in t){const{email:s,password:i,options:r}=t;a=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ed})}else if("phone"in t){const{phone:s,password:i,options:r}=t;a=await G(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:i,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ed})}else throw new ps("You must provide either an email or phone number and a password");const{data:l,error:n}=a;return n?{data:{user:null,session:null},error:n}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new bs}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:n})}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOAuth(t){var a,l,n,s;return await this._handleProviderSignIn(t.provider,{redirectTo:(a=t.options)===null||a===void 0?void 0:a.redirectTo,scopes:(l=t.options)===null||l===void 0?void 0:l.scopes,queryParams:(n=t.options)===null||n===void 0?void 0:n.queryParams,skipBrowserRedirect:(s=t.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:a}=t;if(a==="solana")return await this.signInWithSolana(t);throw new Error(`@supabase/auth-js: Unsupported chain "${a}"`)}async signInWithSolana(t){var a,l,n,s,i,r,u,o,d,f,h,m;let w,N;if("message"in t)w=t.message,N=t.signature;else{const{chain:O,wallet:y,statement:v,options:g}=t;let x;if(ot())if(typeof y=="object")x=y;else{const R=window;if("solana"in R&&typeof R.solana=="object"&&("signIn"in R.solana&&typeof R.solana.signIn=="function"||"signMessage"in R.solana&&typeof R.solana.signMessage=="function"))x=R.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof y!="object"||!(g!=null&&g.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=y}const E=new URL((a=g==null?void 0:g.url)!==null&&a!==void 0?a:window.location.href);if("signIn"in x&&x.signIn){const R=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},g==null?void 0:g.signInWithSolana),{version:"1",domain:E.host,uri:E.href}),v?{statement:v}:null));let D;if(Array.isArray(R)&&R[0]&&typeof R[0]=="object")D=R[0];else if(R&&typeof R=="object"&&"signedMessage"in R&&"signature"in R)D=R;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in D&&"signature"in D&&(typeof D.signedMessage=="string"||D.signedMessage instanceof Uint8Array)&&D.signature instanceof Uint8Array)w=typeof D.signedMessage=="string"?D.signedMessage:new TextDecoder().decode(D.signedMessage),N=D.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${E.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...v?["",v,""]:[""],"Version: 1",`URI: ${E.href}`,`Issued At: ${(n=(l=g==null?void 0:g.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&n!==void 0?n:new Date().toISOString()}`,...!((s=g==null?void 0:g.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${g.signInWithSolana.notBefore}`]:[],...!((i=g==null?void 0:g.signInWithSolana)===null||i===void 0)&&i.expirationTime?[`Expiration Time: ${g.signInWithSolana.expirationTime}`]:[],...!((r=g==null?void 0:g.signInWithSolana)===null||r===void 0)&&r.chainId?[`Chain ID: ${g.signInWithSolana.chainId}`]:[],...!((u=g==null?void 0:g.signInWithSolana)===null||u===void 0)&&u.nonce?[`Nonce: ${g.signInWithSolana.nonce}`]:[],...!((o=g==null?void 0:g.signInWithSolana)===null||o===void 0)&&o.requestId?[`Request ID: ${g.signInWithSolana.requestId}`]:[],...!((f=(d=g==null?void 0:g.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...g.signInWithSolana.resources.map(D=>`- ${D}`)]:[]].join(`
`);const R=await x.signMessage(new TextEncoder().encode(w),"utf8");if(!R||!(R instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=R}}try{const{data:O,error:y}=await G(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Bb(N)},!((h=t.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(m=t.options)===null||m===void 0?void 0:m.captchaToken}}:null),xform:Tt});if(y)throw y;return!O||!O.session||!O.user?{data:{user:null,session:null},error:new bs}:(O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),{data:Object.assign({},O),error:y})}catch(O){if(H(O))return{data:{user:null,session:null},error:O};throw O}}async _exchangeCodeForSession(t){const a=await Sa(this.storage,`${this.storageKey}-code-verifier`),[l,n]=(a??"").split("/");try{const{data:s,error:i}=await G(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:l},xform:Tt});if(await Qt(this.storage,`${this.storageKey}-code-verifier`),i)throw i;return!s||!s.session||!s.user?{data:{user:null,session:null,redirectType:null},error:new bs}:(s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),{data:Object.assign(Object.assign({},s),{redirectType:n??null}),error:i})}catch(s){if(H(s))return{data:{user:null,session:null,redirectType:null},error:s};throw s}}async signInWithIdToken(t){try{const{options:a,provider:l,token:n,access_token:s,nonce:i}=t,r=await G(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:n,access_token:s,nonce:i,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Tt}),{data:u,error:o}=r;return o?{data:{user:null,session:null},error:o}:!u||!u.session||!u.user?{data:{user:null,session:null},error:new bs}:(u.session&&(await this._saveSession(u.session),await this._notifyAllSubscribers("SIGNED_IN",u.session)),{data:u,error:o})}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithOtp(t){var a,l,n,s,i;try{if("email"in t){const{email:r,options:u}=t;let o=null,d=null;this.flowType==="pkce"&&([o,d]=await Ka(this.storage,this.storageKey));const{error:f}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:r,data:(a=u==null?void 0:u.data)!==null&&a!==void 0?a:{},create_user:(l=u==null?void 0:u.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},code_challenge:o,code_challenge_method:d},redirectTo:u==null?void 0:u.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in t){const{phone:r,options:u}=t,{data:o,error:d}=await G(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:r,data:(n=u==null?void 0:u.data)!==null&&n!==void 0?n:{},create_user:(s=u==null?void 0:u.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:u==null?void 0:u.captchaToken},channel:(i=u==null?void 0:u.channel)!==null&&i!==void 0?i:"sms"}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:d}}throw new ps("You must provide either an email or phone number.")}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async verifyOtp(t){var a,l;try{let n,s;"options"in t&&(n=(a=t.options)===null||a===void 0?void 0:a.redirectTo,s=(l=t.options)===null||l===void 0?void 0:l.captchaToken);const{data:i,error:r}=await G(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:s}}),redirectTo:n,xform:Tt});if(r)throw r;if(!i)throw new Error("An error occurred on token verification.");const u=i.session,o=i.user;return u!=null&&u.access_token&&(await this._saveSession(u),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",u)),{data:{user:o,session:u},error:null}}catch(n){if(H(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(t){var a,l,n;try{let s=null,i=null;return this.flowType==="pkce"&&([s,i]=await Ka(this.storage,this.storageKey)),await G(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(l=(a=t.options)===null||a===void 0?void 0:a.redirectTo)!==null&&l!==void 0?l:void 0}),!((n=t==null?void 0:t.options)===null||n===void 0)&&n.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:s,code_challenge_method:i}),headers:this.headers,xform:np})}catch(s){if(H(s))return{data:null,error:s};throw s}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:a},error:l}=t;if(l)throw l;if(!a)throw new Vt;const{error:n}=await G(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:a.access_token});return{data:{user:null,session:null},error:n}})}catch(t){if(H(t))return{data:{user:null,session:null},error:t};throw t}}async resend(t){try{const a=`${this.url}/resend`;if("email"in t){const{email:l,type:n,options:s}=t,{error:i}=await G(this.fetch,"POST",a,{headers:this.headers,body:{email:l,type:n,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return{data:{user:null,session:null},error:i}}else if("phone"in t){const{phone:l,type:n,options:s}=t,{data:i,error:r}=await G(this.fetch,"POST",a,{headers:this.headers,body:{phone:l,type:n,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return{data:{user:null,session:null,messageId:i==null?void 0:i.message_id},error:r}}throw new ps("You must provide either an email or phone number and a type")}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async a=>a))}async _acquireLock(t,a){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),n=(async()=>(await l,await a()))();return this.pendingInLock.push((async()=>{try{await n}catch{}})()),n}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=a();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const n=[...this.pendingInLock];await Promise.all(n),this.pendingInLock.splice(0,n.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const a=await this.__loadSession();return await t(a)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const a=await Sa(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",a),a!==null&&(this._isValidSession(a)?t=a:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const l=t.expires_at?t.expires_at*1e3-Date.now()<wr:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",t.expires_at),!l){if(this.userStorage){const i=await Sa(this.userStorage,this.storageKey+"-user");i!=null&&i.user?t.user=i.user:t.user=Tr()}if(this.storage.isServer&&t.user){let i=this.suppressGetSessionWarning;t=new Proxy(t,{get:(u,o,d)=>(!i&&o==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),i=!0,this.suppressGetSessionWarning=!0),Reflect.get(u,o,d))})}return{data:{session:t},error:null}}const{session:n,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{session:null},error:s}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(t){return t?await this._getUser(t):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(t){try{return t?await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:ea}):await this._useSession(async a=>{var l,n,s;const{data:i,error:r}=a;if(r)throw r;return!(!((l=i.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Vt}:await G(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0,xform:ea})})}catch(a){if(H(a))return Db(a)&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:a};throw a}}async updateUser(t,a={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(t,a))}async _updateUser(t,a={}){try{return await this._useSession(async l=>{const{data:n,error:s}=l;if(s)throw s;if(!n.session)throw new Vt;const i=n.session;let r=null,u=null;this.flowType==="pkce"&&t.email!=null&&([r,u]=await Ka(this.storage,this.storageKey));const{data:o,error:d}=await G(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:a==null?void 0:a.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:r,code_challenge_method:u}),jwt:i.access_token,xform:ea});if(d)throw d;return i.user=o.user,await this._saveSession(i),await this._notifyAllSubscribers("USER_UPDATED",i),{data:{user:i.user},error:null}})}catch(l){if(H(l))return{data:{user:null},error:l};throw l}}async setSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Vt;const a=Date.now()/1e3;let l=a,n=!0,s=null;const{payload:i}=Nr(t.access_token);if(i.exp&&(l=i.exp,n=l<=a),n){const{session:r,error:u}=await this._callRefreshToken(t.refresh_token);if(u)return{data:{user:null,session:null},error:u};if(!r)return{data:{user:null,session:null},error:null};s=r}else{const{data:r,error:u}=await this._getUser(t.access_token);if(u)throw u;s={access_token:t.access_token,refresh_token:t.refresh_token,user:r.user,token_type:"bearer",expires_in:l-a,expires_at:l},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return{data:{user:s.user,session:s},error:null}}catch(a){if(H(a))return{data:{session:null,user:null},error:a};throw a}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async a=>{var l;if(!t){const{data:i,error:r}=a;if(r)throw r;t=(l=i.session)!==null&&l!==void 0?l:void 0}if(!(t!=null&&t.refresh_token))throw new Vt;const{session:n,error:s}=await this._callRefreshToken(t.refresh_token);return s?{data:{user:null,session:null},error:s}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}})}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async _getSessionFromURL(t,a){try{if(!ot())throw new xs("No browser detected.");if(t.error||t.error_description||t.error_code)throw new xs(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(a){case"implicit":if(this.flowType==="pkce")throw new xd("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new xs("Not a valid implicit grant flow url.");break;default:}if(a==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new xd("No code detected.");const{data:v,error:g}=await this._exchangeCodeForSession(t.code);if(g)throw g;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:v.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:n,access_token:s,refresh_token:i,expires_in:r,expires_at:u,token_type:o}=t;if(!s||!r||!i||!o)throw new xs("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(r);let h=d+f;u&&(h=parseInt(u));const m=h-d;m*1e3<=tl&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${m}s, should have been closer to ${f}s`);const w=h-f;d-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,h,d):d-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,h,d);const{data:N,error:O}=await this._getUser(s);if(O)throw O;const y={provider_token:l,provider_refresh_token:n,access_token:s,expires_in:f,expires_at:h,refresh_token:i,token_type:o,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:y,redirectType:t.type},error:null}}catch(l){if(H(l))return{data:{session:null,redirectType:null},error:l};throw l}}_isImplicitGrantCallback(t){return!!(t.access_token||t.error_description)}async _isPKCECallback(t){const a=await Sa(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&a)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async a=>{var l;const{data:n,error:s}=a;if(s)return{error:s};const i=(l=n.session)===null||l===void 0?void 0:l.access_token;if(i){const{error:r}=await this.admin.signOut(i,t);if(r&&!(Ob(r)&&(r.status===404||r.status===401||r.status===403)))return{error:r}}return t!=="others"&&(await this._removeSession(),await Qt(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(t){const a=Lb(),l={id:a,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",a),this.stateChangeEmitters.delete(a)}};return this._debug("#onAuthStateChange()","registered callback with id",a),this.stateChangeEmitters.set(a,l),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(a)})))(),{data:{subscription:l}}}async _emitInitialSession(t){return await this._useSession(async a=>{var l,n;try{const{data:{session:s},error:i}=a;if(i)throw i;await((l=this.stateChangeEmitters.get(t))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",t,"session",s)}catch(s){await((n=this.stateChangeEmitters.get(t))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",s),console.error(s)}})}async resetPasswordForEmail(t,a={}){let l=null,n=null;this.flowType==="pkce"&&([l,n]=await Ka(this.storage,this.storageKey,!0));try{return await G(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:l,code_challenge_method:n,gotrue_meta_security:{captcha_token:a.captchaToken}},headers:this.headers,redirectTo:a.redirectTo})}catch(s){if(H(s))return{data:null,error:s};throw s}}async getUserIdentities(){var t;try{const{data:a,error:l}=await this.getUser();if(l)throw l;return{data:{identities:(t=a.user.identities)!==null&&t!==void 0?t:[]},error:null}}catch(a){if(H(a))return{data:null,error:a};throw a}}async linkIdentity(t){var a;try{const{data:l,error:n}=await this._useSession(async s=>{var i,r,u,o,d;const{data:f,error:h}=s;if(h)throw h;const m=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(i=t.options)===null||i===void 0?void 0:i.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(u=t.options)===null||u===void 0?void 0:u.queryParams,skipBrowserRedirect:!0});return await G(this.fetch,"GET",m,{headers:this.headers,jwt:(d=(o=f.session)===null||o===void 0?void 0:o.access_token)!==null&&d!==void 0?d:void 0})});if(n)throw n;return ot()&&!(!((a=t.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),{data:{provider:t.provider,url:l==null?void 0:l.url},error:null}}catch(l){if(H(l))return{data:{provider:t.provider,url:null},error:l};throw l}}async unlinkIdentity(t){try{return await this._useSession(async a=>{var l,n;const{data:s,error:i}=a;if(i)throw i;return await G(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(n=(l=s.session)===null||l===void 0?void 0:l.access_token)!==null&&n!==void 0?n:void 0})})}catch(a){if(H(a))return{data:null,error:a};throw a}}async _refreshAccessToken(t){const a=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(a,"begin");try{const l=Date.now();return await Qb(async n=>(n>0&&await Yb(200*Math.pow(2,n-1)),this._debug(a,"refreshing attempt",n),await G(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:Tt})),(n,s)=>{const i=200*Math.pow(2,n);return s&&jr(s)&&Date.now()+i-l<tl})}catch(l){if(this._debug(a,"error",l),H(l))return{data:{session:null,user:null},error:l};throw l}finally{this._debug(a,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,a){const l=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:a.redirectTo,scopes:a.scopes,queryParams:a.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",a,"url",l),ot()&&!a.skipBrowserRedirect&&window.location.assign(l),{data:{provider:t,url:l},error:null}}async _recoverAndRefresh(){var t,a;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const n=await Sa(this.storage,this.storageKey);if(n&&this.userStorage){let i=await Sa(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!i&&(i={user:n.user},await al(this.userStorage,this.storageKey+"-user",i)),n.user=(t=i==null?void 0:i.user)!==null&&t!==void 0?t:Tr()}else if(n&&!n.user&&!n.user){const i=await Sa(this.storage,this.storageKey+"-user");i&&(i!=null&&i.user)?(n.user=i.user,await Qt(this.storage,this.storageKey+"-user"),await al(this.storage,this.storageKey,n)):n.user=Tr()}if(this._debug(l,"session from storage",n),!this._isValidSession(n)){this._debug(l,"session is not valid"),n!==null&&await this._removeSession();return}const s=((a=n.expires_at)!==null&&a!==void 0?a:1/0)*1e3-Date.now()<wr;if(this._debug(l,`session has${s?"":" not"} expired with margin of ${wr}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),jr(i)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else if(n.user&&n.user.__isUserNotAvailableProxy===!0)try{const{data:i,error:r}=await this._getUser(n.access_token);!r&&(i!=null&&i.user)?(n.user=i.user,await this._saveSession(n),await this._notifyAllSubscribers("SIGNED_IN",n)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(i){console.error("Error getting user data:",i),this._debug(l,"error getting user data, skipping SIGNED_IN notification",i)}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(l,"error",n),console.error(n);return}finally{this._debug(l,"end")}}async _callRefreshToken(t){var a,l;if(!t)throw new Vt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(n,"begin");try{this.refreshingDeferred=new zi;const{data:s,error:i}=await this._refreshAccessToken(t);if(i)throw i;if(!s.session)throw new Vt;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const r={session:s.session,error:null};return this.refreshingDeferred.resolve(r),r}catch(s){if(this._debug(n,"error",s),H(s)){const i={session:null,error:s};return jr(s)||await this._removeSession(),(a=this.refreshingDeferred)===null||a===void 0||a.resolve(i),i}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(s),s}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(t,a,l=!0){const n=`#_notifyAllSubscribers(${t})`;this._debug(n,"begin",a,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:t,session:a});const s=[],i=Array.from(this.stateChangeEmitters.values()).map(async r=>{try{await r.callback(t,a)}catch(u){s.push(u)}});if(await Promise.all(i),s.length>0){for(let r=0;r<s.length;r+=1)console.error(s[r]);throw s[0]}}finally{this._debug(n,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0;const a=Object.assign({},t),l=a.user&&a.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&a.user&&await al(this.userStorage,this.storageKey+"-user",{user:a.user});const n=Object.assign({},a);delete n.user;const s=Nd(n);await al(this.storage,this.storageKey,s)}else{const n=Nd(a);await al(this.storage,this.storageKey,n)}}async _removeSession(){this._debug("#_removeSession()"),await Qt(this.storage,this.storageKey),await Qt(this.storage,this.storageKey+"-code-verifier"),await Qt(this.storage,this.storageKey+"-user"),this.userStorage&&await Qt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&ot()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(a){console.error("removing visibilitychange callback failed",a)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),tl);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async a=>{const{data:{session:l}}=a;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const n=Math.floor((l.expires_at*1e3-t)/tl);this._debug("#_autoRefreshTokenTick()",`access token expires in ${n} ticks, a tick lasts ${tl}ms, refresh threshold is ${Au} ticks`),n<=Au&&await this._callRefreshToken(l.refresh_token)})}catch(a){console.error("Auto refresh tick failed with error. This is likely a transient error.",a)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof W0)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ot()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const a=`#_onVisibilityChanged(${t})`;this._debug(a,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(a,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,a,l){const n=[`provider=${encodeURIComponent(a)}`];if(l!=null&&l.redirectTo&&n.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&n.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[s,i]=await Ka(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(i)}`});n.push(r.toString())}if(l!=null&&l.queryParams){const s=new URLSearchParams(l.queryParams);n.push(s.toString())}return l!=null&&l.skipBrowserRedirect&&n.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${t}?${n.join("&")}`}async _unenroll(t){try{return await this._useSession(async a=>{var l;const{data:n,error:s}=a;return s?{data:null,error:s}:await G(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(l=n==null?void 0:n.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(H(a))return{data:null,error:a};throw a}}async _enroll(t){try{return await this._useSession(async a=>{var l,n;const{data:s,error:i}=a;if(i)return{data:null,error:i};const r=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:{issuer:t.issuer}),{data:u,error:o}=await G(this.fetch,"POST",`${this.url}/factors`,{body:r,headers:this.headers,jwt:(l=s==null?void 0:s.session)===null||l===void 0?void 0:l.access_token});return o?{data:null,error:o}:(t.factorType==="totp"&&(!((n=u==null?void 0:u.totp)===null||n===void 0)&&n.qr_code)&&(u.totp.qr_code=`data:image/svg+xml;utf-8,${u.totp.qr_code}`),{data:u,error:null})})}catch(a){if(H(a))return{data:null,error:a};throw a}}async _verify(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:n,error:s}=a;if(s)return{data:null,error:s};const{data:i,error:r}=await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:{code:t.code,challenge_id:t.challengeId},headers:this.headers,jwt:(l=n==null?void 0:n.session)===null||l===void 0?void 0:l.access_token});return r?{data:null,error:r}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+i.expires_in},i)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",i),{data:i,error:r})})}catch(a){if(H(a))return{data:null,error:a};throw a}})}async _challenge(t){return this._acquireLock(-1,async()=>{try{return await this._useSession(async a=>{var l;const{data:n,error:s}=a;return s?{data:null,error:s}:await G(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:{channel:t.channel},headers:this.headers,jwt:(l=n==null?void 0:n.session)===null||l===void 0?void 0:l.access_token})})}catch(a){if(H(a))return{data:null,error:a};throw a}})}async _challengeAndVerify(t){const{data:a,error:l}=await this._challenge({factorId:t.factorId});return l?{data:null,error:l}:await this._verify({factorId:t.factorId,challengeId:a.id,code:t.code})}async _listFactors(){const{data:{user:t},error:a}=await this.getUser();if(a)return{data:null,error:a};const l=(t==null?void 0:t.factors)||[],n=l.filter(i=>i.factor_type==="totp"&&i.status==="verified"),s=l.filter(i=>i.factor_type==="phone"&&i.status==="verified");return{data:{all:l,totp:n,phone:s},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async t=>{var a,l;const{data:{session:n},error:s}=t;if(s)return{data:null,error:s};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:i}=Nr(n.access_token);let r=null;i.aal&&(r=i.aal);let u=r;((l=(a=n.user.factors)===null||a===void 0?void 0:a.filter(f=>f.status==="verified"))!==null&&l!==void 0?l:[]).length>0&&(u="aal2");const d=i.amr||[];return{data:{currentLevel:r,nextLevel:u,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(t,a={keys:[]}){let l=a.keys.find(r=>r.kid===t);if(l)return l;const n=Date.now();if(l=this.jwks.keys.find(r=>r.kid===t),l&&this.jwks_cached_at+Eb>n)return l;const{data:s,error:i}=await G(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=n,l=s.keys.find(r=>r.kid===t),!l)?null:l}async getClaims(t,a={}){try{let l=t;if(!l){const{data:m,error:w}=await this.getSession();if(w||!m.session)return{data:null,error:w};l=m.session.access_token}const{header:n,payload:s,signature:i,raw:{header:r,payload:u}}=Nr(l);a!=null&&a.allowExpired||Wb(s.exp);const o=!n.alg||n.alg.startsWith("HS")||!n.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(n.kid,a!=null&&a.keys?{keys:a.keys}:a==null?void 0:a.jwks);if(!o){const{error:m}=await this.getUser(l);if(m)throw m;return{data:{claims:s,header:n,signature:i},error:null}}const d=Ib(n.alg),f=await crypto.subtle.importKey("jwk",o,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,i,qb(`${r}.${u}`)))throw new Ru("Invalid JWT signature");return{data:{claims:s,header:n,signature:i},error:null}}catch(l){if(H(l))return{data:null,error:l};throw l}}}qn.nextInstanceID=0;const mp=qn;class gp extends mp{constructor(t){super(t)}}var vp=function(e,t,a,l){function n(s){return s instanceof a?s:new a(function(i){i(s)})}return new(a||(a=Promise))(function(s,i){function r(d){try{o(l.next(d))}catch(f){i(f)}}function u(d){try{o(l.throw(d))}catch(f){i(f)}}function o(d){d.done?s(d.value):n(d.value).then(r,u)}o((l=l.apply(e,t||[])).next())})};class yp{constructor(t,a,l){var n,s,i;if(this.supabaseUrl=t,this.supabaseKey=a,!t)throw new Error("supabaseUrl is required.");if(!a)throw new Error("supabaseKey is required.");const r=_b(t),u=new URL(r);this.realtimeUrl=new URL("realtime/v1",u),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",u),this.storageUrl=new URL("storage/v1",u),this.functionsUrl=new URL("functions/v1",u);const o=`sb-${u.hostname.split(".")[0]}-auth-token`,d={db:hb,realtime:gb,auth:Object.assign(Object.assign({},mb),{storageKey:o}),global:fb},f=Sb(l??{},d);this.storageKey=(n=f.auth.storageKey)!==null&&n!==void 0?n:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,m)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(m)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((i=f.auth)!==null&&i!==void 0?i:{},this.headers,f.global.fetch),this.fetch=pb(a,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new Cy(new URL("rest/v1",u).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new dy(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new cb(this.storageUrl.href,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,a={},l={}){return this.rest.rpc(t,a,l)}channel(t,a={config:{}}){return this.realtime.channel(t,a)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,a;return vp(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:l}=yield this.auth.getSession();return(a=(t=l.session)===null||t===void 0?void 0:t.access_token)!==null&&a!==void 0?a:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:a,detectSessionInUrl:l,storage:n,storageKey:s,flowType:i,lock:r,debug:u},o,d){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new gp({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),o),storageKey:s,autoRefreshToken:t,persistSession:a,detectSessionInUrl:l,storage:n,flowType:i,lock:r,debug:u,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Py(this.realtimeUrl.href,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((a,l)=>{this._handleTokenChanged(a,"CLIENT",l==null?void 0:l.access_token)})}_handleTokenChanged(t,a,l){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==l?this.changedAccessToken=l:t==="SIGNED_OUT"&&(this.realtime.setAuth(),a=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const I0=(e,t,a)=>new yp(e,t,a),F0="https://gvwfcosljvivpcofqccp.supabase.co",em="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imd2d2Zjb3NsanZpdnBjb2ZxY2NwIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTMwMjg1NzAsImV4cCI6MjA2ODYwNDU3MH0.uHwtPimIdku_mni-B_tbvkkbRWnlRni4kK0NDu3WV9U",He=I0(F0,em);I0(F0,em);function bp(){const[e,t]=z.useState(""),[a,l]=z.useState(""),[n,s]=z.useState("class"),[i,r]=z.useState(""),[u,o]=z.useState(""),[d,f]=z.useState(""),[h,m]=z.useState(""),[w,N]=z.useState(!1),[O,y]=z.useState(""),[v,g]=z.useState("success"),[x,E]=z.useState([]),[R,D]=z.useState(1);z.useEffect(()=>{const b=new Date().toISOString().split("T")[0];t(b)},[]),z.useEffect(()=>{e&&a&&n&&A()},[e,a,n]);const A=async()=>{try{const{data:b,error:S}=await He.from("study_records").select("*").eq("study_date",e).eq("subject",a).eq("content_type",n).order("attempt_number",{ascending:!0});if(S)throw S;E(b||[]),D(((b==null?void 0:b.length)||0)+1)}catch(b){console.error("履歴取得エラー:",b)}},B=async b=>{if(b.preventDefault(),!e||!a||!n||!i||!u||!d){y("すべての項目を入力してください"),g("error");return}const S=parseInt(i),M=parseInt(u);if(isNaN(S)||isNaN(M)||S<=0||M<0||M>S){y("問題数と正解数を正しく入力してください"),g("error");return}try{N(!0),y("");const C=new Date().toISOString().split("T")[0],{error:j}=await He.from("study_records").insert([{date:C,study_date:e,subject:a,content_type:n,attempt_number:R,questions_total:S,questions_correct:M,emotion:d,comment:h.trim()||null}]);if(j)throw j;y("✅ 学習記録を保存しました！"),g("success"),r(""),o(""),f(""),m(""),await A()}catch(C){console.error("❌ 保存エラー:",C),y("保存に失敗しました。もう一度お試しください。"),g("error")}finally{N(!1)}},p=b=>({aptitude:"適性",japanese:"国語",math:"算数",science:"理科",social:"社会"})[b]||b,_=b=>b.length===0?"":b.map(S=>`${S.questions_correct}/${S.questions_total}`).join(" → ");return c.jsxs("div",{className:"max-w-2xl mx-auto p-6",children:[c.jsxs("div",{className:"text-center mb-8",children:[c.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:"📝 学習記録"}),c.jsx("p",{className:"text-slate-600 text-lg",children:"今日のがんばりを記録しよう！"})]}),x.length>0&&c.jsxs("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-xl",children:[c.jsx("h3",{className:"font-bold text-blue-800 mb-2",children:"📚 この学習内容の履歴"}),c.jsxs("div",{className:"text-blue-700",children:[c.jsxs("div",{className:"font-medium",children:[p(a),"（",n==="class"?"授業":"宿題","） - ",new Date(e).toLocaleDateString("ja-JP"),"実施分"]}),c.jsxs("div",{className:"text-lg mt-1",children:["これまでの成績: ",_(x)]}),c.jsxs("div",{className:"text-sm text-blue-600 mt-1",children:["今回は",R,"回目の挑戦です"]})]})]}),c.jsxs("form",{onSubmit:B,className:"space-y-6",children:[c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border",children:[c.jsx("label",{className:"block text-lg font-bold text-slate-700 mb-3",children:"📅 いつの学習内容ですか？"}),c.jsx("input",{type:"date",value:e,onChange:b=>t(b.target.value),max:new Date().toISOString().split("T")[0],className:"w-full text-lg p-4 border-2 border-slate-200 rounded-xl focus:border-blue-400 focus:ring-4 focus:ring-blue-100",required:!0}),c.jsx("p",{className:"text-sm text-slate-500 mt-2",children:"今日復習した学習内容が、いつ実施されたものかを選択してください"})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border",children:[c.jsx("label",{className:"block text-lg font-bold text-slate-700 mb-3",children:"📚 科目を選択"}),c.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-3",children:[{key:"aptitude",label:"適性",icon:"🧠",color:"purple"},{key:"japanese",label:"国語",icon:"📚",color:"rose"},{key:"math",label:"算数",icon:"🔢",color:"blue"},{key:"science",label:"理科",icon:"🔬",color:"green"},{key:"social",label:"社会",icon:"🌍",color:"amber"}].map(b=>c.jsxs("button",{type:"button",onClick:()=>l(b.key),className:`p-4 rounded-xl border-2 transition-all font-medium ${a===b.key?b.color==="purple"?"border-purple-400 bg-purple-50 text-purple-700":b.color==="rose"?"border-rose-400 bg-rose-50 text-rose-700":b.color==="blue"?"border-blue-400 bg-blue-50 text-blue-700":b.color==="green"?"border-green-400 bg-green-50 text-green-700":b.color==="amber"?"border-amber-400 bg-amber-50 text-amber-700":"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:[c.jsx("div",{className:"text-2xl mb-1",children:b.icon}),c.jsx("div",{className:"text-sm",children:b.label})]},b.key))})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border",children:[c.jsx("label",{className:"block text-lg font-bold text-slate-700 mb-3",children:"🎯 授業？宿題？"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("button",{type:"button",onClick:()=>s("class"),className:`p-4 rounded-xl border-2 transition-all font-medium ${n==="class"?"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:[c.jsx("div",{className:"text-3xl mb-2",children:"🏫"}),c.jsx("div",{className:"font-bold",children:"授業"}),c.jsx("div",{className:"text-sm",children:"授業で習った内容"})]}),c.jsxs("button",{type:"button",onClick:()=>s("homework"),className:`p-4 rounded-xl border-2 transition-all font-medium ${n==="homework"?"border-orange-400 bg-orange-50 text-orange-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:[c.jsx("div",{className:"text-3xl mb-2",children:"📝"}),c.jsx("div",{className:"font-bold",children:"宿題"}),c.jsx("div",{className:"text-sm",children:"宿題として出された内容"})]})]})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border",children:[c.jsx("label",{className:"block text-lg font-bold text-slate-700 mb-3",children:"🎯 今回の成績"}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"問題数（全体）"}),c.jsx("input",{type:"number",min:"1",max:"200",value:i,onChange:b=>r(b.target.value),className:"w-full text-lg p-3 border-2 border-slate-200 rounded-xl focus:border-blue-400 focus:ring-4 focus:ring-blue-100",placeholder:"例: 10",required:!0})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-600 mb-2",children:"正解数"}),c.jsx("input",{type:"number",min:"0",max:i||"200",value:u,onChange:b=>o(b.target.value),className:"w-full text-lg p-3 border-2 border-slate-200 rounded-xl focus:border-blue-400 focus:ring-4 focus:ring-blue-100",placeholder:"例: 7",required:!0})]})]}),i&&u&&c.jsx("div",{className:"mt-3 text-center",children:c.jsxs("span",{className:"text-2xl font-bold text-blue-600",children:["正答率: ",Math.round(parseInt(u)/parseInt(i)*100),"%"]})})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border",children:[c.jsx("label",{className:"block text-lg font-bold text-slate-700 mb-3",children:"😊 今日の気持ち"}),c.jsx("div",{className:"grid grid-cols-3 gap-3",children:[{key:"good",label:"よくできた",icon:"😊",color:"green"},{key:"normal",label:"普通",icon:"😐",color:"blue"},{key:"hard",label:"難しかった",icon:"😞",color:"orange"}].map(b=>c.jsxs("button",{type:"button",onClick:()=>f(b.key),className:`p-4 rounded-xl border-2 transition-all font-medium ${d===b.key?b.color==="green"?"border-green-400 bg-green-50 text-green-700":b.color==="blue"?"border-blue-400 bg-blue-50 text-blue-700":b.color==="orange"?"border-orange-400 bg-orange-50 text-orange-700":"border-blue-400 bg-blue-50 text-blue-700":"border-slate-200 bg-white text-slate-600 hover:border-slate-300"}`,children:[c.jsx("div",{className:"text-3xl mb-2",children:b.icon}),c.jsx("div",{className:"text-sm",children:b.label})]},b.key))})]}),c.jsxs("div",{className:"bg-white p-6 rounded-2xl shadow-sm border",children:[c.jsx("label",{className:"block text-lg font-bold text-slate-700 mb-3",children:"💭 今日の振り返り（自由記入）"}),c.jsx("textarea",{value:h,onChange:b=>m(b.target.value),maxLength:300,className:"w-full min-h-24 p-4 border-2 border-slate-200 rounded-xl focus:border-blue-400 focus:ring-4 focus:ring-blue-100 text-lg resize-none",placeholder:"今日の学習でどんなことを感じましたか？（任意）"}),c.jsxs("div",{className:"text-right text-sm text-slate-500 mt-2",children:[h.length,"/300文字"]})]}),O&&c.jsx("div",{className:`p-4 rounded-xl font-medium ${v==="success"?"bg-green-100 border border-green-300 text-green-800":"bg-red-100 border border-red-300 text-red-800"}`,children:O}),c.jsx("button",{type:"submit",disabled:w,className:"w-full bg-gradient-to-r from-blue-500 to-purple-600 text-white text-xl font-bold py-4 px-6 rounded-2xl hover:from-blue-600 hover:to-purple-700 transition-all shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:w?"保存中...":"📝 学習記録を保存"})]})]})}function pp(){const[e,t]=z.useState(null),[a,l]=z.useState([]),[n,s]=z.useState([]),[i,r]=z.useState(!0),[u,o]=z.useState(null);z.useEffect(()=>{d();const p=setInterval(d,3e4);return()=>clearInterval(p)},[]);const d=async()=>{try{r(!0),o(null);const{data:p,error:_}=await He.from("study_records").select("*").order("date",{ascending:!1});if(_)throw _;s(p||[]);const{data:b,error:S}=await He.from("feedbacks").select(`
          *,
          study_records (
            id,
            date,
            study_date,
            subject,
            content_type,
            attempt_number,
            questions_total,
            questions_correct,
            emotion,
            comment
          )
        `).order("created_at",{ascending:!1});if(S)throw S;const M=new Date().toISOString().split("T")[0],C=(p==null?void 0:p.filter(Ie=>Ie.date===M))||[],j=await f(C,p||[]),U=h(p||[]),k=m(p||[]),V=w(p||[]),le=N(p||[]),ct=O(p||[]);t({continueDays:U,cumulativeDays:k,todayRecords:j,subjectStats:V,recentEmotions:le,totalSessions:(p==null?void 0:p.length)||0,growthMetrics:ct}),l(b||[])}catch(p){const _=p instanceof Error?p.message:"データの取得に失敗しました";o(_),console.error("❌ ダッシュボードデータ取得エラー:",_)}finally{r(!1)}},f=async(p,_)=>{const b=new Map;for(const S of p){const M=`${S.study_date}-${S.subject}-${S.content_type}`,C=_.filter(U=>U.study_date===S.study_date&&U.subject===S.subject&&U.content_type===S.content_type&&U.date<=S.date).sort((U,k)=>U.attempt_number-k.attempt_number).map(U=>({attempt:U.attempt_number,correct:U.questions_correct,total:U.questions_total,accuracy:Math.round(U.questions_correct/U.questions_total*100),record_date:U.date,emotion:U.emotion})),j=_.filter(U=>U.study_date===S.study_date&&U.subject===S.subject&&U.content_type===S.content_type&&U.date===S.date).sort((U,k)=>k.attempt_number-U.attempt_number)[0]||S;b.set(M,{id:j.id,study_date:j.study_date,subject:j.subject,content_type:j.content_type,attempt_number:j.attempt_number,questions_total:j.questions_total,questions_correct:j.questions_correct,emotion:j.emotion,comment:j.comment,history:C})}return Array.from(b.values())},h=p=>{if(!p.length)return 0;const _=Array.from(new Set(p.map(M=>M.date))).sort().reverse();if(_.length===0)return 0;if(_.length===1)return 1;let b=1,S=new Date(_[0]);for(let M=1;M<_.length;M++){const C=new Date(_[M]),j=new Date(S);if(j.setDate(j.getDate()-1),j.getFullYear()===C.getFullYear()&&j.getMonth()===C.getMonth()&&j.getDate()===C.getDate())b++,S=C;else break}return b},m=p=>p.length?Array.from(new Set(p.map(b=>b.date))).sort().length:0,w=p=>[{key:"aptitude",label:"適性",icon:"🧠",color:"from-purple-400 to-purple-600"},{key:"japanese",label:"国語",icon:"📚",color:"from-rose-400 to-rose-600"},{key:"math",label:"算数",icon:"🔢",color:"from-blue-400 to-blue-600"},{key:"science",label:"理科",icon:"🔬",color:"from-green-400 to-green-600"},{key:"social",label:"社会",icon:"🌍",color:"from-amber-400 to-amber-600"}].map(b=>{const S=p.filter(U=>U.subject===b.key),M=S.reduce((U,k)=>U+k.questions_total,0),C=S.reduce((U,k)=>U+k.questions_correct,0),j=M>0?Math.round(C/M*100):0;return{subject:b.key,label:b.label,totalQuestions:M,totalCorrect:C,accuracy:j,icon:b.icon,color:b.color}}).filter(b=>b.totalQuestions>0),N=p=>{const _=new Map;return p.forEach(S=>{const M=S.date;_.has(M)||_.set(M,[]),_.get(M).push(S)}),Array.from(_.keys()).sort().reverse().slice(0,5).map(S=>{const M=_.get(S)||[],C={good:0,normal:0,hard:0};M.forEach(U=>{C[U.emotion]++});const j=Object.entries(C).sort(([,U],[,k])=>k-U)[0][0];return{date:S,emotion:j}})},O=p=>{const _=new Date().toISOString().split("T")[0],b=new Date(Date.now()-24*60*60*1e3).toISOString().split("T")[0],S=p.filter(fe=>fe.date===_),M=p.filter(fe=>fe.date===b),C=S.length>0?S.reduce((fe,ge)=>fe+ge.questions_correct/ge.questions_total,0)/S.length*100:0,j=M.length>0?M.reduce((fe,ge)=>fe+ge.questions_correct/ge.questions_total,0)/M.length*100:0,U={percentage:Math.abs(C-j),isImprovement:C>j},k=new Date,V=new Date(k.getTime()-k.getDay()*24*60*60*1e3),le=new Date(V.getTime()-7*24*60*60*1e3),ct=new Date(V.getTime()-1),Ie=p.filter(fe=>new Date(fe.date)>=V),Ge=p.filter(fe=>{const ge=new Date(fe.date);return ge>=le&&ge<=ct}),Me=Ie.length>0?Ie.reduce((fe,ge)=>fe+ge.questions_correct/ge.questions_total,0)/Ie.length*100:0,pa=Ge.length>0?Ge.reduce((fe,ge)=>fe+ge.questions_correct/ge.questions_total,0)/Ge.length*100:0,tm={current:Math.round(Me),previous:Math.round(pa),improvement:Math.round(Me-pa)},am=h(p),lm=new Date(k.getTime()-14*24*60*60*1e3),zc=new Date(k.getTime()-7*24*60*60*1e3),nm=["aptitude","japanese","math","science","social"],sm={aptitude:"適性",japanese:"国語",math:"算数",science:"理科",social:"社会"};let qc=null,Bc=0;return nm.forEach(fe=>{const ge=p.filter($t=>$t.subject===fe&&new Date($t.date)>=zc),qi=p.filter($t=>$t.subject===fe&&new Date($t.date)>=lm&&new Date($t.date)<zc);if(ge.length>0&&qi.length>0){const $t=ge.reduce((Hi,Ql)=>Hi+Ql.questions_correct/Ql.questions_total,0)/ge.length*100,im=qi.reduce((Hi,Ql)=>Hi+Ql.questions_correct/Ql.questions_total,0)/qi.length*100,Bi=$t-im;Bi>Bc&&(Bc=Bi,qc={subject:fe,label:sm[fe],improvement:Math.round(Bi)})}}),{todayImprovement:U,weeklyAverage:tm,consecutiveStreak:am,mostImprovedSubject:qc}},y=p=>{const _=[{key:"aptitude",label:"適性",color:"from-purple-400 to-purple-600"},{key:"japanese",label:"国語",color:"from-rose-400 to-rose-600"},{key:"math",label:"算数",color:"from-blue-400 to-blue-600"},{key:"science",label:"理科",color:"from-green-400 to-green-600"},{key:"social",label:"社会",color:"from-amber-400 to-amber-600"}],b=Array.from({length:7},(M,C)=>{const j=new Date;return j.setDate(j.getDate()-C),j.toISOString().split("T")[0]}).reverse();return _.map(M=>{const C=p.filter(k=>k.subject===M.key),j=b.map(k=>{const V=C.filter(Ge=>Ge.date===k);if(V.length===0)return{date:k,accuracy:null};const le=V.reduce((Ge,Me)=>Ge+Me.questions_correct,0),ct=V.reduce((Ge,Me)=>Ge+Me.questions_total,0),Ie=ct>0?Math.round(le/ct*100):0;return{date:k,accuracy:Ie}}),U=j.some(k=>k.accuracy!==null);return{subject:M.key,label:M.label,color:M.color,data:j,hasData:U}}).filter(M=>M.hasData)},v=p=>({good:"😊",normal:"😐",hard:"😞"})[p]||"😐",g=p=>({aptitude:"適性",japanese:"国語",math:"算数",science:"理科",social:"社会"})[p]||p,x=p=>({aptitude:"🎯",japanese:"✍️",math:"🔢",science:"🧪",social:"🌍"})[p]||"📚",E=p=>p==="class"?"授業":"宿題",R=p=>({good:"😊 よくできた",normal:"😐 普通",hard:"😞 難しかった"})[p]||p,D=p=>p.length<=1?"":p.map(_=>`(${_.correct}/${_.total})`).join(" → "),A=p=>!p||p==="1970-01-01"?"未設定":new Date(p).toLocaleDateString("ja-JP",{month:"numeric",day:"numeric"}),B=()=>{const p=new Date;return p.setDate(p.getDate()-7),a.filter(S=>new Date(S.created_at)>=p).sort((S,M)=>new Date(M.created_at).getTime()-new Date(S.created_at).getTime()).slice(0,10).map(S=>({feedback:S,record:S.study_records||null}))};return i?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-lg",children:"ダッシュボードを読み込み中..."})]}):u?c.jsx("div",{className:"p-8 text-center",children:c.jsxs("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-6",children:[c.jsx("h3",{className:"font-bold",children:"エラーが発生しました"}),c.jsx("p",{children:u}),c.jsx("button",{onClick:d,className:"mt-4 bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600",children:"再読み込み"})]})}):e?c.jsxs("div",{className:"p-6 max-w-6xl mx-auto space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-600 bg-clip-text text-transparent mb-2",children:"📊 学習ダッシュボード"}),c.jsx("p",{className:"text-slate-600 text-lg",children:"がんばりの記録を確認しよう！"})]}),c.jsxs("div",{className:"bg-gradient-to-r from-orange-400 to-red-500 text-white rounded-2xl p-8 text-center shadow-xl",children:[c.jsxs("div",{className:"flex items-center justify-center gap-4 mb-4",children:[c.jsx("span",{className:"text-6xl",children:"🔥"}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-4xl font-black",children:"継続日数"}),c.jsx("p",{className:"text-xl opacity-90",children:"がんばり日数"})]})]}),c.jsxs("div",{className:"flex items-center justify-center gap-8 mb-4",children:[c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-5xl font-black mb-1",children:[e.continueDays,c.jsx("span",{className:"text-2xl",children:"/17"})]}),c.jsx("div",{className:"text-lg opacity-80",children:"連続日数"})]}),c.jsx("div",{className:"text-white/50 text-4xl",children:"|"}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-5xl font-black mb-1",children:[e.cumulativeDays,c.jsx("span",{className:"text-2xl",children:"/17"})]}),c.jsx("div",{className:"text-lg opacity-80",children:"累積日数"})]})]}),c.jsx("div",{className:"text-xl opacity-90",children:e.continueDays>=17?"🎉 完走達成！":e.continueDays>=10?"💪 もう少し！":e.continueDays>=5?"🌟 順調です！":"📈 がんばろう！"})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4",children:[c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("span",{className:"text-2xl",children:"📈"}),c.jsx("h3",{className:"font-bold text-lg",children:"今日の成果"})]}),e.growthMetrics.todayImprovement.percentage>0?c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:`text-2xl font-bold ${e.growthMetrics.todayImprovement.isImprovement?"text-green-600":"text-red-600"}`,children:[e.growthMetrics.todayImprovement.isImprovement?"+":"-",e.growthMetrics.todayImprovement.percentage.toFixed(1),"%"]}),c.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["昨日より ",e.growthMetrics.todayImprovement.isImprovement?"UP!":"DOWN",e.growthMetrics.todayImprovement.isImprovement&&e.growthMetrics.todayImprovement.percentage>=10?" 🔥":""]})]}):c.jsx("div",{className:"text-center text-slate-500 text-sm",children:"昨日のデータなし"})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("span",{className:"text-2xl",children:"📊"}),c.jsx("h3",{className:"font-bold text-lg",children:"週間平均"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:[e.growthMetrics.weeklyAverage.current,"%"]}),e.growthMetrics.weeklyAverage.previous>0&&c.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["先週: ",e.growthMetrics.weeklyAverage.previous,"%",e.growthMetrics.weeklyAverage.improvement!==0&&c.jsxs("span",{className:`ml-1 ${e.growthMetrics.weeklyAverage.improvement>0?"text-green-600":"text-red-600"}`,children:["(",e.growthMetrics.weeklyAverage.improvement>0?"+":"",e.growthMetrics.weeklyAverage.improvement,"%)"]})]})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("span",{className:"text-2xl",children:"⭐"}),c.jsx("h3",{className:"font-bold text-lg",children:"連続記録"})]}),c.jsxs("div",{className:"text-center",children:[c.jsxs("div",{className:"text-2xl font-bold text-purple-600",children:[e.growthMetrics.consecutiveStreak,"日連続"]}),c.jsx("div",{className:"text-sm text-slate-600 mt-1",children:e.growthMetrics.consecutiveStreak>=5?"素晴らしい！":"がんばろう！"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl p-6 shadow-lg border",children:[c.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[c.jsx("span",{className:"text-2xl",children:"🚀"}),c.jsx("h3",{className:"font-bold text-lg",children:"成長科目"})]}),e.growthMetrics.mostImprovedSubject?c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"text-lg font-bold text-green-600",children:e.growthMetrics.mostImprovedSubject.label}),c.jsxs("div",{className:"text-sm text-slate-600 mt-1",children:["+",e.growthMetrics.mostImprovedSubject.improvement,"% UP!"]})]}):c.jsx("div",{className:"text-center text-slate-500 text-sm",children:"データ蓄積中"})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border",children:[c.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"📅"}),"今日の記録"]}),e.todayRecords.length>0?c.jsx("div",{className:"space-y-4",children:e.todayRecords.map(p=>c.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[c.jsxs("div",{className:"flex justify-between items-start mb-3",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"font-semibold text-lg",children:[g(p.subject),"（",E(p.content_type),"）"]}),c.jsxs("div",{className:"text-sm text-slate-500",children:[A(p.study_date),"実施分",p.attempt_number>1&&c.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:[p.attempt_number,"回目"]})]})]}),c.jsx("span",{className:"text-sm text-slate-500",children:R(p.emotion)})]}),c.jsxs("div",{className:"text-blue-600 font-medium mb-2",children:["現在: ",p.questions_correct,"/",p.questions_total,"問正解",c.jsxs("span",{className:"ml-2 text-sm text-slate-600",children:["(",Math.round(p.questions_correct/p.questions_total*100),"%)"]})]}),p.history.length>1&&c.jsxs("div",{className:"text-sm text-slate-600 mb-2",children:[c.jsx("span",{className:"font-medium",children:"成績の変化:"}),c.jsx("div",{className:"mt-1 font-mono text-blue-700",children:D(p.history)}),c.jsx("div",{className:"text-xs text-slate-500 mt-1",children:p.history.length>1&&c.jsxs("span",{children:["改善: +",p.history[p.history.length-1].accuracy-p.history[0].accuracy,"%"]})})]}),p.comment&&c.jsx("p",{className:"text-slate-600 text-sm mt-2 bg-white p-2 rounded",children:p.comment})]},p.id))}):c.jsxs("div",{className:"text-center py-8 text-slate-500",children:[c.jsx("span",{className:"text-4xl mb-4 block",children:"📝"}),c.jsx("p",{className:"text-lg",children:"今日はまだ学習記録がありません"}),c.jsx("p",{className:"text-sm",children:"がんばって記録をつけよう！"})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border",children:[c.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"💭"}),"最近の調子"]}),e.recentEmotions.length>0?c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex justify-center items-center gap-2 text-4xl",children:e.recentEmotions.map((p,_)=>c.jsx("span",{className:"transition-transform hover:scale-125",children:v(p.emotion)},_))}),c.jsx("div",{className:"text-center text-sm text-slate-500",children:e.recentEmotions.map((p,_)=>c.jsx("span",{className:"inline-block mx-1",children:new Date(p.date).toLocaleDateString("ja-JP",{month:"short",day:"numeric"})},_))})]}):c.jsxs("div",{className:"text-center py-8 text-slate-500",children:[c.jsx("span",{className:"text-4xl mb-4 block",children:"🤔"}),c.jsx("p",{children:"まだデータが少ないです"})]})]})]}),c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border",children:[c.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"📈"}),"科目別成績"]}),e.subjectStats.length>0?c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:"space-y-4 mb-8",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-4",children:"累積正答率"}),e.subjectStats.map(p=>c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"flex items-center gap-3 w-24",children:[c.jsx("span",{className:"text-2xl",children:p.icon}),c.jsx("span",{className:"font-medium",children:p.label})]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"flex-1 bg-slate-200 rounded-full h-6 overflow-hidden",children:c.jsx("div",{className:`h-full bg-gradient-to-r ${p.color} transition-all duration-500`,style:{width:`${p.accuracy}%`}})}),c.jsxs("div",{className:"text-lg font-bold text-slate-700 w-12 text-right",children:[p.accuracy,"%"]})]}),c.jsxs("div",{className:"text-sm text-slate-500 mt-1",children:[p.totalCorrect,"/",p.totalQuestions,"問正解"]})]})]},p.subject))]}),c.jsxs("div",{className:"border-t pt-6",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-700 mb-6",children:"7日間の正答率推移"}),(()=>{const p=y(n);return p.length===0?c.jsxs("div",{className:"text-center py-8 text-slate-500",children:[c.jsx("span",{className:"text-3xl mb-2 block",children:"📊"}),c.jsx("p",{children:"7日間のデータが不足しています"})]}):c.jsx("div",{className:"space-y-6",children:p.map(_=>c.jsxs("div",{className:"bg-slate-50 p-4 rounded-lg",children:[c.jsxs("h4",{className:"font-medium text-slate-700 mb-3",children:[_.label,"の推移"]}),c.jsxs("div",{className:"relative pl-8 sm:pl-10",children:[c.jsx("div",{className:"flex items-end justify-between h-32 sm:h-24 bg-white rounded p-2 border",children:_.data.map((b,S)=>c.jsxs("div",{className:"flex flex-col items-center flex-1",children:[c.jsx("div",{className:"w-full mx-1 flex flex-col justify-end h-20 sm:h-16",children:b.accuracy!==null?c.jsx("div",{className:`w-full bg-gradient-to-t ${_.color} rounded-t transition-all duration-300 hover:opacity-80 cursor-pointer`,style:{height:`${Math.max(b.accuracy,5)}%`,minHeight:b.accuracy>0?"8px":"2px"},title:`${b.accuracy}%`}):c.jsx("div",{className:"w-full h-1 bg-slate-200 rounded"})}),c.jsx("div",{className:"text-xs text-slate-500 mt-1 rotate-0 sm:rotate-0",children:new Date(b.date).toLocaleDateString("ja-JP",{month:"numeric",day:"numeric"})}),b.accuracy!==null&&c.jsxs("div",{className:"text-xs font-medium text-slate-700 mt-1",children:[b.accuracy,"%"]})]},S))}),c.jsxs("div",{className:"absolute left-0 top-2 bottom-2 flex flex-col justify-between text-xs text-slate-400",children:[c.jsx("span",{className:"bg-white px-1",children:"100%"}),c.jsx("span",{className:"bg-white px-1",children:"50%"}),c.jsx("span",{className:"bg-white px-1",children:"0%"})]})]}),c.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between items-start sm:items-center mt-3 text-sm text-slate-600 gap-2",children:[c.jsxs("span",{className:"bg-blue-50 px-2 py-1 rounded text-blue-700 font-medium",children:["平均: ",Math.round(_.data.filter(b=>b.accuracy!==null).reduce((b,S)=>b+(S.accuracy||0),0)/_.data.filter(b=>b.accuracy!==null).length)||0,"%"]}),c.jsxs("span",{className:"bg-green-50 px-2 py-1 rounded text-green-700 font-medium",children:["最高: ",Math.max(..._.data.map(b=>b.accuracy||0)),"%"]})]})]},_.subject))})})()]})]}):c.jsxs("div",{className:"text-center py-8 text-slate-500",children:[c.jsx("span",{className:"text-4xl mb-4 block",children:"📊"}),c.jsx("p",{children:"学習記録を追加すると成績が表示されます"})]})]}),B().length>0&&c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border",children:[c.jsxs("div",{className:"flex justify-between items-center mb-6",children:[c.jsxs("h2",{className:"text-2xl font-bold flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"💌"}),"最近の応援メッセージ・スタンプ"]}),c.jsx("button",{onClick:d,disabled:i,className:"px-3 py-1 text-sm bg-blue-100 text-blue-700 rounded-lg hover:bg-blue-200 disabled:opacity-50 transition-colors",children:"🔄 更新"})]}),c.jsx("div",{className:"space-y-4",children:B().map(p=>c.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl",children:[p.record&&c.jsxs("div",{className:"mb-3 p-3 bg-white rounded-lg border border-slate-200",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"text-lg",children:x(p.record.subject)}),c.jsx("span",{className:"font-semibold",children:g(p.record.subject)}),c.jsx("span",{className:"text-sm px-2 py-1 bg-slate-100 text-slate-600 rounded",children:E(p.record.content_type)}),p.record.attempt_number>1&&c.jsxs("span",{className:"text-sm px-2 py-1 bg-blue-100 text-blue-700 rounded",children:[p.record.attempt_number,"回目"]})]}),c.jsxs("div",{className:"text-sm text-slate-600 flex items-center gap-4",children:[c.jsxs("span",{children:["📅 ",A(p.record.study_date),"実施分"]}),c.jsxs("span",{className:"font-medium text-blue-600",children:["🎯 ",p.record.questions_correct,"/",p.record.questions_total,"問正解 (",Math.round(p.record.questions_correct/p.record.questions_total*100),"%)"]}),c.jsx("span",{children:R(p.record.emotion)})]})]}),c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("span",{className:`px-2 py-1 rounded text-sm font-medium ${p.feedback.sender_type==="parent"?"bg-pink-100 text-pink-800":"bg-blue-100 text-blue-800"}`,children:p.feedback.sender_type==="parent"?"👨‍👩‍👧‍👦 保護者":"👨‍🏫 指導者"}),p.feedback.reaction_type&&c.jsxs("span",{className:"text-2xl",children:[p.feedback.reaction_type==="clap"&&"👏",p.feedback.reaction_type==="thumbs"&&"👍",p.feedback.reaction_type==="muscle"&&"💪"]}),c.jsx("span",{className:"text-xs text-slate-500 ml-auto",children:new Date(p.feedback.created_at).toLocaleDateString("ja-JP",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),p.feedback.message&&typeof p.feedback.message=="string"&&p.feedback.message.trim()!==""?c.jsx("p",{className:"text-slate-700",children:p.feedback.message}):p.feedback.reaction_type&&c.jsxs("p",{className:"text-slate-600 italic text-sm",children:[p.feedback.reaction_type==="clap"&&"すごい！",p.feedback.reaction_type==="thumbs"&&"いいね！",p.feedback.reaction_type==="muscle"&&"頑張って！"]})]},p.feedback.id))})]})]}):null}function xp({userRole:e}){const[t,a]=z.useState([]),[l,n]=z.useState([]),[s,i]=z.useState(!0),[r,u]=z.useState(null),[o,d]=z.useState(""),[f,h]=z.useState(!1),[m,w]=z.useState(null);z.useEffect(()=>{N()},[]);const N=async()=>{try{i(!0);const _=new Date;_.setDate(_.getDate()-14);const b=_.toISOString().split("T")[0],{data:S,error:M}=await He.from("study_records").select("*").gte("date",b).order("date",{ascending:!1});if(M)throw M;const{data:C,error:j}=await He.from("feedbacks").select("*").order("created_at",{ascending:!1});if(j)throw j;const U=await O(S||[]);a(U),n(C||[])}catch(_){console.error("❌ データ取得エラー:",_)}finally{i(!1)}},O=async _=>{const b=[];for(const S of _){const M=_.filter(C=>C.study_date===S.study_date&&C.subject===S.subject&&C.content_type===S.content_type&&C.date<=S.date).sort((C,j)=>C.attempt_number-j.attempt_number).map(C=>({attempt:C.attempt_number,correct:C.questions_correct,total:C.questions_total,accuracy:Math.round(C.questions_correct/C.questions_total*100),record_date:C.date,emotion:C.emotion}));b.push({...S,history:M})}return b},y=async(_,b)=>{try{h(!0);const{error:S}=await He.from("feedbacks").insert([{record_id:_,sender_type:e,reaction_type:b,message:null}]);if(S)throw S;console.log("✅ リアクション送信成功"),h(!1),w({recordId:_,type:b}),setTimeout(()=>{w(null);const M={id:Date.now(),record_id:_,sender_type:e,reaction_type:b,message:void 0,created_at:new Date().toISOString()};n(C=>[M,...C])},2e3)}catch(S){console.error("❌ リアクション送信エラー:",S),alert("リアクションの送信に失敗しました"),h(!1),w(null)}},v=async _=>{if(!o.trim()){alert("コメントを入力してください");return}try{h(!0);const{error:b}=await He.from("feedbacks").insert([{record_id:_,sender_type:e,reaction_type:null,message:o.trim()}]);if(b)throw b;console.log("✅ コメント送信成功");const S={id:Date.now(),record_id:_,sender_type:e,reaction_type:void 0,message:o.trim(),created_at:new Date().toISOString()};n(M=>[S,...M]),d(""),u(null)}catch(b){console.error("❌ コメント送信エラー:",b),alert("コメントの送信に失敗しました")}finally{h(!1)}},g=_=>({aptitude:"適性",japanese:"国語",math:"算数",science:"理科",social:"社会"})[_]||_,x=_=>_==="class"?"授業":"宿題",E=_=>({good:"😊 よくできた",normal:"😐 普通",hard:"😞 難しかった"})[_]||_,R=_=>_==="parent"?"👨‍👩‍👧‍👦 保護者":"👨‍🏫 指導者",D=_=>l.filter(b=>b.record_id===_),A=_=>_.length<=1?"":_.map(b=>`(${b.correct}/${b.total})`).join(" → "),B=_=>!_||_==="1970-01-01"?"未設定":new Date(_).toLocaleDateString("ja-JP",{year:"numeric",month:"numeric",day:"numeric"}),p=_=>new Date(_).toLocaleDateString("ja-JP",{month:"numeric",day:"numeric"});return s?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),c.jsx("p",{className:"text-lg",children:"学習記録を読み込み中..."})]}):c.jsxs("div",{className:"p-6 max-w-5xl mx-auto space-y-8",children:[c.jsxs("div",{className:"text-center",children:[c.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-purple-600 via-pink-600 to-red-600 bg-clip-text text-transparent mb-2",children:"💌 応援・フィードバック"}),c.jsxs("p",{className:"text-slate-600 text-lg",children:[R(e),"として、がんばりを応援しよう！"]})]}),c.jsx("div",{className:"space-y-6",children:t.length>0?t.map(_=>{const b=D(_.id),S=Math.round(_.questions_correct/_.questions_total*100);return c.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-lg border",children:[c.jsxs("div",{className:"mb-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsxs("div",{children:[c.jsxs("h3",{className:"text-2xl font-bold text-slate-800 mb-2",children:[g(_.subject),"（",x(_.content_type),"）"]}),c.jsxs("div",{className:"flex items-center gap-4 text-slate-600",children:[c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"学習実施日:"})," ",B(_.study_date)]}),c.jsxs("div",{children:[c.jsx("span",{className:"font-medium",children:"記録日:"})," ",p(_.date)]}),_.attempt_number>1&&c.jsxs("span",{className:"px-2 py-1 bg-blue-100 text-blue-700 rounded text-sm font-medium",children:[_.attempt_number,"回目"]})]})]}),c.jsxs("div",{className:"text-right",children:[c.jsxs("div",{className:"text-3xl font-black text-blue-600",children:[S,"%"]}),c.jsxs("div",{className:"text-sm text-slate-500",children:[_.questions_correct,"/",_.questions_total,"問正解"]})]})]}),_.history.length>1&&c.jsxs("div",{className:"bg-blue-50 p-4 rounded-xl mb-4",children:[c.jsx("h4",{className:"font-bold text-blue-800 mb-2",children:"📈 成績の変化"}),c.jsxs("div",{className:"text-blue-700",children:[c.jsx("div",{className:"font-mono text-lg mb-2",children:A(_.history)}),c.jsxs("div",{className:"text-sm",children:[c.jsx("span",{className:"font-medium",children:"成長:"}),c.jsxs("span",{className:"ml-2 text-green-700 font-bold",children:["+",_.history[_.history.length-1].accuracy-_.history[0].accuracy,"%改善"]}),c.jsxs("span",{className:"ml-4 text-slate-600",children:["（",_.history.length,"回挑戦）"]})]}),c.jsx("div",{className:"text-xs text-blue-600 mt-1",children:_.history.map((M,C)=>c.jsxs("span",{className:"mr-3",children:[C+1,"回目: ",p(M.record_date)]},C))})]})]}),c.jsxs("div",{className:"bg-slate-50 p-4 rounded-xl mb-4",children:[c.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[c.jsx("span",{className:"text-lg font-medium",children:"今回の気持ち:"}),c.jsx("span",{className:"text-xl",children:E(_.emotion)})]}),_.comment&&c.jsxs("div",{children:[c.jsx("span",{className:"text-lg font-medium",children:"コメント:"}),c.jsxs("p",{className:"text-slate-700 mt-1",children:["「",_.comment,"」"]})]})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-lg font-bold mb-3",children:"応援する:"}),(m==null?void 0:m.recordId)===_.id?c.jsxs("div",{className:"bg-green-100 border border-green-300 text-green-800 px-6 py-4 rounded-xl flex items-center justify-center gap-3 animate-pulse",children:[c.jsxs("span",{className:"text-3xl",children:[m.type==="clap"&&"👏",m.type==="thumbs"&&"👍",m.type==="muscle"&&"💪"]}),c.jsx("span",{className:"font-bold text-lg",children:"応援を送信しました！"})]}):c.jsxs("div",{className:"flex gap-3",children:[c.jsxs("button",{onClick:()=>y(_.id,"clap"),disabled:f||(m==null?void 0:m.recordId)===_.id,className:"bg-yellow-100 hover:bg-yellow-200 text-yellow-800 px-6 py-3 rounded-xl font-medium transition-all hover:scale-105 flex items-center gap-2 disabled:opacity-50",children:[c.jsx("span",{className:"text-2xl",children:"👏"}),"すごい！"]}),c.jsxs("button",{onClick:()=>y(_.id,"thumbs"),disabled:f||(m==null?void 0:m.recordId)===_.id,className:"bg-blue-100 hover:bg-blue-200 text-blue-800 px-6 py-3 rounded-xl font-medium transition-all hover:scale-105 flex items-center gap-2 disabled:opacity-50",children:[c.jsx("span",{className:"text-2xl",children:"👍"}),"いいね！"]}),c.jsxs("button",{onClick:()=>y(_.id,"muscle"),disabled:f||(m==null?void 0:m.recordId)===_.id,className:"bg-red-100 hover:bg-red-200 text-red-800 px-6 py-3 rounded-xl font-medium transition-all hover:scale-105 flex items-center gap-2 disabled:opacity-50",children:[c.jsx("span",{className:"text-2xl",children:"💪"}),"頑張って！"]})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("h4",{className:"text-lg font-bold mb-3",children:"メッセージを送る:"}),(r==null?void 0:r.id)===_.id?c.jsxs("div",{className:"space-y-3",children:[c.jsx("textarea",{value:o,onChange:M=>d(M.target.value),maxLength:500,className:"w-full min-h-24 p-4 border-2 border-slate-200 rounded-xl focus:border-purple-400 focus:ring-4 focus:ring-purple-100 text-lg resize-none",placeholder:"応援のメッセージを書いてください..."}),c.jsxs("div",{className:"flex justify-between items-center",children:[c.jsxs("div",{className:"text-sm text-slate-500",children:[o.length,"/500文字"]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>{u(null),d("")},className:"px-4 py-2 bg-gray-100 text-gray-700 rounded-lg hover:bg-gray-200 transition-colors",children:"キャンセル"}),c.jsx("button",{onClick:()=>v(_.id),disabled:f||!o.trim(),className:"px-6 py-2 bg-purple-500 text-white rounded-lg hover:bg-purple-600 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:f?"送信中...":"送信"})]})]})]}):c.jsx("button",{onClick:()=>u(_),className:"w-full p-4 border-2 border-dashed border-slate-300 rounded-xl text-slate-500 hover:border-purple-400 hover:text-purple-600 transition-colors",children:"💬 メッセージを書く"})]}),b.length>0&&c.jsxs("div",{children:[c.jsx("h4",{className:"text-lg font-bold mb-3",children:"これまでの応援:"}),c.jsx("div",{className:"space-y-2",children:b.sort((M,C)=>new Date(C.created_at).getTime()-new Date(M.created_at).getTime()).map(M=>c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${M.sender_type==="parent"?"bg-pink-100 text-pink-700":"bg-blue-100 text-blue-700"}`,children:R(M.sender_type)}),M.reaction_type&&c.jsxs("span",{className:"text-lg",children:[M.reaction_type==="clap"&&"👏 すごい！",M.reaction_type==="thumbs"&&"👍 いいね！",M.reaction_type==="muscle"&&"💪 頑張って！"]}),c.jsx("span",{className:"text-xs text-slate-500 ml-auto",children:new Date(M.created_at).toLocaleDateString("ja-JP")})]}),M.message&&typeof M.message=="string"&&M.message.trim()!==""&&c.jsx("p",{className:"text-slate-700 text-sm mt-1",children:M.message})]},M.id))})]})]},_.id)}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx("span",{className:"text-6xl mb-4 block",children:"📝"}),c.jsx("h3",{className:"text-2xl font-bold text-slate-600 mb-2",children:"学習記録がまだありません"}),c.jsx("p",{className:"text-slate-500",children:"学習記録が投稿されると、ここに表示されます"})]})})]})}function _p(){const[e,t]=z.useState("study"),[a,l]=z.useState([]),[n,s]=z.useState(!0),[i,r]=z.useState(null),[u,o]=z.useState("all"),[d,f]=z.useState("date"),[h,m]=z.useState("desc");z.useEffect(()=>{w()},[]);const w=async()=>{try{s(!0),r(null);const{data:_,error:b}=await He.from("study_records").select("*").order("study_date",{ascending:!1}).order("date",{ascending:!1});if(b)throw b;const{data:S,error:M}=await He.from("feedbacks").select("*").order("created_at",{ascending:!1});if(M)throw M;const C=(_||[]).map(j=>({record:j,feedbacks:(S||[]).filter(U=>U.record_id===j.id)}));l(C)}catch(_){console.error("履歴データの読み込みでエラーが発生しました:",_),r("履歴データの読み込みに失敗しました。")}finally{s(!1)}},N=_=>({aptitude:"適性検査",japanese:"国語",math:"算数",science:"理科",social:"社会"})[_]||_,O=_=>({aptitude:"🎯",japanese:"✍️",math:"🔢",science:"🧪",social:"🌍"})[_]||"📚",y=_=>_==="class"?"授業":"宿題",v=_=>({good:"😊 よくできた",normal:"😐 ふつう",hard:"😵 むずかしかった"})[_]||_,g=_=>{const b=new Date(_);return`${b.getMonth()+1}/${b.getDate()}`},x=_=>new Date(_).toLocaleDateString("ja-JP",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"}),E=()=>{let _=a;return u!=="all"&&(_=a.filter(S=>S.record.subject===u)),[..._].sort((S,M)=>{let C=0;switch(d){case"date":C=new Date(S.record.study_date).getTime()-new Date(M.record.study_date).getTime();break;case"accuracy":const j=S.record.questions_correct/S.record.questions_total*100,U=M.record.questions_correct/M.record.questions_total*100;C=j-U;break;case"emotion":const k={hard:0,normal:1,good:2};C=k[S.record.emotion]-k[M.record.emotion];break}return h==="asc"?C:-C})},R=_=>{d===_?m(h==="asc"?"desc":"asc"):(f(_),m("desc"))},D=_=>d!==_?"↕️":h==="asc"?"↑":"↓",A=()=>{const _=E();return c.jsx("div",{className:"space-y-4",children:_.map(b=>c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow border",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-2xl",children:O(b.record.subject)}),c.jsxs("div",{children:[c.jsxs("h3",{className:"font-bold text-lg",children:[N(b.record.subject),"（",y(b.record.content_type),"）"]}),c.jsxs("div",{className:"text-sm text-slate-500",children:["📅 ",g(b.record.study_date),"実施分",b.record.attempt_number>1&&c.jsxs("span",{className:"ml-2 px-2 py-1 bg-blue-100 text-blue-700 rounded text-xs",children:[b.record.attempt_number,"回目"]})]})]})]}),c.jsxs("div",{className:"text-right text-sm text-slate-500",children:["記録日: ",x(b.record.date)]})]}),c.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-4",children:[c.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[c.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"正答率"}),c.jsxs("div",{className:"text-xl font-bold text-blue-700",children:[Math.round(b.record.questions_correct/b.record.questions_total*100),"%"]})]}),c.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[c.jsx("div",{className:"text-sm text-green-600 font-medium",children:"正解数"}),c.jsxs("div",{className:"text-xl font-bold text-green-700",children:[b.record.questions_correct,"/",b.record.questions_total]})]}),c.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[c.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"感想"}),c.jsx("div",{className:"text-lg text-purple-700",children:v(b.record.emotion)})]}),c.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[c.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"応援数"}),c.jsxs("div",{className:"text-xl font-bold text-orange-700",children:[b.feedbacks.length,"件"]})]})]}),b.record.comment&&c.jsxs("div",{className:"bg-slate-50 p-3 rounded-lg mb-4",children:[c.jsx("div",{className:"text-sm text-slate-600 font-medium mb-1",children:"コメント"}),c.jsx("p",{className:"text-slate-700",children:b.record.comment})]}),b.feedbacks.length>0&&c.jsxs("div",{className:"border-t pt-4",children:[c.jsxs("div",{className:"text-sm text-slate-600 font-medium mb-2",children:["応援メッセージ・スタンプ (",b.feedbacks.length,"件)"]}),c.jsx("div",{className:"space-y-2",children:b.feedbacks.map(S=>c.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${S.sender_type==="parent"?"bg-pink-100 text-pink-800":"bg-blue-100 text-blue-800"}`,children:S.sender_type==="parent"?"👨‍👩‍👧‍👦":"👨‍🏫"}),S.reaction_type&&c.jsxs("span",{className:"text-lg",children:[S.reaction_type==="clap"&&"👏",S.reaction_type==="thumbs"&&"👍",S.reaction_type==="muscle"&&"💪"]}),c.jsx("span",{className:"flex-1 text-slate-700",children:S.message||(S.reaction_type==="clap"?"すごい！":S.reaction_type==="thumbs"?"いいね！":S.reaction_type==="muscle"?"頑張って！":"")}),c.jsx("span",{className:"text-xs text-slate-500",children:x(S.created_at)})]},S.id))})]})]},b.record.id))})},B=()=>{const _=a.flatMap(b=>b.feedbacks.map(S=>({feedback:S,record:b.record}))).sort((b,S)=>new Date(S.feedback.created_at).getTime()-new Date(b.feedback.created_at).getTime());return c.jsx("div",{className:"space-y-4",children:_.map(({feedback:b,record:S})=>c.jsxs("div",{className:"bg-white p-6 rounded-xl shadow border",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[c.jsx("span",{className:`px-3 py-1 rounded text-sm font-medium ${b.sender_type==="parent"?"bg-pink-100 text-pink-800":"bg-blue-100 text-blue-800"}`,children:b.sender_type==="parent"?"👨‍👩‍👧‍👦 保護者":"👨‍🏫 指導者"}),b.reaction_type&&c.jsxs("span",{className:"text-2xl",children:[b.reaction_type==="clap"&&"👏",b.reaction_type==="thumbs"&&"👍",b.reaction_type==="muscle"&&"💪"]}),c.jsx("span",{className:"text-sm text-slate-500 ml-auto",children:x(b.created_at)})]}),c.jsxs("div",{className:"mb-3 p-3 bg-slate-50 rounded-lg",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[c.jsx("span",{className:"text-lg",children:O(S.subject)}),c.jsx("span",{className:"font-semibold",children:N(S.subject)}),c.jsx("span",{className:"text-sm px-2 py-1 bg-slate-200 text-slate-600 rounded",children:y(S.content_type)})]}),c.jsxs("div",{className:"text-sm text-slate-600",children:["📅 ",g(S.study_date),"実施分 | 🎯 ",S.questions_correct,"/",S.questions_total,"問正解 (",Math.round(S.questions_correct/S.questions_total*100),"%)"]})]}),b.message&&typeof b.message=="string"&&b.message.trim()!==""?c.jsx("p",{className:"text-slate-700 text-lg",children:b.message}):b.reaction_type&&c.jsxs("p",{className:"text-slate-600 italic",children:[b.reaction_type==="clap"&&"すごい！",b.reaction_type==="thumbs"&&"いいね！",b.reaction_type==="muscle"&&"頑張って！"]})]},b.id))})},p=()=>{const _=[...a.map(b=>({type:"study",data:b,date:b.record.date})),...a.flatMap(b=>b.feedbacks.map(S=>({type:"feedback",data:{feedback:S,record:b.record},date:S.created_at})))].sort((b,S)=>new Date(S.date).getTime()-new Date(b.date).getTime());return c.jsx("div",{className:"space-y-4",children:_.map((b,S)=>c.jsx("div",{className:"bg-white p-6 rounded-xl shadow border",children:b.type==="study"?c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"px-2 py-1 bg-green-100 text-green-800 rounded text-sm font-medium",children:"📝 学習記録"}),c.jsx("span",{className:"text-sm text-slate-500",children:x(b.data.record.date)})]}),c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("span",{className:"text-xl",children:O(b.data.record.subject)}),c.jsx("span",{className:"font-semibold",children:N(b.data.record.subject)}),c.jsx("span",{className:"text-sm px-2 py-1 bg-slate-100 text-slate-600 rounded",children:y(b.data.record.content_type)}),c.jsxs("span",{className:"text-sm text-blue-600 font-medium",children:[b.data.record.questions_correct,"/",b.data.record.questions_total,"問正解 (",Math.round(b.data.record.questions_correct/b.data.record.questions_total*100),"%)"]})]})]}):c.jsxs("div",{children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx("span",{className:"px-2 py-1 bg-purple-100 text-purple-800 rounded text-sm font-medium",children:"💌 応援"}),c.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${b.data.feedback.sender_type==="parent"?"bg-pink-100 text-pink-800":"bg-blue-100 text-blue-800"}`,children:b.data.feedback.sender_type==="parent"?"👨‍👩‍👧‍👦":"👨‍🏫"}),b.data.feedback.reaction_type&&c.jsxs("span",{className:"text-lg",children:[b.data.feedback.reaction_type==="clap"&&"👏",b.data.feedback.reaction_type==="thumbs"&&"👍",b.data.feedback.reaction_type==="muscle"&&"💪"]}),c.jsx("span",{className:"text-sm text-slate-500",children:x(b.data.feedback.created_at)})]}),c.jsxs("div",{className:"text-slate-700",children:[N(b.data.record.subject),"への応援: ",b.data.feedback.message||(b.data.feedback.reaction_type==="clap"?"すごい！":b.data.feedback.reaction_type==="thumbs"?"いいね！":b.data.feedback.reaction_type==="muscle"?"頑張って！":"")]})]})},`${b.type}-${S}`))})};return n?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin text-4xl",children:"⏳"}),c.jsx("p",{className:"mt-4 text-slate-600",children:"履歴を読み込み中..."})]}):i?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"text-4xl mb-4",children:"❌"}),c.jsx("p",{className:"text-red-600",children:i}),c.jsx("button",{onClick:w,className:"mt-4 px-4 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600",children:"再試行"})]}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"📚 学習履歴"}),c.jsx("p",{className:"text-center text-slate-600",children:"これまでの学習記録と応援メッセージを確認できます"})]}),c.jsx("div",{className:"bg-white rounded-xl shadow-lg mb-6",children:c.jsxs("div",{className:"flex border-b",children:[c.jsx("button",{onClick:()=>t("study"),className:`flex-1 py-4 px-6 text-center font-medium transition-colors ${e==="study"?"bg-blue-500 text-white rounded-t-xl":"text-slate-600 hover:text-blue-500"}`,children:"📝 学習履歴"}),c.jsx("button",{onClick:()=>t("feedback"),className:`flex-1 py-4 px-6 text-center font-medium transition-colors ${e==="feedback"?"bg-blue-500 text-white rounded-t-xl":"text-slate-600 hover:text-blue-500"}`,children:"💌 応援履歴"}),c.jsx("button",{onClick:()=>t("combined"),className:`flex-1 py-4 px-6 text-center font-medium transition-colors ${e==="combined"?"bg-blue-500 text-white rounded-t-xl":"text-slate-600 hover:text-blue-500"}`,children:"📊 まとめて表示"})]})}),e==="study"&&c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[c.jsxs("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[c.jsx("span",{children:"🔍"}),"絞り込み・並び替え"]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"科目で絞り込み"}),c.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-2",children:[c.jsx("button",{onClick:()=>o("all"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors min-h-[44px] ${u==="all"?"bg-blue-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:"すべて"}),c.jsxs("button",{onClick:()=>o("aptitude"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${u==="aptitude"?"bg-purple-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"🎯"})," 適性"]}),c.jsxs("button",{onClick:()=>o("japanese"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${u==="japanese"?"bg-rose-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"✍️"})," 国語"]}),c.jsxs("button",{onClick:()=>o("math"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${u==="math"?"bg-blue-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"🔢"})," 算数"]}),c.jsxs("button",{onClick:()=>o("science"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${u==="science"?"bg-green-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"🧪"})," 理科"]}),c.jsxs("button",{onClick:()=>o("social"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${u==="social"?"bg-amber-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"🌍"})," 社会"]})]})]}),c.jsxs("div",{className:"mb-6",children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-3",children:"並び替え"}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-2",children:[c.jsxs("button",{onClick:()=>R("date"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${d==="date"?"bg-blue-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"📅"})," 実施日 ",c.jsx("span",{className:"ml-1",children:D("date")})]}),c.jsxs("button",{onClick:()=>R("accuracy"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${d==="accuracy"?"bg-green-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"🎯"})," 正答率 ",c.jsx("span",{className:"ml-1",children:D("accuracy")})]}),c.jsxs("button",{onClick:()=>R("emotion"),className:`px-3 py-2 rounded-lg text-sm font-medium transition-colors flex items-center justify-center gap-1 min-h-[44px] ${d==="emotion"?"bg-purple-500 text-white shadow-md":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:[c.jsx("span",{className:"hidden sm:inline",children:"😊"})," 感想 ",c.jsx("span",{className:"ml-1",children:D("emotion")})]})]})]}),c.jsx("div",{className:"pt-4 border-t border-slate-200",children:c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-2 sm:gap-4 text-sm text-slate-600",children:[c.jsxs("span",{className:"font-medium",children:["表示中: ",c.jsx("span",{className:"text-blue-600",children:u==="all"?"すべての科目":N(u)})]}),c.jsx("span",{className:"hidden sm:inline",children:"•"}),c.jsxs("span",{children:["並び順: ",c.jsx("span",{className:"font-medium",children:d==="date"?"実施日":d==="accuracy"?"正答率":"感想"}),c.jsx("span",{className:"text-slate-500",children:h==="desc"?" (高い順)":" (低い順)"})]}),c.jsx("span",{className:"hidden sm:inline",children:"•"}),c.jsxs("span",{className:"font-bold text-blue-600 bg-blue-50 px-2 py-1 rounded",children:[E().length,"件"]})]})})]}),c.jsxs("div",{className:"mb-8",children:[e==="study"&&A(),e==="feedback"&&B(),e==="combined"&&p()]}),a.length===0&&c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-6xl mb-4",children:"📚"}),c.jsx("h2",{className:"text-2xl font-bold text-slate-600 mb-2",children:"履歴がありません"}),c.jsx("p",{className:"text-slate-500",children:"学習記録をつけると、ここに履歴が表示されます"})]})]})})}function Sp({userRole:e}){const[t,a]=z.useState([]),[l,n]=z.useState(!0),[s,i]=z.useState(null),[r,u]=z.useState(!1),[o,d]=z.useState(""),[f,h]=z.useState(""),[m,w]=z.useState(""),[N,O]=z.useState(null),[y,v]=z.useState("");z.useEffect(()=>{g();const A=new Date().toISOString().split("T")[0];d(A)},[]);const g=async()=>{try{n(!0),i(null);const{data:A,error:B}=await He.from("reflections").select("*").order("date",{ascending:!1});if(B)throw B;a(A||[])}catch(A){console.error("振り返りデータの読み込みでエラーが発生しました:",A),i("振り返りデータの読み込みに失敗しました。")}finally{n(!1)}},x=async A=>{if(A.preventDefault(),!o||!f.trim()){i("日付と振り返り内容は必須です。");return}try{u(!0),i(null);const B=t.find(p=>p.date===o);if(B){const{error:p}=await He.from("reflections").update({reflection_content:f.trim(),improvement_points:m.trim()||null}).eq("id",B.id);if(p)throw p}else{const{error:p}=await He.from("reflections").insert({date:o,reflection_content:f.trim(),improvement_points:m.trim()||null});if(p)throw p}h(""),w(""),await g()}catch(B){console.error("振り返りの保存でエラーが発生しました:",B),i("振り返りの保存に失敗しました。")}finally{u(!1)}},E=async A=>{if(!y.trim()){i("コメントを入力してください。");return}try{u(!0),i(null);const{error:B}=await He.from("reflections").update({teacher_comment:y.trim()}).eq("id",A);if(B)throw B;v(""),O(null),await g()}catch(B){console.error("先生コメントの保存でエラーが発生しました:",B),i("先生コメントの保存に失敗しました。")}finally{u(!1)}},R=A=>new Date(A).toLocaleDateString("ja-JP",{year:"numeric",month:"long",day:"numeric",weekday:"short"}),D=A=>new Date(A).toLocaleDateString("ja-JP",{month:"numeric",day:"numeric",hour:"2-digit",minute:"2-digit"});return l?c.jsxs("div",{className:"p-8 text-center",children:[c.jsx("div",{className:"animate-spin text-4xl",children:"⏳"}),c.jsx("p",{className:"mt-4 text-slate-600",children:"振り返りデータを読み込み中..."})]}):c.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-purple-50 p-4",children:c.jsxs("div",{className:"max-w-4xl mx-auto",children:[c.jsxs("div",{className:"mb-8",children:[c.jsx("h1",{className:"text-3xl font-bold text-center mb-2",children:"🤔 振り返り"}),c.jsx("p",{className:"text-center text-slate-600",children:e==="student"?"学習を振り返って、成長につなげよう":"生徒の振り返りにコメントして、成長をサポートしよう"})]}),s&&c.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",children:c.jsx("p",{className:"text-red-700",children:s})}),e==="student"&&c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-8",children:[c.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"✍️"}),"振り返りを記入する"]}),c.jsxs("form",{onSubmit:x,className:"space-y-6",children:[c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["振り返り日付 ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("input",{type:"date",value:o,onChange:A=>d(A.target.value),className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0}),t.find(A=>A.date===o)&&c.jsx("p",{className:"text-sm text-amber-600 mt-1",children:"⚠️ この日付の振り返りは既に存在します。保存すると上書きされます。"})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:["今日の振り返り ",c.jsx("span",{className:"text-red-500",children:"*"})]}),c.jsx("textarea",{value:f,onChange:A=>h(A.target.value),placeholder:"今日の学習はどうでしたか？うまくいったこと、うまくいかなかったことを書いてみましょう。",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-32 resize-none",required:!0}),c.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[f.length,"/500文字"]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-2",children:"明日からの改善点"}),c.jsx("textarea",{value:m,onChange:A=>w(A.target.value),placeholder:"明日からどんなことを改善したいですか？具体的な目標を書いてみましょう。",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-24 resize-none"}),c.jsxs("div",{className:"text-xs text-slate-500 mt-1",children:[m.length,"/300文字"]})]}),c.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"保存中...":"振り返りを保存"})]})]}),c.jsxs("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[c.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[c.jsx("span",{className:"text-2xl",children:"📖"}),"これまでの振り返り"]}),t.length>0?c.jsx("div",{className:"space-y-6",children:t.map(A=>c.jsxs("div",{className:"border border-slate-200 rounded-lg p-6",children:[c.jsxs("div",{className:"flex justify-between items-start mb-4",children:[c.jsx("h3",{className:"text-lg font-semibold text-slate-800",children:R(A.date)}),c.jsxs("span",{className:"text-sm text-slate-500",children:["記録: ",D(A.created_at)]})]}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"📝 振り返り内容"}),c.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:A.reflection_content})]}),A.improvement_points&&c.jsxs("div",{className:"bg-green-50 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-medium text-green-800 mb-2",children:"🎯 改善点"}),c.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:A.improvement_points})]}),A.teacher_comment?c.jsxs("div",{className:"bg-purple-50 p-4 rounded-lg",children:[c.jsx("h4",{className:"font-medium text-purple-800 mb-2",children:"👨‍🏫 先生からのコメント"}),c.jsx("p",{className:"text-slate-700 whitespace-pre-wrap",children:A.teacher_comment})]}):e==="teacher"&&c.jsx("div",{className:"bg-slate-50 p-4 rounded-lg",children:(N==null?void 0:N.id)===A.id?c.jsxs("div",{className:"space-y-3",children:[c.jsx("h4",{className:"font-medium text-slate-800",children:"👨‍🏫 先生からのコメントを追加"}),c.jsx("textarea",{value:y,onChange:B=>v(B.target.value),placeholder:"生徒の振り返りに対してコメントを書いてください。",className:"w-full px-3 py-2 border border-slate-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 h-24 resize-none"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>E(A.id),disabled:r,className:"px-4 py-2 bg-blue-500 text-white rounded-lg font-medium hover:bg-blue-600 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:r?"保存中...":"コメント保存"}),c.jsx("button",{onClick:()=>{O(null),v("")},className:"px-4 py-2 bg-slate-300 text-slate-700 rounded-lg font-medium hover:bg-slate-400 transition-colors",children:"キャンセル"})]})]}):c.jsx("button",{onClick:()=>O(A),className:"text-blue-600 hover:text-blue-800 font-medium",children:"💬 コメントを追加"})})]})]},A.id))}):c.jsxs("div",{className:"text-center py-12",children:[c.jsx("div",{className:"text-6xl mb-4",children:"📝"}),c.jsx("h2",{className:"text-2xl font-bold text-slate-600 mb-2",children:"振り返りがありません"}),c.jsx("p",{className:"text-slate-500",children:e==="student"?"上のフォームから振り返りを記入してみましょう":"生徒が振り返りを記入すると、ここに表示されます"})]})]})]})})}function wp({currentRole:e,onRoleChange:t}){const a=[{key:"student",label:"生徒",icon:"👧",description:"学習記録をつける",color:"from-blue-400 to-blue-600",bgColor:"bg-blue-50 border-blue-200"},{key:"parent",label:"保護者",icon:"👨‍👩‍👧‍👦",description:"子どもの学習を応援",color:"from-pink-400 to-pink-600",bgColor:"bg-pink-50 border-pink-200"},{key:"teacher",label:"指導者",icon:"👨‍🏫",description:"生徒の学習を指導",color:"from-green-400 to-green-600",bgColor:"bg-green-50 border-green-200"}],l=()=>a.find(n=>n.key===e)||a[0];return c.jsxs("div",{className:"space-y-6",children:[c.jsx("div",{className:"text-center",children:c.jsxs("div",{className:`inline-flex items-center gap-3 px-6 py-3 rounded-xl border-2 ${l().bgColor}`,children:[c.jsx("span",{className:"text-2xl",children:l().icon}),c.jsxs("div",{className:"text-left",children:[c.jsxs("div",{className:"font-bold text-lg",children:["現在: ",l().label,"モード"]}),c.jsx("div",{className:"text-sm text-slate-600",children:l().description})]})]})}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:a.map(n=>c.jsxs("button",{onClick:()=>t(n.key),className:`p-6 rounded-2xl border-2 transition-all duration-200 text-center ${e===n.key?`${n.bgColor} border-current shadow-lg scale-105`:"bg-white border-slate-200 hover:border-slate-300 hover:shadow-md hover:scale-102"}`,children:[c.jsx("div",{className:"text-4xl mb-3",children:n.icon}),c.jsxs("div",{className:"font-bold text-lg mb-1",children:[n.label,"として見る"]}),c.jsx("div",{className:"text-sm text-slate-600",children:n.description})]},n.key))}),c.jsx("div",{className:"text-center text-sm text-slate-500",children:c.jsx("p",{children:"役割を選択すると、それぞれに適した画面が表示されます"})})]})}function jp(){const[e,t]=z.useState("dashboard"),[a,l]=z.useState("student");return c.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[c.jsx("div",{className:"bg-white/80 backdrop-blur-sm border-b border-slate-200/50 sticky top-0 z-10",children:c.jsx("div",{className:"max-w-6xl mx-auto px-6 py-4",children:c.jsxs("div",{className:"flex justify-center gap-2 flex-wrap",children:[c.jsxs("div",{className:"flex items-center gap-4 mr-4",children:[c.jsx("span",{className:"text-sm font-medium text-slate-600",children:"現在:"}),c.jsxs("div",{className:`px-3 py-1 rounded-lg text-sm font-medium ${a==="student"?"bg-blue-100 text-blue-800":a==="parent"?"bg-pink-100 text-pink-800":"bg-green-100 text-green-800"}`,children:[a==="student"?"👧 生徒":a==="parent"?"👨‍👩‍👧‍👦 保護者":"👨‍🏫 指導者","モード"]})]}),a==="student"&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>t("dashboard"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="dashboard"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"📊 ダッシュボード"}),c.jsx("button",{onClick:()=>t("form"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="form"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"📝 学習記録"}),c.jsx("button",{onClick:()=>t("history"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="history"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"📚 学習履歴"}),c.jsx("button",{onClick:()=>t("reflection"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="reflection"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"🤔 振り返り"})]}),(a==="parent"||a==="teacher")&&c.jsxs(c.Fragment,{children:[c.jsx("button",{onClick:()=>t("dashboard"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="dashboard"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"📊 進捗確認"}),c.jsx("button",{onClick:()=>t("feedback"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="feedback"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"💌 フィードバック"}),c.jsx("button",{onClick:()=>t("history"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="history"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"📚 学習履歴"}),a==="teacher"&&c.jsx("button",{onClick:()=>t("reflection"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="reflection"?"bg-blue-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"🤔 振り返り"})]}),c.jsx("button",{onClick:()=>t("userSwitch"),className:`px-3 py-2 rounded-lg font-medium transition-colors text-sm ${e==="userSwitch"?"bg-purple-500 text-white":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:"👥 役割切り替え"})]})})}),e==="dashboard"&&c.jsx(pp,{}),e==="form"&&c.jsx(bp,{}),e==="feedback"&&c.jsx(xp,{userRole:a==="parent"?"parent":"teacher"}),e==="history"&&c.jsx(_p,{}),e==="reflection"&&c.jsx(Sp,{userRole:a==="teacher"?"teacher":"student"}),e==="userSwitch"&&c.jsx("div",{className:"p-8 max-w-4xl mx-auto",children:c.jsx(wp,{currentRole:a,onRoleChange:n=>{l(n),t("dashboard")}})})]})}sy.createRoot(document.getElementById("root")).render(c.jsx(Nm.StrictMode,{children:c.jsx(jp,{})}));
